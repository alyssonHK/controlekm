(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function C_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var wf={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function HE(){if(ay)return zl;ay=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var sy;function GE(){return sy||(sy=1,wf.exports=HE()),wf.exports}var B=GE(),Df={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function FE(){if(ly)return At;ly=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.iterator;function N(C){return C===null||typeof C!="object"?null:(C=R&&C[R]||C["@@iterator"],typeof C=="function"?C:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,W={};function Y(C,$,it){this.props=C,this.context=$,this.refs=W,this.updater=it||F}Y.prototype.isReactComponent={},Y.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},Y.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ot(){}ot.prototype=Y.prototype;function dt(C,$,it){this.props=C,this.context=$,this.refs=W,this.updater=it||F}var lt=dt.prototype=new ot;lt.constructor=dt,J(lt,Y.prototype),lt.isPureReactComponent=!0;var xt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Nt=Object.prototype.hasOwnProperty;function I(C,$,it,tt,ft,Rt){return it=Rt.ref,{$$typeof:s,type:C,key:$,ref:it!==void 0?it:null,props:Rt}}function A(C,$){return I(C.type,$,void 0,void 0,void 0,C.props)}function S(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function x(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return $[it]})}var O=/\/+/g;function k(C,$){return typeof C=="object"&&C!==null&&C.key!=null?x(""+C.key):$.toString(36)}function D(){}function Me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(D,D):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ae(C,$,it,tt,ft){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(Rt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case s:case e:vt=!0;break;case b:return vt=C._init,ae(vt(C._payload),$,it,tt,ft)}}if(vt)return ft=ft(C),vt=tt===""?"."+k(C,0):tt,xt(ft)?(it="",vt!=null&&(it=vt.replace(O,"$&/")+"/"),ae(ft,$,it,"",function(Ln){return Ln})):ft!=null&&(S(ft)&&(ft=A(ft,it+(ft.key==null||C&&C.key===ft.key?"":(""+ft.key).replace(O,"$&/")+"/")+vt)),$.push(ft)),1;vt=0;var De=tt===""?".":tt+":";if(xt(C))for(var Zt=0;Zt<C.length;Zt++)tt=C[Zt],Rt=De+k(tt,Zt),vt+=ae(tt,$,it,Rt,ft);else if(Zt=N(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(tt=C.next()).done;)tt=tt.value,Rt=De+k(tt,Zt++),vt+=ae(tt,$,it,Rt,ft);else if(Rt==="object"){if(typeof C.then=="function")return ae(Me(C),$,it,tt,ft);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return vt}function H(C,$,it){if(C==null)return C;var tt=[],ft=0;return ae(C,tt,"","",function(Rt){return $.call(it,Rt,ft++)}),tt}function nt(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var ct=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function zt(){}return At.Children={map:H,forEach:function(C,$,it){H(C,function(){$.apply(this,arguments)},it)},count:function(C){var $=0;return H(C,function(){$++}),$},toArray:function(C){return H(C,function($){return $})||[]},only:function(C){if(!S(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=Y,At.Fragment=i,At.Profiler=o,At.PureComponent=dt,At.StrictMode=a,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return _t.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,$,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var tt=J({},C.props),ft=C.key,Rt=void 0;if($!=null)for(vt in $.ref!==void 0&&(Rt=void 0),$.key!==void 0&&(ft=""+$.key),$)!Nt.call($,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&$.ref===void 0||(tt[vt]=$[vt]);var vt=arguments.length-2;if(vt===1)tt.children=it;else if(1<vt){for(var De=Array(vt),Zt=0;Zt<vt;Zt++)De[Zt]=arguments[Zt+2];tt.children=De}return I(C.type,ft,void 0,void 0,Rt,tt)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,$,it){var tt,ft={},Rt=null;if($!=null)for(tt in $.key!==void 0&&(Rt=""+$.key),$)Nt.call($,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ft[tt]=$[tt]);var vt=arguments.length-2;if(vt===1)ft.children=it;else if(1<vt){for(var De=Array(vt),Zt=0;Zt<vt;Zt++)De[Zt]=arguments[Zt+2];ft.children=De}if(C&&C.defaultProps)for(tt in vt=C.defaultProps,vt)ft[tt]===void 0&&(ft[tt]=vt[tt]);return I(C,Rt,void 0,void 0,null,ft)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=S,At.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:nt}},At.memo=function(C,$){return{$$typeof:v,type:C,compare:$===void 0?null:$}},At.startTransition=function(C){var $=_t.T,it={};_t.T=it;try{var tt=C(),ft=_t.S;ft!==null&&ft(it,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(zt,ct)}catch(Rt){ct(Rt)}finally{_t.T=$}},At.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},At.use=function(C){return _t.H.use(C)},At.useActionState=function(C,$,it){return _t.H.useActionState(C,$,it)},At.useCallback=function(C,$){return _t.H.useCallback(C,$)},At.useContext=function(C){return _t.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,$){return _t.H.useDeferredValue(C,$)},At.useEffect=function(C,$,it){var tt=_t.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(C,$)},At.useId=function(){return _t.H.useId()},At.useImperativeHandle=function(C,$,it){return _t.H.useImperativeHandle(C,$,it)},At.useInsertionEffect=function(C,$){return _t.H.useInsertionEffect(C,$)},At.useLayoutEffect=function(C,$){return _t.H.useLayoutEffect(C,$)},At.useMemo=function(C,$){return _t.H.useMemo(C,$)},At.useOptimistic=function(C,$){return _t.H.useOptimistic(C,$)},At.useReducer=function(C,$,it){return _t.H.useReducer(C,$,it)},At.useRef=function(C){return _t.H.useRef(C)},At.useState=function(C){return _t.H.useState(C)},At.useSyncExternalStore=function(C,$,it){return _t.H.useSyncExternalStore(C,$,it)},At.useTransition=function(){return _t.H.useTransition()},At.version="19.1.0",At}var oy;function hd(){return oy||(oy=1,Df.exports=FE()),Df.exports}var Wt=hd();const QE=C_(Wt);var Cf={exports:{}},Pl={},xf={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function YE(){return uy||(uy=1,function(s){function e(H,nt){var ct=H.length;H.push(nt);t:for(;0<ct;){var zt=ct-1>>>1,C=H[zt];if(0<o(C,nt))H[zt]=nt,H[ct]=C,ct=zt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var nt=H[0],ct=H.pop();if(ct!==nt){H[0]=ct;t:for(var zt=0,C=H.length,$=C>>>1;zt<$;){var it=2*(zt+1)-1,tt=H[it],ft=it+1,Rt=H[ft];if(0>o(tt,ct))ft<C&&0>o(Rt,tt)?(H[zt]=Rt,H[ft]=ct,zt=ft):(H[zt]=tt,H[it]=ct,zt=it);else if(ft<C&&0>o(Rt,ct))H[zt]=Rt,H[ft]=ct,zt=ft;else break t}}return nt}function o(H,nt){var ct=H.sortIndex-nt.sortIndex;return ct!==0?ct:H.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],b=1,R=null,N=3,F=!1,J=!1,W=!1,Y=!1,ot=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function xt(H){for(var nt=i(v);nt!==null;){if(nt.callback===null)a(v);else if(nt.startTime<=H)a(v),nt.sortIndex=nt.expirationTime,e(_,nt);else break;nt=i(v)}}function _t(H){if(W=!1,xt(H),!J)if(i(_)!==null)J=!0,Nt||(Nt=!0,k());else{var nt=i(v);nt!==null&&ae(_t,nt.startTime-H)}}var Nt=!1,I=-1,A=5,S=-1;function x(){return Y?!0:!(s.unstable_now()-S<A)}function O(){if(Y=!1,Nt){var H=s.unstable_now();S=H;var nt=!0;try{t:{J=!1,W&&(W=!1,dt(I),I=-1),F=!0;var ct=N;try{e:{for(xt(H),R=i(_);R!==null&&!(R.expirationTime>H&&x());){var zt=R.callback;if(typeof zt=="function"){R.callback=null,N=R.priorityLevel;var C=zt(R.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){R.callback=C,xt(H),nt=!0;break e}R===i(_)&&a(_),xt(H)}else a(_);R=i(_)}if(R!==null)nt=!0;else{var $=i(v);$!==null&&ae(_t,$.startTime-H),nt=!1}}break t}finally{R=null,N=ct,F=!1}nt=void 0}}finally{nt?k():Nt=!1}}}var k;if(typeof lt=="function")k=function(){lt(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Me=D.port2;D.port1.onmessage=O,k=function(){Me.postMessage(null)}}else k=function(){ot(O,0)};function ae(H,nt){I=ot(function(){H(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(H){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ct=N;N=nt;try{return H()}finally{N=ct}},s.unstable_requestPaint=function(){Y=!0},s.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=N;N=H;try{return nt()}finally{N=ct}},s.unstable_scheduleCallback=function(H,nt,ct){var zt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?zt+ct:zt):ct=zt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ct+C,H={id:b++,callback:nt,priorityLevel:H,startTime:ct,expirationTime:C,sortIndex:-1},ct>zt?(H.sortIndex=ct,e(v,H),i(_)===null&&H===i(v)&&(W?(dt(I),I=-1):W=!0,ae(_t,ct-zt))):(H.sortIndex=C,e(_,H),J||F||(J=!0,Nt||(Nt=!0,k()))),H},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(H){var nt=N;return function(){var ct=N;N=nt;try{return H.apply(this,arguments)}finally{N=ct}}}}(Vf)),Vf}var cy;function KE(){return cy||(cy=1,xf.exports=YE()),xf.exports}var Nf={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function XE(){if(hy)return Fe;hy=1;var s=hd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,b){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:_,containerInfo:v,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fe.createPortal=function(_,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,b)},Fe.flushSync=function(_){var v=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=b,a.d.f()}},Fe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Fe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Fe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var b=v.as,R=g(b,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:R,integrity:N,fetchPriority:F}):b==="script"&&a.d.X(_,{crossOrigin:R,integrity:N,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Fe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Fe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,R=g(b,v.crossOrigin);a.d.L(_,b,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Fe.preloadModule=function(_,v){if(typeof _=="string")if(v){var b=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Fe.requestFormReset=function(_){a.d.r(_)},Fe.unstable_batchedUpdates=function(_,v){return _(v)},Fe.useFormState=function(_,v,b){return d.H.useFormState(_,v,b)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.0",Fe}var fy;function ZE(){if(fy)return Nf.exports;fy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Nf.exports=XE(),Nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function $E(){if(dy)return Pl;dy=1;var s=KE(),e=hd(),i=ZE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,R=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ot=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case Y:return"Profiler";case W:return"StrictMode";case _t:return"Suspense";case Nt:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case lt:return(t.displayName||"Context")+".Provider";case dt:return(t._context.displayName||"Context")+".Consumer";case xt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var ae=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},zt=[],C=-1;function $(t){return{current:t}}function it(t){0>C||(t.current=zt[C],zt[C]=null,C--)}function tt(t,n){C++,zt[C]=t.current,t.current=n}var ft=$(null),Rt=$(null),vt=$(null),De=$(null);function Zt(t,n){switch(tt(vt,n),tt(Rt,t),tt(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Op(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Op(n),t=Mp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ft),tt(ft,t)}function Ln(){it(ft),it(Rt),it(vt)}function Ui(t){t.memoizedState!==null&&tt(De,t);var n=ft.current,r=Mp(n,t.type);n!==r&&(tt(Rt,t),tt(ft,r))}function li(t){Rt.current===t&&(it(ft),it(Rt)),De.current===t&&(it(De),Ol._currentValue=ct)}var Sr=Object.prototype.hasOwnProperty,Rr=s.unstable_scheduleCallback,wr=s.unstable_cancelCallback,Vs=s.unstable_shouldYield,co=s.unstable_requestPaint,dn=s.unstable_now,Rc=s.unstable_getCurrentPriorityLevel,Ns=s.unstable_ImmediatePriority,va=s.unstable_UserBlockingPriority,Dr=s.unstable_NormalPriority,wc=s.unstable_LowPriority,Ea=s.unstable_IdlePriority,Is=s.log,ho=s.unstable_setDisableYieldValue,se=null,qt=null;function rn(t){if(typeof Is=="function"&&ho(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(se,t)}catch{}}var He=Math.clz32?Math.clz32:Cr,fo=Math.log,Dc=Math.LN2;function Cr(t){return t>>>=0,t===0?32:31-(fo(t)/Dc|0)|0}var xr=256,Vr=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ta(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(y&=E,y!==0?c=Cn(y):r||(r=E&~t,r!==0&&(c=Cn(r))))):(E=l&~f,E!==0?c=Cn(E):y!==0?c=Cn(y):r||(r=l&~t,r!==0&&(c=Cn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Nr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Os(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var t=xr;return xr<<=1,(xr&4194048)===0&&(xr=256),t}function ks(){var t=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),t}function oi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ui(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Us(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,z=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-He(r),X=1<<G;E[G]=0,w[G]=-1;var P=z[G];if(P!==null)for(z[G]=null,G=0;G<P.length;G++){var j=P[G];j!==null&&(j.lane&=-536870913)}r&=~X}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function zn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-He(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ls(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-He(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Aa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zi(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:Wp(t.type))}function mo(t,n){var r=nt.p;try{return nt.p=t,n()}finally{nt.p=r}}var ee=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ee,de="__reactProps$"+ee,mn="__reactContainer$"+ee,zs="__reactEvents$"+ee,Cc="__reactListeners$"+ee,Pi="__reactHandles$"+ee,go="__reactResources$"+ee,Ir="__reactMarker$"+ee;function ji(t){delete t[Ee],delete t[de],delete t[zs],delete t[Cc],delete t[Pi]}function ci(t){var n=t[Ee];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=zp(t);t!==null;){if(r=t[Ee])return r;t=zp(t)}return n}t=r,r=t.parentNode}return null}function Pn(t){if(t=t[Ee]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function jn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Xe(t){var n=t[go];return n||(n=t[go]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Ir]=!0}var Ps=new Set,ba={};function xn(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(ba[t]=n,t=0;t<n.length;t++)Ps.add(n[t])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},Or={};function _o(t){return Sr.call(Or,t)?!0:Sr.call(yo,t)?!1:po.test(t)?Or[t]=!0:(yo[t]=!0,!1)}function Bi(t,n,r){if(_o(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function ke(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Mr,vo;function fi(t){if(Mr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Mr=n&&n[1]||"",vo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mr+t+vo}var Sa=!1;function Ra(t,n){if(!t||Sa)return"";Sa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(j){var P=j}Reflect.construct(t,[],X)}else{try{X.call()}catch(j){P=j}t.call(X.prototype)}}else{try{throw Error()}catch(j){P=j}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(j){if(j&&P&&typeof j.stack=="string")return[j.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var w=y.split(`
`),z=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===z.length)for(l=w.length-1,c=z.length-1;1<=l&&0<=c&&w[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==z[c]){var G=`
`+w[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Sa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?fi(r):""}function js(t){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Ra(t.type,!1);case 11:return Ra(t.type.render,!1);case 1:return Ra(t.type,!0);case 31:return fi("Activity");default:return""}}function wa(t){try{var n="";do n+=js(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xc(t){var n=Bs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Da(t){t._valueTracker||(t._valueTracker=xc(t))}function qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Bs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function kr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vc=/[\n"\\]/g;function me(t){return t.replace(Vc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?qi(t,y,Ze(n)):r!=null?qi(t,y,Ze(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ze(E):t.removeAttribute("name")}function Ur(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ze(r):"",n=n!=null?""+Ze(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function qi(t,n,r){n==="number"&&kr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function di(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ze(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ze(r):""}function Lr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ae(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ze(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||zr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Hs(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Eo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Eo(t,f,n[f])}function Gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ic=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(t){return Ic.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,pi=null;function Fs(t){var n=Pn(t);if(n&&(t=n.stateNode)){var r=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[de]||null;if(!c)throw Error(a(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&qs(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&di(t,!!r.multiple,n,!1)}}}var qn=!1;function To(t,n,r){if(qn)return t(n,r);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(gi!==null||pi!==null)&&(mu(),gi&&(n=gi,t=pi,pi=gi=null,Fs(n),t)))for(n=0;n<t.length;n++)Fs(t[n])}}function Pr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[de]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Vn)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{yn=!1}var Hn=null,Hi=null,yi=null;function Qs(){if(yi)return yi;var t,n=Hi,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return yi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Ys(){return!1}function Ce(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:Ys,this.isPropagationStopped=Ys,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Ce(jt),Br=b({},jt,{view:0,detail:0}),Ao=Ce(Br),Va,Na,Qn,qr=b({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Va=t.screenX-Qn.screenX,Na=t.screenY-Qn.screenY):Na=Va=0,Qn=t),Va)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),_n=Ce(qr),bo=b({},qr,{dataTransfer:0}),Oc=Ce(bo),Hr=b({},Br,{relatedTarget:0}),Ia=Ce(Hr),Ks=b({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=Ce(Ks),So=b({},jt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=Ce(So),Mc=b({},jt,{data:0}),Xs=Ce(Mc),Gr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ro={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wo[t])?!!n[t]:!1}function Fr(){return Zs}var Do=b({},Br,{key:function(t){if(t.key){var n=Gr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ro[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ka=Ce(Do),Co=b({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=Ce(Co),_i=b({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),xo=Ce(_i),Vo=b({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),No=Ce(Vo),Io=b({},qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=Ce(Io),$e=b({},jt,{newState:0,oldState:0}),Oo=Ce($e),Mo=[9,13,27,32],Yn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,p=Vn&&(!Yn||u&&8<u&&11>=u),T=" ",U=!1;function q(t,n){switch(t){case"keyup":return Mo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function Te(t,n){switch(t){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return t=n.data,t===T&&U?null:t;default:return null}}function Ot(t,n){if(It)return t==="compositionend"||!Yn&&q(t,n)?(t=Qs(),yi=Hi=Hn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xe[t.type]:n==="textarea"}function vi(t,n,r,l){gi?pi?pi.push(l):pi=[l]:gi=l,n=Eu(n,"onChange"),0<n.length&&(r=new xa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Kn=null;function Js(t){Cp(t,0)}function ko(t){var n=jn(t);if(qs(n))return t}function Xd(t,n){if(t==="change")return n}var Zd=!1;if(Vn){var kc;if(Vn){var Uc="oninput"in document;if(!Uc){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),Uc=typeof $d.oninput=="function"}kc=Uc}else kc=!1;Zd=kc&&(!document.documentMode||9<document.documentMode)}function Jd(){Ue&&(Ue.detachEvent("onpropertychange",Wd),Kn=Ue=null)}function Wd(t){if(t.propertyName==="value"&&ko(Kn)){var n=[];vi(n,Kn,t,pn(t)),To(Js,n)}}function vv(t,n,r){t==="focusin"?(Jd(),Ue=n,Kn=r,Ue.attachEvent("onpropertychange",Wd)):t==="focusout"&&Jd()}function Ev(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ko(Kn)}function Tv(t,n){if(t==="click")return ko(n)}function Av(t,n){if(t==="input"||t==="change")return ko(n)}function bv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:bv;function Ws(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Sr.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function tm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function em(t,n){var r=tm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=tm(r)}}function nm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?nm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function im(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=kr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=kr(t.document)}return n}function Lc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Sv=Vn&&"documentMode"in document&&11>=document.documentMode,La=null,zc=null,tl=null,Pc=!1;function rm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Pc||La==null||La!==kr(l)||(l=La,"selectionStart"in l&&Lc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&Ws(tl,l)||(tl=l,l=Eu(zc,"onSelect"),0<l.length&&(n=new xa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=La)))}function Qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var za={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},jc={},am={};Vn&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Yr(t){if(jc[t])return jc[t];if(!za[t])return t;var n=za[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in am)return jc[t]=n[r];return t}var sm=Yr("animationend"),lm=Yr("animationiteration"),om=Yr("animationstart"),Rv=Yr("transitionrun"),wv=Yr("transitionstart"),Dv=Yr("transitioncancel"),um=Yr("transitionend"),cm=new Map,Bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bc.push("scrollEnd");function Nn(t,n){cm.set(t,n),xn(n,[t])}var hm=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=hm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:wa(n)},hm.set(t,n),n)}return{value:t,source:n,stack:wa(n)}}var En=[],Pa=0,qc=0;function Uo(){for(var t=Pa,n=qc=Pa=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&fm(r,c,f)}}function Lo(t,n,r,l){En[Pa++]=t,En[Pa++]=n,En[Pa++]=r,En[Pa++]=l,qc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hc(t,n,r,l){return Lo(t,n,r,l),zo(t)}function ja(t,n){return Lo(t,null,null,n),zo(t)}function fm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-He(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function zo(t){if(50<Rl)throw Rl=0,Xh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={};function Cv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,r,l){return new Cv(t,n,r,l)}function Gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,n){var r=t.alternate;return r===null?(r=ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function dm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Po(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Gc(t)&&(y=1);else if(typeof t=="string")y=VE(t,r,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case S:return t=ln(31,r,n,c),t.elementType=S,t.lanes=f,t;case J:return Kr(r.children,c,f,n);case W:y=8,c|=24;break;case Y:return t=ln(12,r,n,c|2),t.elementType=Y,t.lanes=f,t;case _t:return t=ln(13,r,n,c),t.elementType=_t,t.lanes=f,t;case Nt:return t=ln(19,r,n,c),t.elementType=Nt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ot:case lt:y=10;break t;case dt:y=9;break t;case xt:y=11;break t;case I:y=14;break t;case A:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=ln(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=ln(7,t,l,n),t.lanes=r,t}function Fc(t,n,r){return t=ln(6,t,null,n),t.lanes=r,t}function Qc(t,n,r){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qa=[],Ha=0,jo=null,Bo=0,Tn=[],An=0,Xr=null,Ti=1,Ai="";function Zr(t,n){qa[Ha++]=Bo,qa[Ha++]=jo,jo=t,Bo=n}function mm(t,n,r){Tn[An++]=Ti,Tn[An++]=Ai,Tn[An++]=Xr,Xr=t;var l=Ti;t=Ai;var c=32-He(l)-1;l&=~(1<<c),r+=1;var f=32-He(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ti=1<<32-He(n)+c|r<<c|l,Ai=f+t}else Ti=1<<f|r<<c|l,Ai=t}function Yc(t){t.return!==null&&(Zr(t,1),mm(t,1,0))}function Kc(t){for(;t===jo;)jo=qa[--Ha],qa[Ha]=null,Bo=qa[--Ha],qa[Ha]=null;for(;t===Xr;)Xr=Tn[--An],Tn[An]=null,Ai=Tn[--An],Tn[An]=null,Ti=Tn[--An],Tn[An]=null}var Je=null,le=null,Pt=!1,$r=null,Xn=!1,Xc=Error(a(519));function Jr(t){var n=Error(a(418,""));throw il(vn(n,t)),Xc}function gm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[de]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<Dl.length;r++)Ct(Dl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Ur(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Da(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Lr(n,l.value,l.defaultValue,l.children),Da(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Ip(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=Tu),n=!0):n=!1,n||Jr(t)}function pm(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Je=Je.return}}function el(t){if(t!==Je)return!1;if(!Pt)return pm(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||ff(t.type,t.memoizedProps)),r=!r),r&&le&&Jr(t),pm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,ar(t.type)?(t=pf,pf=null,le=t):le=n):le=Je?On(t.stateNode.nextSibling):null;return!0}function nl(){le=Je=null,Pt=!1}function ym(){var t=$r;return t!==null&&(en===null?en=t:en.push.apply(en,t),$r=null),t}function il(t){$r===null?$r=[t]:$r.push(t)}var Zc=$(null),Wr=null,bi=null;function Gi(t,n,r){tt(Zc,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=Zc.current,it(Zc)}function $c(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Jc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),$c(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),$c(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function rl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===De.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&Jc(n,t,r,l),n.flags|=262144}function qo(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){Wr=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return _m(Wr,t)}function Ho(t,n){return Wr===null&&ta(t),_m(t,n)}function _m(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},bi===null){if(t===null)throw Error(a(308));bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bi=bi.next=n;return r}var xv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Vv=s.unstable_scheduleCallback,Nv=s.unstable_NormalPriority,be={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wc(){return{controller:new xv,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&Vv(Nv,function(){t.controller.abort()})}var sl=null,th=0,Ga=0,Fa=null;function Iv(t,n){if(sl===null){var r=sl=[];th=0,Ga=nf(),Fa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return th++,n.then(vm,vm),n}function vm(){if(--th===0&&sl!==null){Fa!==null&&(Fa.status="fulfilled");var t=sl;sl=null,Ga=0,Fa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Ov(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Em=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Iv(t,n),Em!==null&&Em(t,n)};var ea=$(null);function eh(){var t=ea.current;return t!==null?t:$t.pooledCache}function Go(t,n){n===null?tt(ea,ea.current):tt(ea,n.pool)}function Tm(){var t=eh();return t===null?null:{parent:be._currentValue,pool:t}}var ll=Error(a(460)),Am=Error(a(474)),Fo=Error(a(542)),nh={then:function(){}};function bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qo(){}function Sm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Qo,Qo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wm(t),t;default:if(typeof n.status=="string")n.then(Qo,Qo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wm(t),t}throw ol=n,ll}}var ol=null;function Rm(){if(ol===null)throw Error(a(459));var t=ol;return ol=null,t}function wm(t){if(t===ll||t===Fo)throw Error(a(483))}var Fi=!1;function ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=zo(t),fm(t,null,r),n}return Lo(t,l,n,r),zo(t)}function ul(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ls(t,r)}}function ah(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var sh=!1;function cl(){if(sh){var t=Fa;if(t!==null)throw t}}function hl(t,n,r,l){sh=!1;var c=t.updateQueue;Fi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,z=w.next;w.next=null,y===null?f=z:y.next=z,y=w;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=w))}if(f!==null){var X=c.baseState;y=0,G=z=w=null,E=f;do{var P=E.lane&-536870913,j=P!==E.lane;if(j?(Mt&P)===P:(l&P)===P){P!==0&&P===Ga&&(sh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,mt=E;P=n;var Kt=r;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){X=yt.call(Kt,X,P);break t}X=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,P=typeof yt=="function"?yt.call(Kt,X,P):yt,P==null)break t;X=b({},X,P);break t;case 2:Fi=!0}}P=E.callback,P!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[P]:j.push(P))}else j={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=j,w=X):G=G.next=j,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);G===null&&(w=X),c.baseState=w,c.firstBaseUpdate=z,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),er|=y,t.lanes=y,t.memoizedState=X}}function Dm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Cm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Dm(r[t],n)}var Qa=$(null),Yo=$(0);function xm(t,n){t=Ni,tt(Yo,t),tt(Qa,n),Ni=t|n.baseLanes}function lh(){tt(Yo,Ni),tt(Qa,Qa.current)}function oh(){Ni=Yo.current,it(Qa),it(Yo)}var Ki=0,bt=null,Qt=null,ge=null,Ko=!1,Ya=!1,na=!1,Xo=0,fl=0,Ka=null,Mv=0;function ce(){throw Error(a(321))}function uh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function ch(t,n,r,l,c,f){return Ki=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?fg:dg,na=!1,f=r(l,c),na=!1,Ya&&(f=Nm(n,r,l,c)),Vm(t),f}function Vm(t){H.H=eu;var n=Qt!==null&&Qt.next!==null;if(Ki=0,ge=Qt=bt=null,Ko=!1,fl=0,Ka=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&qo(t)&&(Ve=!0))}function Nm(t,n,r,l){bt=t;var c=0;do{if(Ya&&(Ka=null),fl=0,Ya=!1,25<=c)throw Error(a(301));if(c+=1,ge=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Bv,f=n(r,l)}while(Ya);return f}function kv(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?dl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(bt.flags|=1024),n}function hh(){var t=Xo!==0;return Xo=0,t}function fh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function dh(t){if(Ko){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ko=!1}Ki=0,ge=Qt=bt=null,Ya=!1,fl=Xo=0,Ka=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?bt.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Qt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=ge===null?bt.memoizedState:ge.next;if(n!==null)ge=n,Qt=t;else{if(t===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?bt.memoizedState=ge=t:ge=ge.next=t}return ge}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var n=fl;return fl+=1,Ka===null&&(Ka=[]),t=Sm(Ka,t,n),n=bt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?fg:dg),t}function Zo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===lt)return Ge(t)}throw Error(a(438,String(t)))}function gh(t){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=mh(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=x;return n.index++,r}function Ri(t,n){return typeof n=="function"?n(t):n}function $o(t){var n=pe();return ph(n,Qt,t)}function ph(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,w=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Mt&X)===X:(Ki&X)===X){var P=z.revertLane;if(P===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ga&&(G=!0);else if((Ki&P)===P){z=z.next,P===Ga&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=X,y=f):w=w.next=X,bt.lanes|=P,er|=P;X=z.action,na&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else P={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=P,y=f):w=w.next=P,bt.lanes|=X,er|=X;z=z.next}while(z!==null&&z!==n);if(w===null?y=f:w.next=E,!sn(f,t.memoizedState)&&(Ve=!0,G&&(r=Fa,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yh(t){var n=pe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Im(t,n,r){var l=bt,c=pe(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!sn((Qt||c).memoizedState,r);y&&(c.memoizedState=r,Ve=!0),c=c.queue;var E=km.bind(null,l,c,t);if(ml(2048,8,E,[t]),c.getSnapshot!==n||y||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Xa(9,Jo(),Mm.bind(null,l,c,r,n),null),$t===null)throw Error(a(349));f||(Ki&124)!==0||Om(l,n,r)}return r}function Om(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=mh(),bt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Mm(t,n,r,l){n.value=r,n.getSnapshot=l,Um(n)&&Lm(t)}function km(t,n,r){return r(function(){Um(n)&&Lm(t)})}function Um(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function Lm(t){var n=ja(t,2);n!==null&&fn(n,t,2)}function _h(t){var n=We();if(typeof t=="function"){var r=t;if(t=r(),na){rn(!0);try{r()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function zm(t,n,r,l){return t.baseState=r,ph(t,Qt,typeof l=="function"?l:Ri)}function Uv(t,n,r,l,c){if(tu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Pm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Pm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),w=H.S;w!==null&&w(y,E),jm(t,n,E)}catch(z){vh(t,n,z)}finally{H.T=f}}else try{f=r(c,l),jm(t,n,f)}catch(z){vh(t,n,z)}}function jm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Bm(t,n,l)},function(l){return vh(t,n,l)}):Bm(t,n,r)}function Bm(t,n,r){n.status="fulfilled",n.value=r,qm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Pm(t,r)))}function vh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,qm(n),n=n.next;while(n!==l)}t.action=null}function qm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Hm(t,n){return n}function Gm(t,n){if(Pt){var r=$t.formState;if(r!==null){t:{var l=bt;if(Pt){if(le){e:{for(var c=le,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=On(c.nextSibling),l=c.data==="F!";break t}}Jr(l)}l=!1}l&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hm,lastRenderedState:n},r.queue=l,r=ug.bind(null,bt,l),l.dispatch=r,l=_h(!1),f=Sh.bind(null,bt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Uv.bind(null,bt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Fm(t){var n=pe();return Qm(n,Qt,t)}function Qm(t,n,r){if(n=ph(t,n,Hm)[0],t=$o(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=dl(n)}catch(y){throw y===ll?Fo:y}else l=n;n=pe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(bt.flags|=2048,Xa(9,Jo(),Lv.bind(null,c,r),null)),[l,f,t]}function Lv(t,n){t.action=n}function Ym(t){var n=pe(),r=Qt;if(r!==null)return Qm(n,r,t);pe(),n=n.memoizedState,r=pe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Xa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=mh(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Jo(){return{destroy:void 0,resource:void 0}}function Km(){return pe().memoizedState}function Wo(t,n,r,l){var c=We();l=l===void 0?null:l,bt.flags|=t,c.memoizedState=Xa(1|n,Jo(),r,l)}function ml(t,n,r,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&uh(l,Qt.memoizedState.deps)?c.memoizedState=Xa(n,f,r,l):(bt.flags|=t,c.memoizedState=Xa(1|n,f,r,l))}function Xm(t,n){Wo(8390656,8,t,n)}function Zm(t,n){ml(2048,8,t,n)}function $m(t,n){return ml(4,2,t,n)}function Jm(t,n){return ml(4,4,t,n)}function Wm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function tg(t,n,r){r=r!=null?r.concat([t]):null,ml(4,4,Wm.bind(null,n,t),r)}function Eh(){}function eg(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&uh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function ng(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&uh(n,l[1]))return l[0];if(l=t(),na){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l}function Th(t,n,r){return r===void 0||(Ki&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=ap(),bt.lanes|=t,er|=t,r)}function ig(t,n,r,l){return sn(r,n)?r:Qa.current!==null?(t=Th(t,r,l),sn(t,n)||(Ve=!0),t):(Ki&42)===0?(Ve=!0,t.memoizedState=r):(t=ap(),bt.lanes|=t,er|=t,n)}function rg(t,n,r,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Sh(t,!1,n,r);try{var w=c(),z=H.S;if(z!==null&&z(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=Ov(w,l);gl(t,n,G,hn(t))}else gl(t,n,l,hn(t))}catch(X){gl(t,n,{then:function(){},status:"rejected",reason:X},hn())}finally{nt.p=f,H.T=y}}function zv(){}function Ah(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=ag(t).queue;rg(t,c,n,ct,r===null?zv:function(){return sg(t),r(l)})}function ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function sg(t){var n=ag(t).next.queue;gl(t,n,{},hn())}function bh(){return Ge(Ol)}function lg(){return pe().memoizedState}function og(){return pe().memoizedState}function Pv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=Qi(r);var l=Yi(n,t,r);l!==null&&(fn(l,n,r),ul(l,n,r)),n={cache:Wc()},t.payload=n;return}n=n.return}}function jv(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},tu(t)?cg(n,r):(r=Hc(t,n,r,l),r!==null&&(fn(r,t,l),hg(r,n,l)))}function ug(t,n,r){var l=hn();gl(t,n,r,l)}function gl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(tu(t))cg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return Lo(t,n,c,0),$t===null&&Uo(),!1}catch{}finally{}if(r=Hc(t,n,c,l),r!==null)return fn(r,t,l),hg(r,n,l),!0}return!1}function Sh(t,n,r,l){if(l={lane:2,revertLane:nf(),action:l,hasEagerState:!1,eagerState:null,next:null},tu(t)){if(n)throw Error(a(479))}else n=Hc(t,r,l,2),n!==null&&fn(n,t,2)}function tu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function cg(t,n){Ya=Ko=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function hg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ls(t,r)}}var eu={readContext:Ge,use:Zo,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},fg={readContext:Ge,use:Zo,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:Xm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Wo(4194308,4,Wm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Wo(4194308,4,t,n)},useInsertionEffect:function(t,n){Wo(4,2,t,n)},useMemo:function(t,n){var r=We();n=n===void 0?null:n;var l=t();if(na){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=We();if(r!==void 0){var c=r(n);if(na){rn(!0);try{r(n)}finally{rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=jv.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=_h(t);var n=t.queue,r=ug.bind(null,bt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Eh,useDeferredValue:function(t,n){var r=We();return Th(r,t,n)},useTransition:function(){var t=_h(!1);return t=rg.bind(null,bt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=bt,c=We();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Mt&124)!==0||Om(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Xm(km.bind(null,l,f,t),[t]),l.flags|=2048,Xa(9,Jo(),Mm.bind(null,l,f,r,n),null),r},useId:function(){var t=We(),n=$t.identifierPrefix;if(Pt){var r=Ai,l=Ti;r=(l&~(1<<32-He(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Xo++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=Mv++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:bh,useFormState:Gm,useActionState:Gm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sh.bind(null,bt,!0,r),r.dispatch=n,[t,n]},useMemoCache:gh,useCacheRefresh:function(){return We().memoizedState=Pv.bind(null,bt)}},dg={readContext:Ge,use:Zo,useCallback:eg,useContext:Ge,useEffect:Zm,useImperativeHandle:tg,useInsertionEffect:$m,useLayoutEffect:Jm,useMemo:ng,useReducer:$o,useRef:Km,useState:function(){return $o(Ri)},useDebugValue:Eh,useDeferredValue:function(t,n){var r=pe();return ig(r,Qt.memoizedState,t,n)},useTransition:function(){var t=$o(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Im,useId:lg,useHostTransitionStatus:bh,useFormState:Fm,useActionState:Fm,useOptimistic:function(t,n){var r=pe();return zm(r,Qt,t,n)},useMemoCache:gh,useCacheRefresh:og},Bv={readContext:Ge,use:Zo,useCallback:eg,useContext:Ge,useEffect:Zm,useImperativeHandle:tg,useInsertionEffect:$m,useLayoutEffect:Jm,useMemo:ng,useReducer:yh,useRef:Km,useState:function(){return yh(Ri)},useDebugValue:Eh,useDeferredValue:function(t,n){var r=pe();return Qt===null?Th(r,t,n):ig(r,Qt.memoizedState,t,n)},useTransition:function(){var t=yh(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Im,useId:lg,useHostTransitionStatus:bh,useFormState:Ym,useActionState:Ym,useOptimistic:function(t,n){var r=pe();return Qt!==null?zm(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:gh,useCacheRefresh:og},Za=null,pl=0;function nu(t){var n=pl;return pl+=1,Za===null&&(Za=[]),Sm(Za,t,n)}function yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function iu(t,n){throw n.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mg(t){var n=t._init;return n(t._payload)}function gg(t){function n(M,V){if(t){var L=M.deletions;L===null?(M.deletions=[V],M.flags|=16):L.push(V)}}function r(M,V){if(!t)return null;for(;V!==null;)n(M,V),V=V.sibling;return null}function l(M){for(var V=new Map;M!==null;)M.key!==null?V.set(M.key,M):V.set(M.index,M),M=M.sibling;return V}function c(M,V){return M=Ei(M,V),M.index=0,M.sibling=null,M}function f(M,V,L){return M.index=L,t?(L=M.alternate,L!==null?(L=L.index,L<V?(M.flags|=67108866,V):L):(M.flags|=67108866,V)):(M.flags|=1048576,V)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,V,L,Q){return V===null||V.tag!==6?(V=Fc(L,M.mode,Q),V.return=M,V):(V=c(V,L),V.return=M,V)}function w(M,V,L,Q){var st=L.type;return st===J?G(M,V,L.props.children,Q,L.key):V!==null&&(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===A&&mg(st)===V.type)?(V=c(V,L.props),yl(V,L),V.return=M,V):(V=Po(L.type,L.key,L.props,null,M.mode,Q),yl(V,L),V.return=M,V)}function z(M,V,L,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Qc(L,M.mode,Q),V.return=M,V):(V=c(V,L.children||[]),V.return=M,V)}function G(M,V,L,Q,st){return V===null||V.tag!==7?(V=Kr(L,M.mode,Q,st),V.return=M,V):(V=c(V,L),V.return=M,V)}function X(M,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Fc(""+V,M.mode,L),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return L=Po(V.type,V.key,V.props,null,M.mode,L),yl(L,V),L.return=M,L;case F:return V=Qc(V,M.mode,L),V.return=M,V;case A:var Q=V._init;return V=Q(V._payload),X(M,V,L)}if(ae(V)||k(V))return V=Kr(V,M.mode,L,null),V.return=M,V;if(typeof V.then=="function")return X(M,nu(V),L);if(V.$$typeof===lt)return X(M,Ho(M,V),L);iu(M,V)}return null}function P(M,V,L,Q){var st=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return st!==null?null:E(M,V,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return L.key===st?w(M,V,L,Q):null;case F:return L.key===st?z(M,V,L,Q):null;case A:return st=L._init,L=st(L._payload),P(M,V,L,Q)}if(ae(L)||k(L))return st!==null?null:G(M,V,L,Q,null);if(typeof L.then=="function")return P(M,V,nu(L),Q);if(L.$$typeof===lt)return P(M,V,Ho(M,L),Q);iu(M,L)}return null}function j(M,V,L,Q,st){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(L)||null,E(V,M,""+Q,st);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return M=M.get(Q.key===null?L:Q.key)||null,w(V,M,Q,st);case F:return M=M.get(Q.key===null?L:Q.key)||null,z(V,M,Q,st);case A:var wt=Q._init;return Q=wt(Q._payload),j(M,V,L,Q,st)}if(ae(Q)||k(Q))return M=M.get(L)||null,G(V,M,Q,st,null);if(typeof Q.then=="function")return j(M,V,L,nu(Q),st);if(Q.$$typeof===lt)return j(M,V,L,Ho(V,Q),st);iu(V,Q)}return null}function yt(M,V,L,Q){for(var st=null,wt=null,ut=V,gt=V=0,Ie=null;ut!==null&&gt<L.length;gt++){ut.index>gt?(Ie=ut,ut=null):Ie=ut.sibling;var Lt=P(M,ut,L[gt],Q);if(Lt===null){ut===null&&(ut=Ie);break}t&&ut&&Lt.alternate===null&&n(M,ut),V=f(Lt,V,gt),wt===null?st=Lt:wt.sibling=Lt,wt=Lt,ut=Ie}if(gt===L.length)return r(M,ut),Pt&&Zr(M,gt),st;if(ut===null){for(;gt<L.length;gt++)ut=X(M,L[gt],Q),ut!==null&&(V=f(ut,V,gt),wt===null?st=ut:wt.sibling=ut,wt=ut);return Pt&&Zr(M,gt),st}for(ut=l(ut);gt<L.length;gt++)Ie=j(ut,M,gt,L[gt],Q),Ie!==null&&(t&&Ie.alternate!==null&&ut.delete(Ie.key===null?gt:Ie.key),V=f(Ie,V,gt),wt===null?st=Ie:wt.sibling=Ie,wt=Ie);return t&&ut.forEach(function(cr){return n(M,cr)}),Pt&&Zr(M,gt),st}function mt(M,V,L,Q){if(L==null)throw Error(a(151));for(var st=null,wt=null,ut=V,gt=V=0,Ie=null,Lt=L.next();ut!==null&&!Lt.done;gt++,Lt=L.next()){ut.index>gt?(Ie=ut,ut=null):Ie=ut.sibling;var cr=P(M,ut,Lt.value,Q);if(cr===null){ut===null&&(ut=Ie);break}t&&ut&&cr.alternate===null&&n(M,ut),V=f(cr,V,gt),wt===null?st=cr:wt.sibling=cr,wt=cr,ut=Ie}if(Lt.done)return r(M,ut),Pt&&Zr(M,gt),st;if(ut===null){for(;!Lt.done;gt++,Lt=L.next())Lt=X(M,Lt.value,Q),Lt!==null&&(V=f(Lt,V,gt),wt===null?st=Lt:wt.sibling=Lt,wt=Lt);return Pt&&Zr(M,gt),st}for(ut=l(ut);!Lt.done;gt++,Lt=L.next())Lt=j(ut,M,gt,Lt.value,Q),Lt!==null&&(t&&Lt.alternate!==null&&ut.delete(Lt.key===null?gt:Lt.key),V=f(Lt,V,gt),wt===null?st=Lt:wt.sibling=Lt,wt=Lt);return t&&ut.forEach(function(qE){return n(M,qE)}),Pt&&Zr(M,gt),st}function Kt(M,V,L,Q){if(typeof L=="object"&&L!==null&&L.type===J&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case N:t:{for(var st=L.key;V!==null;){if(V.key===st){if(st=L.type,st===J){if(V.tag===7){r(M,V.sibling),Q=c(V,L.props.children),Q.return=M,M=Q;break t}}else if(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===A&&mg(st)===V.type){r(M,V.sibling),Q=c(V,L.props),yl(Q,L),Q.return=M,M=Q;break t}r(M,V);break}else n(M,V);V=V.sibling}L.type===J?(Q=Kr(L.props.children,M.mode,Q,L.key),Q.return=M,M=Q):(Q=Po(L.type,L.key,L.props,null,M.mode,Q),yl(Q,L),Q.return=M,M=Q)}return y(M);case F:t:{for(st=L.key;V!==null;){if(V.key===st)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){r(M,V.sibling),Q=c(V,L.children||[]),Q.return=M,M=Q;break t}else{r(M,V);break}else n(M,V);V=V.sibling}Q=Qc(L,M.mode,Q),Q.return=M,M=Q}return y(M);case A:return st=L._init,L=st(L._payload),Kt(M,V,L,Q)}if(ae(L))return yt(M,V,L,Q);if(k(L)){if(st=k(L),typeof st!="function")throw Error(a(150));return L=st.call(L),mt(M,V,L,Q)}if(typeof L.then=="function")return Kt(M,V,nu(L),Q);if(L.$$typeof===lt)return Kt(M,V,Ho(M,L),Q);iu(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(r(M,V.sibling),Q=c(V,L),Q.return=M,M=Q):(r(M,V),Q=Fc(L,M.mode,Q),Q.return=M,M=Q),y(M)):r(M,V)}return function(M,V,L,Q){try{pl=0;var st=Kt(M,V,L,Q);return Za=null,st}catch(ut){if(ut===ll||ut===Fo)throw ut;var wt=ln(29,ut,null,M.mode);return wt.lanes=Q,wt.return=M,wt}finally{}}}var $a=gg(!0),pg=gg(!1),bn=$(null),Zn=null;function Xi(t){var n=t.alternate;tt(Se,Se.current&1),tt(bn,t),Zn===null&&(n===null||Qa.current!==null||n.memoizedState!==null)&&(Zn=t)}function yg(t){if(t.tag===22){if(tt(Se,Se.current),tt(bn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else Zi()}function Zi(){tt(Se,Se.current),tt(bn,bn.current)}function wi(t){it(bn),Zn===t&&(Zn=null),it(Se)}var Se=$(0);function ru(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||gf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Rh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:b({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Qi(l);c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(fn(n,t,l),ul(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Qi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(fn(n,t,l),ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=Qi(r);l.tag=2,n!=null&&(l.callback=n),n=Yi(t,l,r),n!==null&&(fn(n,t,r),ul(n,t,r))}};function _g(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ws(r,l)||!Ws(c,f):!0}function vg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&wh.enqueueReplaceState(n,n.state,null)}function ia(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=b({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Eg(t){au(t)}function Tg(t){console.error(t)}function Ag(t){au(t)}function su(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function bg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Dh(t,n,r){return r=Qi(r),r.tag=3,r.payload={element:null},r.callback=function(){su(t,n)},r}function Sg(t){return t=Qi(t),t.tag=3,t}function Rg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){bg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){bg(n,r,l),typeof c!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function qv(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&rl(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Zn===null?$h():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===nh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Wh(t,l,c)),!1;case 22:return r.flags|=65536,l===nh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Wh(t,l,c)),!1}throw Error(a(435,r.tag))}return Wh(t,l,c),$h(),!1}if(Pt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Xc&&(t=Error(a(422),{cause:l}),il(vn(t,r)))):(l!==Xc&&(n=Error(a(423),{cause:l}),il(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=Dh(t.stateNode,l,c),ah(t,c),oe!==4&&(oe=2)),!1;var f=Error(a(520),{cause:l});if(f=vn(f,r),Sl===null?Sl=[f]:Sl.push(f),oe!==4&&(oe=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Dh(r.stateNode,l,t),ah(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Sg(c),Rg(c,t,r,l),ah(r,c),!1}r=r.return}while(r!==null);return!1}var wg=Error(a(461)),Ve=!1;function Le(t,n,r,l){n.child=t===null?pg(n,null,r,l):$a(n,t.child,r,l)}function Dg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ta(n),l=ch(t,n,r,y,f,c),E=hh(),t!==null&&!Ve?(fh(t,n,c),Di(t,n,c)):(Pt&&E&&Yc(n),n.flags|=1,Le(t,n,l,c),n.child)}function Cg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Gc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,xg(t,n,f,l,c)):(t=Po(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ws,r(y,l)&&t.ref===n.ref)return Di(t,n,c)}return n.flags|=1,t=Ei(f,l),t.ref=n.ref,t.return=n,n.child=t}function xg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ws(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,kh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Di(t,n,c)}return Ch(t,n,r,l,c)}function Vg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Ng(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Go(n,f!==null?f.cachePool:null),f!==null?xm(n,f):lh(),yg(n);else return n.lanes=n.childLanes=536870912,Ng(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Go(n,f.cachePool),xm(n,f),Zi(),n.memoizedState=null):(t!==null&&Go(n,null),lh(),Zi());return Le(t,n,c,r),n.child}function Ng(t,n,r,l){var c=eh();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Go(n,null),lh(),yg(n),t!==null&&rl(t,n,l,!0),null}function lu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Ch(t,n,r,l,c){return ta(n),r=ch(t,n,r,l,void 0,c),l=hh(),t!==null&&!Ve?(fh(t,n,c),Di(t,n,c)):(Pt&&l&&Yc(n),n.flags|=1,Le(t,n,r,c),n.child)}function Ig(t,n,r,l,c,f){return ta(n),n.updateQueue=null,r=Nm(n,l,r,c),Vm(t),l=hh(),t!==null&&!Ve?(fh(t,n,f),Di(t,n,f)):(Pt&&l&&Yc(n),n.flags|=1,Le(t,n,r,f),n.child)}function Og(t,n,r,l,c){if(ta(n),n.stateNode===null){var f=Ba,y=r.contextType;typeof y=="object"&&y!==null&&(f=Ge(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ih(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Ge(y):Ba,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Rh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&wh.enqueueReplaceState(f,f.state,null),hl(n,l,f,c),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=ia(r,E);f.props=w;var z=f.context,G=r.contextType;y=Ba,typeof G=="object"&&G!==null&&(y=Ge(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&vg(n,f,l,y),Fi=!1;var P=n.memoizedState;f.state=P,hl(n,l,f,c),cl(),z=n.memoizedState,E||P!==z||Fi?(typeof X=="function"&&(Rh(n,r,X,l),z=n.memoizedState),(w=Fi||_g(n,r,w,l,P,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rh(t,n),y=n.memoizedProps,G=ia(r,y),f.props=G,X=n.pendingProps,P=f.context,z=r.contextType,w=Ba,typeof z=="object"&&z!==null&&(w=Ge(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||P!==w)&&vg(n,f,l,w),Fi=!1,P=n.memoizedState,f.state=P,hl(n,l,f,c),cl();var j=n.memoizedState;y!==X||P!==j||Fi||t!==null&&t.dependencies!==null&&qo(t.dependencies)?(typeof E=="function"&&(Rh(n,r,E,l),j=n.memoizedState),(G=Fi||_g(n,r,G,l,P,j,w)||t!==null&&t.dependencies!==null&&qo(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=w,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,lu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=$a(n,t.child,null,c),n.child=$a(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Di(t,n,c),t}function Mg(t,n,r,l){return nl(),n.flags|=256,Le(t,n,r,l),n.child}var xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(t){return{baseLanes:t,cachePool:Tm()}}function Nh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sn),t}function kg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Xi(n):Zi(),Pt){var E=le,w;if(w=E){t:{for(w=E,E=Xn;w.nodeType!==8;){if(!E){E=null;break t}if(w=On(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:Xr!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},w=ln(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,Je=n,le=null,w=!0):w=!1}w||Jr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return gf(E)?n.lanes=32:n.lanes=536870912,null;wi(n)}return E=l.children,l=l.fallback,c?(Zi(),c=n.mode,E=ou({mode:"hidden",children:E},c),l=Kr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Vh(r),c.childLanes=Nh(t,y,r),n.memoizedState=xh,l):(Xi(n),Ih(n,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Xi(n),n.flags&=-257,n=Oh(t,n,r)):n.memoizedState!==null?(Zi(),n.child=t.child,n.flags|=128,n=null):(Zi(),c=l.fallback,E=n.mode,l=ou({mode:"visible",children:l.children},E),c=Kr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,$a(n,t.child,null,r),l=n.child,l.memoizedState=Vh(r),l.childLanes=Nh(t,y,r),n.memoizedState=xh,n=c);else if(Xi(n),gf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(a(419)),l.stack="",l.digest=y,il({value:l,source:null,stack:null}),n=Oh(t,n,r)}else if(Ve||rl(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Li(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,ja(t,l),fn(y,t,l),wg;E.data==="$?"||$h(),n=Oh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,le=On(E.nextSibling),Je=n,Pt=!0,$r=null,Xn=!1,t!==null&&(Tn[An++]=Ti,Tn[An++]=Ai,Tn[An++]=Xr,Ti=t.id,Ai=t.overflow,Xr=n),n=Ih(n,l.children),n.flags|=4096);return n}return c?(Zi(),c=l.fallback,E=n.mode,w=t.child,z=w.sibling,l=Ei(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?c=Ei(z,c):(c=Kr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Vh(r):(w=E.cachePool,w!==null?(z=be._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=Tm(),E={baseLanes:E.baseLanes|r,cachePool:w}),c.memoizedState=E,c.childLanes=Nh(t,y,r),n.memoizedState=xh,l):(Xi(n),r=t.child,t=r.sibling,r=Ei(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Ih(t,n){return n=ou({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ou(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Oh(t,n,r){return $a(n,t.child,null,r),t=Ih(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ug(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),$c(t.return,n,r)}function Mh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Lg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ug(t,r,n);else if(t.tag===19)Ug(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(tt(Se,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&ru(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Mh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ru(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Mh(n,!0,r,null,f);break;case"together":Mh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Di(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),er|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(rl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Ei(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ei(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&qo(t)))}function Hv(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Gi(n,be,t.memoizedState.cache),nl();break;case 27:case 5:Ui(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?kg(t,n,r):(Xi(n),t=Di(t,n,r),t!==null?t.sibling:null);Xi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(rl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Lg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,Vg(t,n,r);case 24:Gi(n,be,t.memoizedState.cache)}return Di(t,n,r)}function zg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!kh(t,r)&&(n.flags&128)===0)return Ve=!1,Hv(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,Pt&&(n.flags&1048576)!==0&&mm(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Gc(l)?(t=ia(l,t),n.tag=1,n=Og(null,n,l,t,r)):(n.tag=0,n=Ch(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===xt){n.tag=11,n=Dg(null,n,l,t,r);break t}else if(c===I){n.tag=14,n=Cg(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(a(306,n,""))}}return n;case 0:return Ch(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ia(l,n.pendingProps),Og(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,rh(t,n),hl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Gi(n,be,l),l!==f.cache&&Jc(n,[be],r,!0),cl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Mg(t,n,l,r);break t}else if(l!==c){c=vn(Error(a(424)),n),il(c),n=Mg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=On(t.firstChild),Je=n,Pt=!0,$r=null,Xn=!0,r=pg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(nl(),l===c){n=Di(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return lu(t,n),t===null?(r=qp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=Au(vt.current).createElement(r),l[Ee]=n,l[de]=t,Pe(l,r,t),ue(l),n.stateNode=l):n.memoizedState=qp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ui(n),t===null&&Pt&&(l=n.stateNode=Pp(n.type,n.pendingProps,vt.current),Je=n,Xn=!0,c=le,ar(n.type)?(pf=c,le=On(l.firstChild)):le=c),Le(t,n,n.pendingProps.children,r),lu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=le)&&(l=yE(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Je=n,le=On(l.firstChild),Xn=!1,c=!0):c=!1),c||Jr(n)),Ui(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,ff(c,f)?l=null:y!==null&&ff(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=ch(t,n,kv,null,null,r),Ol._currentValue=c),lu(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=le)&&(r=_E(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,Je=n,le=null,t=!0):t=!1),t||Jr(n)),null;case 13:return kg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=$a(n,null,l,r):Le(t,n,l,r),n.child;case 11:return Dg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Gi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ta(n),c=Ge(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Cg(t,n,n.type,n.pendingProps,r);case 15:return xg(t,n,n.type,n.pendingProps,r);case 19:return Lg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=ou(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ei(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Vg(t,n,r);case 24:return ta(n),l=Ge(be),t===null?(c=eh(),c===null&&(c=$t,f=Wc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ih(n),Gi(n,be,c)):((t.lanes&r)!==0&&(rh(t,n),hl(n,null,null,r),cl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Gi(n,be,l)):(l=f.cache,Gi(n,be,l),l!==c.cache&&Jc(n,[be],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ci(t){t.flags|=4}function Pg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Yp(n)){if(n=bn.current,n!==null&&((Mt&4194048)===Mt?Zn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Zn))throw ol=nh,Am;t.flags|=8192}}function uu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ks():536870912,t.lanes|=n,es|=n)}function _l(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Gv(t,n,r){var l=n.pendingProps;switch(Kc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(be),Ln(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(el(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ym())),ie(n),null;case 26:return r=n.memoizedState,t===null?(Ci(n),r!==null?(ie(n),Pg(n,r)):(ie(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ci(n),ie(n),Pg(n,r)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),ie(n),n.flags&=-16777217),null;case 27:li(n),r=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}t=ft.current,el(n)?gm(n):(t=Pp(c,l,r),n.stateNode=t,Ci(n))}return ie(n),null;case 5:if(li(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(t=ft.current,el(n))gm(n);else{switch(c=Au(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Ee]=n,t[de]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=vt.current,el(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Ip(t.nodeValue,r)),t||Jr(n)}else t=Au(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=el(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Ee]=n}else nl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=ym(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),uu(n,n.updateQueue),ie(n),null;case 4:return Ln(),t===null&&lf(n.stateNode.containerInfo),ie(n),null;case 10:return Si(n.type),ie(n),null;case 19:if(it(Se),c=n.memoizedState,c===null)return ie(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)_l(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ru(t),f!==null){for(n.flags|=128,_l(c,!1),t=f.updateQueue,n.updateQueue=t,uu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)dm(r,t),r=r.sibling;return tt(Se,Se.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>fu&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304)}else{if(!l)if(t=ru(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,uu(n,t),_l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ie(n),null}else 2*dn()-c.renderingStartTime>fu&&r!==536870912&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=Se.current,tt(Se,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return wi(n),oh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&uu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&it(ea),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(be),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Fv(t,n){switch(Kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(be),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));nl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(Se),null;case 4:return Ln(),null;case 10:return Si(n.type),null;case 22:case 23:return wi(n),oh(),t!==null&&it(ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(be),null;case 25:return null;default:return null}}function jg(t,n){switch(Kc(n),n.tag){case 3:Si(be),Ln();break;case 26:case 27:case 5:li(n);break;case 4:Ln();break;case 13:wi(n);break;case 19:it(Se);break;case 10:Si(n.type);break;case 22:case 23:wi(n),oh(),t!==null&&it(ea);break;case 24:Si(be)}}function vl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function $i(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var w=r,z=E;try{z()}catch(G){Xt(c,w,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function Bg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Cm(n,r)}catch(l){Xt(t,t.return,l)}}}function qg(t,n,r){r.props=ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function El(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function $n(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Hg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Uh(t,n,r){try{var l=t.stateNode;fE(l,t.type,r,n),l[de]=n}catch(c){Xt(t,t.return,c)}}function Gg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function Lh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Gg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Tu));else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(zh(t,n,r),t=t.sibling;t!==null;)zh(t,n,r),t=t.sibling}function cu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(cu(t,n,r),t=t.sibling;t!==null;)cu(t,n,r),t=t.sibling}function Fg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[Ee]=t,n[de]=r}catch(f){Xt(t,t.return,f)}}var xi=!1,he=!1,Ph=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Qv(t,n){if(t=t.containerInfo,cf=Cu,t=im(t),Lc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,w=-1,z=0,G=0,X=t,P=null;e:for(;;){for(var j;X!==r||c!==0&&X.nodeType!==3||(E=y+c),X!==f||l!==0&&X.nodeType!==3||(w=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(j=X.firstChild)!==null;)P=X,X=j;for(;;){if(X===t)break e;if(P===r&&++z===c&&(E=y),P===f&&++G===l&&(w=y),(j=X.nextSibling)!==null)break;X=P,P=X.parentNode}X=j}r=E===-1||w===-1?null:{start:E,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(hf={focusedElem:t,selectionRange:r},Cu=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var yt=ia(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(yt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Xt(r,r.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)mf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}}function Yg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(t,r),l&4&&vl(5,r);break;case 1:if(Ji(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=ia(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&Bg(r),l&512&&El(r,r.return);break;case 3:if(Ji(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Cm(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&Fg(r);case 26:case 5:Ji(t,r),n===null&&l&4&&Hg(r),l&512&&El(r,r.return);break;case 12:Ji(t,r);break;case 13:Ji(t,r),l&4&&Zg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=eE.bind(null,r),vE(t,r))));break;case 22:if(l=r.memoizedState!==null||xi,!l){n=n!==null&&n.memoizedState!==null||he,c=xi;var f=he;xi=l,(he=n)&&!f?Wi(t,r,(r.subtreeFlags&8772)!==0):Ji(t,r),xi=c,he=f}break;case 30:break;default:Ji(t,r)}}function Kg(t){var n=t.alternate;n!==null&&(t.alternate=null,Kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ji(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,tn=!1;function Vi(t,n,r){for(r=r.child;r!==null;)Xg(t,n,r),r=r.sibling}function Xg(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:he||$n(r,n),Vi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||$n(r,n);var l=ne,c=tn;ar(r.type)&&(ne=r.stateNode,tn=!1),Vi(t,n,r),xl(r.stateNode),ne=l,tn=c;break;case 5:he||$n(r,n);case 6:if(l=ne,c=tn,ne=null,Vi(t,n,r),ne=l,tn=c,ne!==null)if(tn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{ne.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:ne!==null&&(tn?(t=ne,Lp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ll(t)):Lp(ne,r.stateNode));break;case 4:l=ne,c=tn,ne=r.stateNode.containerInfo,tn=!0,Vi(t,n,r),ne=l,tn=c;break;case 0:case 11:case 14:case 15:he||$i(2,r,n),he||$i(4,r,n),Vi(t,n,r);break;case 1:he||($n(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&qg(r,n,l)),Vi(t,n,r);break;case 21:Vi(t,n,r);break;case 22:he=(l=he)||r.memoizedState!==null,Vi(t,n,r),he=l;break;default:Vi(t,n,r)}}function Zg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(r){Xt(n,n.return,r)}}function Yv(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Qg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Qg),n;default:throw Error(a(435,t.tag))}}function jh(t,n){var r=Yv(t);n.forEach(function(l){var c=nE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ar(E.type)){ne=E.stateNode,tn=!1;break t}break;case 5:ne=E.stateNode,tn=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(ne===null)throw Error(a(160));Xg(f,y,c),ne=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)$g(n,t),n=n.sibling}var In=null;function $g(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&($i(3,t,t.return),vl(3,t),$i(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(he||r===null||$n(r,r.return)),l&64&&xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=In;if(on(n,t),un(t),l&512&&(he||r===null||$n(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ir]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[Ee]=t,ue(f),l=f;break t;case"link":var y=Fp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Fp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ee]=t,ue(f),l=f}t.stateNode=l}else Qp(c,t.type,t.stateNode);else t.stateNode=Gp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Qp(c,t.type,t.stateNode):Gp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Uh(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(he||r===null||$n(r,r.return)),r!==null&&l&4&&Uh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(he||r===null||$n(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(j){Xt(t,t.return,j)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Uh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Ph=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(j){Xt(t,t.return,j)}}break;case 3:if(Ru=null,c=In,In=bu(n.containerInfo),on(n,t),In=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ll(n.containerInfo)}catch(j){Xt(t,t.return,j)}Ph&&(Ph=!1,Jg(t));break;case 4:l=In,In=bu(t.stateNode.containerInfo),on(n,t),un(t),In=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Qh=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 22:c=t.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,z=xi,G=he;if(xi=z||c,he=G||w,on(n,t),he=G,xi=z,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||w||xi||he||ra(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=w.stateNode;var X=w.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(j){Xt(w,w.return,j)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(j){Xt(w,w.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,jh(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Gg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Lh(t);cu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(gn(y,""),r.flags&=-33);var E=Lh(t);cu(t,E,y);break;case 3:case 4:var w=r.stateNode.containerInfo,z=Lh(t);zh(t,z,w);break;default:throw Error(a(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Jg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yg(t,n.alternate,n),n=n.sibling}function ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),ra(n);break;case 1:$n(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&qg(n,n.return,r),ra(n);break;case 27:xl(n.stateNode);case 26:case 5:$n(n,n.return),ra(n);break;case 22:n.memoizedState===null&&ra(n);break;case 30:ra(n);break;default:ra(n)}t=t.sibling}}function Wi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,r),vl(4,f);break;case 1:if(Wi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Xt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Dm(w[c],E)}catch(z){Xt(l,l.return,z)}}r&&y&64&&Bg(f),El(f,f.return);break;case 27:Fg(f);case 26:case 5:Wi(c,f,r),r&&l===null&&y&4&&Hg(f),El(f,f.return);break;case 12:Wi(c,f,r);break;case 13:Wi(c,f,r),r&&y&4&&Zg(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,r),El(f,f.return);break;case 30:break;default:Wi(c,f,r)}n=n.sibling}}function Bh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&al(r))}function qh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wg(t,n,r,l),n=n.sibling}function Wg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),c&2048&&vl(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Xt(n,n.return,w)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):Tl(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,Ja(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Bh(y,n);break;case 24:Jn(t,n,r,l),c&2048&&qh(n.alternate,n);break;default:Jn(t,n,r,l)}}function Ja(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,w=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ja(f,y,E,w,c),vl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ja(f,y,E,w,c):Tl(f,y):(G._visibility|=2,Ja(f,y,E,w,c)),c&&z&2048&&Bh(y.alternate,y);break;case 24:Ja(f,y,E,w,c),c&&z&2048&&qh(y.alternate,y);break;default:Ja(f,y,E,w,c)}n=n.sibling}}function Tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Tl(r,l),c&2048&&Bh(l.alternate,l);break;case 24:Tl(r,l),c&2048&&qh(l.alternate,l);break;default:Tl(r,l)}n=n.sibling}}var Al=8192;function Wa(t){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)tp(t),t=t.sibling}function tp(t){switch(t.tag){case 26:Wa(t),t.flags&Al&&t.memoizedState!==null&&IE(In,t.memoizedState,t.memoizedProps);break;case 5:Wa(t);break;case 3:case 4:var n=In;In=bu(t.stateNode.containerInfo),Wa(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Al,Al=16777216,Wa(t),Al=n):Wa(t));break;default:Wa(t)}}function ep(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,ip(l,t)}ep(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)np(t),t=t.sibling}function np(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&$i(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hu(t)):bl(t);break;default:bl(t)}}function hu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,ip(l,t)}ep(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),hu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,hu(n));break;default:hu(n)}t=t.sibling}}function ip(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:$i(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(Kg(l),l===r){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}var Kv={getCacheForType:function(t){var n=Ge(be),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},Xv=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Dt=null,Mt=0,Gt=0,cn=null,tr=!1,ts=!1,Hh=!1,Ni=0,oe=0,er=0,aa=0,Gh=0,Sn=0,es=0,Sl=null,en=null,Fh=!1,Qh=0,fu=1/0,du=null,nr=null,ze=0,ir=null,ns=null,is=0,Yh=0,Kh=null,rp=null,Rl=0,Xh=null;function hn(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var t=Ga;return t!==0?t:nf()}return zi()}function ap(){Sn===0&&(Sn=(Mt&536870912)===0||Pt?Ms():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Sn}function fn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(rs(t,0),rr(t,Mt,Sn,!1)),ui(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(aa|=r),oe===4&&rr(t,Mt,Sn,!1)),Wn(t))}function sp(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Nr(t,n),c=l?Jv(t,n):Jh(t,n,!0),f=l;do{if(c===0){ts&&!l&&rr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!Zv(r)){c=Jh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Sl;var w=E.current.memoizedState.isDehydrated;if(w&&(rs(E,y).flags|=256),y=Jh(E,y,!1),y!==2){if(Hh&&!w){E.errorRecoveryDisabledLanes|=f,aa|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){rs(t,0),rr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:rr(l,n,Sn,!tr);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Qh+300-dn(),10<c)){if(rr(l,n,Sn,!tr),Ta(l,0,!0)!==0)break t;l.timeoutHandle=kp(lp.bind(null,l,r,en,du,Fh,n,Sn,aa,es,tr,f,2,-0,0),c);break t}lp(l,r,en,du,Fh,n,Sn,aa,es,tr,f,0,-0,0)}}break}while(!0);Wn(t)}function lp(t,n,r,l,c,f,y,E,w,z,G,X,P,j){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:NE},tp(n),X=OE(),X!==null)){t.cancelPendingCommit=X(mp.bind(null,t,n,f,r,l,c,y,E,w,G,1,P,j)),rr(t,f,y,!z);return}mp(t,n,f,r,l,c,y,E,w)}function Zv(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(t,n,r,l){n&=~Gh,n&=~aa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-He(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&zn(t,r,n)}function mu(){return(Ht&6)===0?(wl(0),!1):!0}function Zh(){if(Dt!==null){if(Gt===0)var t=Dt.return;else t=Dt,bi=Wr=null,dh(t),Za=null,pl=0,t=Dt;for(;t!==null;)jg(t.alternate,t),t=t.return;Dt=null}}function rs(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,mE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Zh(),$t=t,Dt=r=Ei(t.current,null),Mt=n,Gt=0,cn=null,tr=!1,ts=Nr(t,n),Hh=!1,es=Sn=Gh=aa=er=oe=0,en=Sl=null,Fh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-He(l),f=1<<c;n|=t[c],l&=~f}return Ni=n,Uo(),r}function op(t,n){bt=null,H.H=eu,n===ll||n===Fo?(n=Rm(),Gt=3):n===Am?(n=Rm(),Gt=4):Gt=n===wg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Dt===null&&(oe=1,su(t,vn(n,t.current)))}function up(){var t=H.H;return H.H=eu,t===null?eu:t}function cp(){var t=H.A;return H.A=Kv,t}function $h(){oe=4,tr||(Mt&4194048)!==Mt&&bn.current!==null||(ts=!0),(er&134217727)===0&&(aa&134217727)===0||$t===null||rr($t,Mt,Sn,!1)}function Jh(t,n,r){var l=Ht;Ht|=2;var c=up(),f=cp();($t!==t||Mt!==n)&&(du=null,rs(t,n)),n=!1;var y=oe;t:do try{if(Gt!==0&&Dt!==null){var E=Dt,w=cn;switch(Gt){case 8:Zh(),y=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var z=Gt;if(Gt=0,cn=null,as(t,E,w,z),r&&ts){y=0;break t}break;default:z=Gt,Gt=0,cn=null,as(t,E,w,z)}}$v(),y=oe;break}catch(G){op(t,G)}while(!0);return n&&t.shellSuspendCounter++,bi=Wr=null,Ht=l,H.H=c,H.A=f,Dt===null&&($t=null,Mt=0,Uo()),y}function $v(){for(;Dt!==null;)hp(Dt)}function Jv(t,n){var r=Ht;Ht|=2;var l=up(),c=cp();$t!==t||Mt!==n?(du=null,fu=dn()+500,rs(t,n)):ts=Nr(t,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var f=cn;e:switch(Gt){case 1:Gt=0,cn=null,as(t,n,f,1);break;case 2:case 9:if(bm(f)){Gt=0,cn=null,fp(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Wn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:bm(f)?(Gt=0,cn=null,fp(n)):(Gt=0,cn=null,as(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||Yp(y)){Gt=0,cn=null;var w=E.sibling;if(w!==null)Dt=w;else{var z=E.return;z!==null?(Dt=z,gu(z)):Dt=null}break e}}Gt=0,cn=null,as(t,n,f,5);break;case 6:Gt=0,cn=null,as(t,n,f,6);break;case 8:Zh(),oe=6;break t;default:throw Error(a(462))}}Wv();break}catch(G){op(t,G)}while(!0);return bi=Wr=null,H.H=l,H.A=c,Ht=r,Dt!==null?0:($t=null,Mt=0,Uo(),oe)}function Wv(){for(;Dt!==null&&!Vs();)hp(Dt)}function hp(t){var n=zg(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,n===null?gu(t):Dt=n}function fp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Ig(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Ig(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:dh(n);default:jg(r,n),n=Dt=dm(n,Ni),n=zg(r,n,Ni)}t.memoizedProps=t.pendingProps,n===null?gu(t):Dt=n}function as(t,n,r,l){bi=Wr=null,dh(n),Za=null,pl=0;var c=n.return;try{if(qv(t,c,n,r,Mt)){oe=1,su(t,vn(r,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;oe=1,su(t,vn(r,t.current)),Dt=null;return}n.flags&32768?(Pt||l===1?t=!0:ts||(Mt&536870912)!==0?t=!1:(tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),dp(n,t)):gu(n)}function gu(t){var n=t;do{if((n.flags&32768)!==0){dp(n,tr);return}t=n.return;var r=Gv(n.alternate,n,Ni);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);oe===0&&(oe=5)}function dp(t,n){do{var r=Fv(t.alternate,t);if(r!==null){r.flags&=32767,Dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=r}while(t!==null);oe=6,Dt=null}function mp(t,n,r,l,c,f,y,E,w){t.cancelPendingCommit=null;do pu();while(ze!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qc,Us(t,r,f,y,E,w),t===$t&&(Dt=$t=null,Mt=0),ns=n,ir=t,is=r,Yh=f,Kh=c,rp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,iE(Dr,function(){return vp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=nt.p,nt.p=2,y=Ht,Ht|=4;try{Qv(t,n,r)}finally{Ht=y,nt.p=c,H.T=l}}ze=1,gp(),pp(),yp()}}function gp(){if(ze===1){ze=0;var t=ir,n=ns,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Ht;Ht|=4;try{$g(n,t);var f=hf,y=im(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&nm(E.ownerDocument.documentElement,E)){if(w!==null&&Lc(E)){var z=w.start,G=w.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,P=X&&X.defaultView||window;if(P.getSelection){var j=P.getSelection(),yt=E.textContent.length,mt=Math.min(w.start,yt),Kt=w.end===void 0?mt:Math.min(w.end,yt);!j.extend&&mt>Kt&&(y=Kt,Kt=mt,mt=y);var M=em(E,mt),V=em(E,Kt);if(M&&V&&(j.rangeCount!==1||j.anchorNode!==M.node||j.anchorOffset!==M.offset||j.focusNode!==V.node||j.focusOffset!==V.offset)){var L=X.createRange();L.setStart(M.node,M.offset),j.removeAllRanges(),mt>Kt?(j.addRange(L),j.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),j.addRange(L))}}}}for(X=[],j=E;j=j.parentNode;)j.nodeType===1&&X.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Cu=!!cf,hf=cf=null}finally{Ht=c,nt.p=l,H.T=r}}t.current=n,ze=2}}function pp(){if(ze===2){ze=0;var t=ir,n=ns,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Ht;Ht|=4;try{Yg(t,n.alternate,n)}finally{Ht=c,nt.p=l,H.T=r}}ze=3}}function yp(){if(ze===4||ze===3){ze=0,co();var t=ir,n=ns,r=is,l=rp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,ns=ir=null,_p(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(nr=null),Aa(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=nt.p,nt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=c}}(is&3)!==0&&pu(),Wn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Xh?Rl++:(Rl=0,Xh=t):Rl=0,wl(0)}}function _p(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function pu(t){return gp(),pp(),yp(),vp()}function vp(){if(ze!==5)return!1;var t=ir,n=Yh;Yh=0;var r=Aa(is),l=H.T,c=nt.p;try{nt.p=32>r?32:r,H.T=null,r=Kh,Kh=null;var f=ir,y=is;if(ze=0,ns=ir=null,is=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,np(f.current),Wg(f,f.current,y,r),Ht=E,wl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{nt.p=c,H.T=l,_p(t,n)}}function Ep(t,n,r){n=vn(r,n),n=Dh(t.stateNode,n,2),t=Yi(t,n,2),t!==null&&(ui(t,2),Wn(t))}function Xt(t,n,r){if(t.tag===3)Ep(t,t,r);else for(;n!==null;){if(n.tag===3){Ep(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){t=vn(r,t),r=Sg(2),l=Yi(n,r,2),l!==null&&(Rg(r,l,n,t),ui(l,2),Wn(l));break}}n=n.return}}function Wh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new Xv;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Hh=!0,c.add(r),t=tE.bind(null,t,n,r),n.then(t,t))}function tE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Mt&r)===r&&(oe===4||oe===3&&(Mt&62914560)===Mt&&300>dn()-Qh?(Ht&2)===0&&rs(t,0):Gh|=r,es===Mt&&(es=0)),Wn(t)}function Tp(t,n){n===0&&(n=ks()),t=ja(t,n),t!==null&&(ui(t,n),Wn(t))}function eE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Tp(t,r)}function nE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Tp(t,r)}function iE(t,n){return Rr(t,n)}var yu=null,ss=null,tf=!1,_u=!1,ef=!1,sa=0;function Wn(t){t!==ss&&t.next===null&&(ss===null?yu=ss=t:ss=ss.next=t),_u=!0,tf||(tf=!0,aE())}function wl(t,n){if(!ef&&_u){ef=!0;do for(var r=!1,l=yu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Rp(l,f))}else f=Mt,f=Ta(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Nr(l,f)||(r=!0,Rp(l,f));l=l.next}while(r);ef=!1}}function rE(){Ap()}function Ap(){_u=tf=!1;var t=0;sa!==0&&(dE()&&(t=sa),sa=0);for(var n=dn(),r=null,l=yu;l!==null;){var c=l.next,f=bp(l,n);f===0?(l.next=null,r===null?yu=c:r.next=c,c===null&&(ss=r)):(r=l,(t!==0||(f&3)!==0)&&(_u=!0)),l=c}wl(t)}function bp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-He(f),E=1<<y,w=c[y];w===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Os(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Mt,r=Ta(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Nr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&wr(l),Aa(r)){case 2:case 8:r=va;break;case 32:r=Dr;break;case 268435456:r=Ea;break;default:r=Dr}return l=Sp.bind(null,t),r=Rr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&wr(l),t.callbackPriority=2,t.callbackNode=null,2}function Sp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(pu()&&t.callbackNode!==r)return null;var l=Mt;return l=Ta(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sp(t,l,n),bp(t,dn()),t.callbackNode!=null&&t.callbackNode===r?Sp.bind(null,t):null)}function Rp(t,n){if(pu())return null;sp(t,n,!0)}function aE(){gE(function(){(Ht&6)!==0?Rr(Ns,rE):Ap()})}function nf(){return sa===0&&(sa=Ms()),sa}function wp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ca(""+t)}function Dp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function sE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=wp((c[de]||null).action),y=l.submitter;y&&(n=(n=y[de]||null)?wp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new xa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sa!==0){var w=y?Dp(c,y):new FormData(c);Ah(r,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=y?Dp(c,y):new FormData(c),Ah(r,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var rf=0;rf<Bc.length;rf++){var af=Bc[rf],lE=af.toLowerCase(),oE=af[0].toUpperCase()+af.slice(1);Nn(lE,"on"+oE)}Nn(sm,"onAnimationEnd"),Nn(lm,"onAnimationIteration"),Nn(om,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Rv,"onTransitionRun"),Nn(wv,"onTransitionStart"),Nn(Dv,"onTransitionCancel"),Nn(um,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Cp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],w=E.instance,z=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){au(G)}c.currentTarget=null,f=w}else for(y=0;y<l.length;y++){if(E=l[y],w=E.instance,z=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){au(G)}c.currentTarget=null,f=w}}}}function Ct(t,n){var r=n[zs];r===void 0&&(r=n[zs]=new Set);var l=t+"__bubble";r.has(l)||(xp(n,t,2,!1),r.add(l))}function sf(t,n,r){var l=0;n&&(l|=4),xp(r,t,l,n)}var vu="_reactListening"+Math.random().toString(36).slice(2);function lf(t){if(!t[vu]){t[vu]=!0,Ps.forEach(function(r){r!=="selectionchange"&&(uE.has(r)||sf(r,!1,t),sf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vu]||(n[vu]=!0,sf("selectionchange",!1,n))}}function xp(t,n,r,l){switch(Wp(n)){case 2:var c=UE;break;case 8:c=LE;break;default:c=Tf}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function of(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){l=f=y;continue t}E=E.parentNode}}l=l.return}To(function(){var z=f,G=pn(r),X=[];t:{var P=cm.get(t);if(P!==void 0){var j=xa,yt=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":j=ka;break;case"focusin":yt="focus",j=Ia;break;case"focusout":yt="blur",j=Ia;break;case"beforeblur":case"afterblur":j=Ia;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=xo;break;case sm:case lm:case om:j=Oa;break;case um:j=No;break;case"scroll":case"scrollend":j=Ao;break;case"wheel":j=Ua;break;case"copy":case"cut":case"paste":j=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=$s;break;case"toggle":case"beforetoggle":j=Oo}var mt=(n&4)!==0,Kt=!mt&&(t==="scroll"||t==="scrollend"),M=mt?P!==null?P+"Capture":null:P;mt=[];for(var V=z,L;V!==null;){var Q=V;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||M===null||(Q=Pr(V,M),Q!=null&&mt.push(Cl(V,Q,L))),Kt)break;V=V.return}0<mt.length&&(P=new j(P,yt,null,r,G),X.push({event:P,listeners:mt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",P&&r!==mi&&(yt=r.relatedTarget||r.fromElement)&&(ci(yt)||yt[mn]))break t;if((j||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,j?(yt=r.relatedTarget||r.toElement,j=z,yt=yt?ci(yt):null,yt!==null&&(Kt=h(yt),mt=yt.tag,yt!==Kt||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(j=null,yt=z),j!==yt)){if(mt=_n,Q="onMouseLeave",M="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(mt=$s,Q="onPointerLeave",M="onPointerEnter",V="pointer"),Kt=j==null?P:jn(j),L=yt==null?P:jn(yt),P=new mt(Q,V+"leave",j,r,G),P.target=Kt,P.relatedTarget=L,Q=null,ci(G)===z&&(mt=new mt(M,V+"enter",yt,r,G),mt.target=L,mt.relatedTarget=Kt,Q=mt),Kt=Q,j&&yt)e:{for(mt=j,M=yt,V=0,L=mt;L;L=ls(L))V++;for(L=0,Q=M;Q;Q=ls(Q))L++;for(;0<V-L;)mt=ls(mt),V--;for(;0<L-V;)M=ls(M),L--;for(;V--;){if(mt===M||M!==null&&mt===M.alternate)break e;mt=ls(mt),M=ls(M)}mt=null}else mt=null;j!==null&&Vp(X,P,j,mt,!1),yt!==null&&Kt!==null&&Vp(X,Kt,yt,mt,!0)}}t:{if(P=z?jn(z):window,j=P.nodeName&&P.nodeName.toLowerCase(),j==="select"||j==="input"&&P.type==="file")var st=Xd;else if(Ae(P))if(Zd)st=Av;else{st=Ev;var wt=vv}else j=P.nodeName,!j||j.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&Gs(z.elementType)&&(st=Xd):st=Tv;if(st&&(st=st(t,z))){vi(X,st,r,G);break t}wt&&wt(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&qi(P,"number",P.value)}switch(wt=z?jn(z):window,t){case"focusin":(Ae(wt)||wt.contentEditable==="true")&&(La=wt,zc=z,tl=null);break;case"focusout":tl=zc=La=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,rm(X,r,G);break;case"selectionchange":if(Sv)break;case"keydown":case"keyup":rm(X,r,G)}var ut;if(Yn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else It?q(t,r)&&(gt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(gt="onCompositionStart");gt&&(p&&r.locale!=="ko"&&(It||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&It&&(ut=Qs()):(Hn=G,Hi="value"in Hn?Hn.value:Hn.textContent,It=!0)),wt=Eu(z,gt),0<wt.length&&(gt=new Xs(gt,t,null,r,G),X.push({event:gt,listeners:wt}),ut?gt.data=ut:(ut=et(r),ut!==null&&(gt.data=ut)))),(ut=m?Te(t,r):Ot(t,r))&&(gt=Eu(z,"onBeforeInput"),0<gt.length&&(wt=new Xs("onBeforeInput","beforeinput",null,r,G),X.push({event:wt,listeners:gt}),wt.data=ut)),sE(X,t,z,r,G)}Cp(X,n)})}function Cl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Eu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Pr(t,r),c!=null&&l.unshift(Cl(t,c,f)),c=Pr(t,n),c!=null&&l.push(Cl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,w=E.alternate,z=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||z===null||(w=z,c?(z=Pr(r,f),z!=null&&y.unshift(Cl(r,z,w))):c||(z=Pr(r,f),z!=null&&y.push(Cl(r,z,w)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var cE=/\r\n?/g,hE=/\u0000|\uFFFD/g;function Np(t){return(typeof t=="string"?t:""+t).replace(cE,`
`).replace(hE,"")}function Ip(t,n){return n=Np(n),Np(t)===n}function Tu(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,l);break;case"style":Hs(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ca(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ca(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Tu);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Bi(t,"popover",l);break;case"xlinkActuate":ke(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Nc.get(r)||r,Bi(t,r,l))}}function uf(t,n,r,l,c,f){switch(r){case"style":Hs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[de]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Bi(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,w=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":w=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Yt(t,n,l,G,r,null)}}Ur(t,f,E,w,z,y,c,!1),Da(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?di(t,!!l,n,!1):r!=null&&di(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(t,n,y,E,r,null)}Lr(t,l,c,f),Da(t);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,w,l,r,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ct(Dl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,z,l,r,null)}return;default:if(Gs(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&uf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function fE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,w=null,z=null,G=null;for(j in r){var X=r[j];if(r.hasOwnProperty(j)&&X!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(j)||Yt(t,n,j,null,l,X)}}for(var P in l){var j=l[P];if(X=r[P],l.hasOwnProperty(P)&&(j!=null||X!=null))switch(P){case"type":f=j;break;case"name":c=j;break;case"checked":z=j;break;case"defaultChecked":G=j;break;case"value":y=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==X&&Yt(t,n,P,j,l,X)}}an(t,y,E,w,z,G,f,c);return;case"select":j=y=E=P=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":j=w;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=r[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==w&&Yt(t,n,c,f,l,w)}n=E,r=y,l=j,P!=null?di(t,!!r,P,!1):!!l!=!!r&&(n!=null?di(t,!!r,n,!0):di(t,!!r,r?[]:"",!1));return;case"textarea":j=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Ft(t,P,j);return;case"option":for(var yt in r)if(P=r[yt],r.hasOwnProperty(yt)&&P!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Yt(t,n,yt,null,l,P)}for(w in l)if(P=l[w],j=r[w],l.hasOwnProperty(w)&&P!==j&&(P!=null||j!=null))switch(w){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Yt(t,n,w,P,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)P=r[mt],r.hasOwnProperty(mt)&&P!=null&&!l.hasOwnProperty(mt)&&Yt(t,n,mt,null,l,P);for(z in l)if(P=l[z],j=r[z],l.hasOwnProperty(z)&&P!==j&&(P!=null||j!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Yt(t,n,z,P,l,j)}return;default:if(Gs(n)){for(var Kt in r)P=r[Kt],r.hasOwnProperty(Kt)&&P!==void 0&&!l.hasOwnProperty(Kt)&&uf(t,n,Kt,void 0,l,P);for(G in l)P=l[G],j=r[G],!l.hasOwnProperty(G)||P===j||P===void 0&&j===void 0||uf(t,n,G,P,l,j);return}}for(var M in r)P=r[M],r.hasOwnProperty(M)&&P!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,P);for(X in l)P=l[X],j=r[X],!l.hasOwnProperty(X)||P===j||P==null&&j==null||Yt(t,n,X,P,l,j)}var cf=null,hf=null;function Au(t){return t.nodeType===9?t:t.ownerDocument}function Op(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ff(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var df=null;function dE(){var t=window.event;return t&&t.type==="popstate"?t===df?!1:(df=t,!0):(df=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,mE=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,gE=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(t){return Up.resolve(null).then(t).catch(pE)}:kp;function pE(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function Lp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&xl(y.documentElement),r&2&&xl(y.body),r&4)for(r=y.head,xl(r),y=r.firstChild;y;){var E=y.nextSibling,w=y.nodeName;y[Ir]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ll(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ll(n)}function mf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":mf(r),ji(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function yE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ir])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function _E(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function vE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var pf=null;function zp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Pp(t,n,r){switch(n=Au(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function xl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ji(t)}var Rn=new Map,jp=new Set;function bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ii=nt.d;nt.d={f:EE,r:TE,D:AE,C:bE,L:SE,m:RE,X:DE,S:wE,M:CE};function EE(){var t=Ii.f(),n=mu();return t||n}function TE(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?sg(n):Ii.r(t)}var os=typeof document>"u"?null:document;function Bp(t,n,r){var l=os;if(l&&typeof n=="string"&&n){var c=me(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),jp.has(c)||(jp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function AE(t){Ii.D(t),Bp("dns-prefetch",t,null)}function bE(t,n){Ii.C(t,n),Bp("preconnect",t,n)}function SE(t,n,r){Ii.L(t,n,r);var l=os;if(l&&t&&n){var c='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+me(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+me(r.imageSizes)+'"]')):c+='[href="'+me(t)+'"]';var f=c;switch(n){case"style":f=us(t);break;case"script":f=cs(t)}Rn.has(f)||(t=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Vl(f))||n==="script"&&l.querySelector(Nl(f))||(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function RE(t,n){Ii.m(t,n);var r=os;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cs(t)}if(!Rn.has(f)&&(t=b({rel:"modulepreload",href:t},n),Rn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Nl(f)))return}l=r.createElement("link"),Pe(l,"link",t),ue(l),r.head.appendChild(l)}}}function wE(t,n,r){Ii.S(t,n,r);var l=os;if(l&&t){var c=Xe(l).hoistableStyles,f=us(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Vl(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Rn.get(f))&&yf(t,r);var w=y=l.createElement("link");ue(w),Pe(w,"link",t),w._p=new Promise(function(z,G){w.onload=z,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Su(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function DE(t,n){Ii.X(t,n);var r=os;if(r&&t){var l=Xe(r).hoistableScripts,c=cs(t),f=l.get(c);f||(f=r.querySelector(Nl(c)),f||(t=b({src:t,async:!0},n),(n=Rn.get(c))&&_f(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function CE(t,n){Ii.M(t,n);var r=os;if(r&&t){var l=Xe(r).hoistableScripts,c=cs(t),f=l.get(c);f||(f=r.querySelector(Nl(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&_f(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function qp(t,n,r,l){var c=(c=vt.current)?bu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=us(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=us(r.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Vl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Rn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(t,r),f||xE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cs(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function us(t){return'href="'+me(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Hp(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function xE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),ue(n),t.head.appendChild(n))}function cs(t){return'[src="'+me(t)+'"]'}function Nl(t){return"script[async]"+t}function Gp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),Pe(l,"style",c),Su(l,r.precedence,t),n.instance=l;case"stylesheet":c=us(r.href);var f=t.querySelector(Vl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=Hp(r),(c=Rn.get(c))&&yf(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var y=f;return y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Pe(f,"link",l),n.state.loading|=4,Su(f,r.precedence,t),n.instance=f;case"script":return f=cs(r.src),(c=t.querySelector(Nl(f)))?(n.instance=c,ue(c),c):(l=r,(c=Rn.get(f))&&(l=b({},r),_f(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Su(l,r.precedence,t));return n.instance}function Su(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ru=null;function Fp(t,n,r){if(Ru===null){var l=new Map,c=Ru=new Map;c.set(r,l)}else c=Ru,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Ir]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Qp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function VE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Yp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function NE(){}function IE(t,n,r){if(Il===null)throw Error(a(475));var l=Il;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=us(r.href),f=t.querySelector(Vl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=wu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=Hp(r),(c=Rn.get(c))&&yf(r,c),f=f.createElement("link"),ue(f);var y=f;y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=wu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function OE(){if(Il===null)throw Error(a(475));var t=Il;return t.stylesheets&&t.count===0&&vf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&vf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function wu(){if(this.count--,this.count===0){if(this.stylesheets)vf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Du=null;function vf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Du=new Map,n.forEach(ME,t),Du=null,wu.call(t))}function ME(t,n){if(!(n.state.loading&4)){var r=Du.get(t);if(r)var l=r.get(null);else{r=new Map,Du.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=wu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function kE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Kp(t,n,r,l,c,f,y,E,w,z,G,X){return t=new kE(t,n,r,y,E,w,z,X),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=Wc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ih(f),t}function Xp(t){return t?(t=Ba,t):Ba}function Zp(t,n,r,l,c,f){c=Xp(c),l.context===null?l.context=c:l.pendingContext=c,l=Qi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Yi(t,l,n),r!==null&&(fn(r,t,n),ul(r,t,n))}function $p(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Ef(t,n){$p(t,n),(t=t.alternate)&&$p(t,n)}function Jp(t){if(t.tag===13){var n=ja(t,67108864);n!==null&&fn(n,t,67108864),Ef(t,67108864)}}var Cu=!0;function UE(t,n,r,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=2,Tf(t,n,r,l)}finally{nt.p=f,H.T=c}}function LE(t,n,r,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=8,Tf(t,n,r,l)}finally{nt.p=f,H.T=c}}function Tf(t,n,r,l){if(Cu){var c=Af(l);if(c===null)of(t,n,l,xu,r),ty(t,l);else if(PE(c,t,n,r,l))l.stopPropagation();else if(ty(t,l),n&4&&-1<zE.indexOf(t)){for(;c!==null;){var f=Pn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Cn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var w=1<<31-He(y);E.entanglements[1]|=w,y&=~w}Wn(f),(Ht&6)===0&&(fu=dn()+500,wl(0))}}break;case 13:E=ja(f,2),E!==null&&fn(E,f,2),mu(),Ef(f,2)}if(f=Af(l),f===null&&of(t,n,l,xu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else of(t,n,l,null,r)}}function Af(t){return t=pn(t),bf(t)}var xu=null;function bf(t){if(xu=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xu=t,null}function Wp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rc()){case Ns:return 2;case va:return 8;case Dr:case wc:return 32;case Ea:return 268435456;default:return 32}default:return 32}}var Sf=!1,sr=null,lr=null,or=null,Ml=new Map,kl=new Map,ur=[],zE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ty(t,n){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Ul(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Pn(n),n!==null&&Jp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function PE(t,n,r,l,c){switch(n){case"focusin":return sr=Ul(sr,t,n,r,l,c),!0;case"dragenter":return lr=Ul(lr,t,n,r,l,c),!0;case"mouseover":return or=Ul(or,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,Ul(Ml.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,kl.set(f,Ul(kl.get(f)||null,t,n,r,l,c)),!0}return!1}function ey(t){var n=ci(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,mo(t.priority,function(){if(r.tag===13){var l=hn();l=Li(l);var c=ja(r,l);c!==null&&fn(c,r,l),Ef(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Af(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);mi=l,r.target.dispatchEvent(l),mi=null}else return n=Pn(r),n!==null&&Jp(n),t.blockedOn=r,!1;n.shift()}return!0}function ny(t,n,r){Vu(t)&&r.delete(n)}function jE(){Sf=!1,sr!==null&&Vu(sr)&&(sr=null),lr!==null&&Vu(lr)&&(lr=null),or!==null&&Vu(or)&&(or=null),Ml.forEach(ny),kl.forEach(ny)}function Nu(t,n){t.blockedOn===n&&(t.blockedOn=null,Sf||(Sf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jE)))}var Iu=null;function iy(t){Iu!==t&&(Iu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Iu===t&&(Iu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(bf(l||r)===null)continue;break}var f=Pn(r);f!==null&&(t.splice(n,3),n-=3,Ah(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ll(t){function n(w){return Nu(w,t)}sr!==null&&Nu(sr,t),lr!==null&&Nu(lr,t),or!==null&&Nu(or,t),Ml.forEach(n),kl.forEach(n);for(var r=0;r<ur.length;r++){var l=ur[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)ey(r),r.blockedOn===null&&ur.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[de]||null;if(typeof f=="function")y||iy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[de]||null)E=y.formAction;else if(bf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),iy(r)}}}function Rf(t){this._internalRoot=t}Ou.prototype.render=Rf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=hn();Zp(r,l,t,n,null,null)},Ou.prototype.unmount=Rf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Zp(t.current,2,null,t,null,null),mu(),n[mn]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var n=zi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ur.length&&n!==0&&n<ur[r].priority;r++);ur.splice(r,0,t),r===0&&ey(t)}};var ry=e.version;if(ry!=="19.1.0")throw Error(a(527,ry,"19.1.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var BE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{se=Mu.inject(BE),qt=Mu}catch{}}return Pl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Eg,f=Tg,y=Ag,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Kp(t,1,!1,null,null,r,l,c,f,y,E,null),t[mn]=n.current,lf(t),new Rf(n)},Pl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=Eg,y=Tg,E=Ag,w=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=Kp(t,1,!0,n,r??null,l,c,f,y,E,w,z),n.context=Xp(null),r=n.current,l=hn(),l=Li(l),c=Qi(l),c.callback=null,Yi(r,c,l),r=l,n.current.lanes=r,ui(n,r),Wn(n),t[mn]=n.current,lf(t),new Ou(n)},Pl.version="19.1.0",Pl}var my;function JE(){if(my)return Cf.exports;my=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Cf.exports=$E(),Cf.exports}var WE=JE();const t1=C_(WE),e1=()=>{};var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},n1=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},V_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,b=h>>2,R=(h&3)<<4|g>>4;let N=(g&15)<<2|v>>6,F=v&63;_||(F=64,d||(N=64)),a.push(i[b],i[R],i[N],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(x_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):n1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const R=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||v==null||R==null)throw new i1;const N=h<<2|g>>4;if(a.push(N),v!==64){const F=g<<4&240|v>>2;if(a.push(F),R!==64){const J=v<<6&192|R;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class i1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r1=function(s){const e=x_(s);return V_.encodeByteArray(e,!0)},$u=function(s){return r1(s).replace(/\./g,"")},a1=function(s){try{return V_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=()=>s1().__FIREBASE_DEFAULTS__,o1=()=>{if(typeof process>"u"||typeof gy>"u")return;const s=gy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},u1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&a1(s[1]);return e&&JSON.parse(e)},fd=()=>{try{return e1()||l1()||o1()||u1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},c1=s=>{var e,i;return(i=(e=fd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},h1=s=>{const e=c1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},N_=()=>{var s;return(s=fd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[$u(JSON.stringify(i)),$u(JSON.stringify(d)),""].join(".")}const Gl={};function g1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?s.emulator.push(e):s.prod.push(e);return s}function p1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let py=!1;function y1(s,e){if(typeof window>"u"||typeof document>"u"||!dd(window.location.host)||Gl[s]===e||Gl[s]||py)return;Gl[s]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",h=g1().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,F){N.setAttribute("width","24"),N.setAttribute("id",F),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{py=!0,d()},N}function b(N,F){N.setAttribute("id",F),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function R(){const N=p1(a),F=i("text"),J=document.getElementById(F)||document.createElement("span"),W=i("learnmore"),Y=document.getElementById(W)||document.createElement("a"),ot=i("preprendIcon"),dt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const lt=N.element;g(lt),b(Y,W);const xt=v();_(dt,ot),lt.append(dt,J,Y,xt),document.body.appendChild(lt)}h?(J.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v1(){var s;const e=(s=fd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E1(){return!v1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T1(){try{return typeof indexedDB=="object"}catch{return!1}}function A1(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="FirebaseError";class Ss extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=b1,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I_.prototype.create)}}class I_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?S1(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ss(o,g,a)}}function S1(s,e){return s.replace(R1,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const R1=/\{\$([^}]+)}/g;function Ju(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(yy(h)&&yy(d)){if(!Ju(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function yy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(s){return s&&s._delegate?s._delegate:s}class Xl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new f1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C1(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:D1(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D1(s){return s===la?void 0:s}function C1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new w1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const V1={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},N1=Ut.INFO,I1={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},O1=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=I1[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O_{constructor(e){this.name=e,this._logLevel=N1,this._logHandler=O1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const M1=(s,e)=>e.some(i=>s instanceof i);let _y,vy;function k1(){return _y||(_y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U1(){return vy||(vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M_=new WeakMap,Hf=new WeakMap,k_=new WeakMap,If=new WeakMap,md=new WeakMap;function L1(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(dr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&M_.set(i,s)}).catch(()=>{}),md.set(e,s),e}function z1(s){if(Hf.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Hf.set(s,e)}let Gf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Hf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||k_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return dr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function P1(s){Gf=s(Gf)}function j1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Of(this),e,...i);return k_.set(a,e.sort?e.sort():[e]),dr(a)}:U1().includes(s)?function(...e){return s.apply(Of(this),e),dr(M_.get(this))}:function(...e){return dr(s.apply(Of(this),e))}}function B1(s){return typeof s=="function"?j1(s):(s instanceof IDBTransaction&&z1(s),M1(s,k1())?new Proxy(s,Gf):s)}function dr(s){if(s instanceof IDBRequest)return L1(s);if(If.has(s))return If.get(s);const e=B1(s);return e!==s&&(If.set(s,e),md.set(e,s)),e}const Of=s=>md.get(s);function q1(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),g=dr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(dr(d.result),_.oldVersion,_.newVersion,dr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const H1=["get","getKey","getAll","getAllKeys","count"],G1=["put","add","delete","clear"],Mf=new Map;function Ey(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=G1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||H1.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Mf.set(e,h),h}P1(s=>({...s,get:(e,i,a)=>Ey(e,i)||s.get(e,i,a),has:(e,i)=>!!Ey(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Q1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Q1(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ff="@firebase/app",Ty="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new O_("@firebase/app"),Y1="@firebase/app-compat",K1="@firebase/analytics-compat",X1="@firebase/analytics",Z1="@firebase/app-check-compat",$1="@firebase/app-check",J1="@firebase/auth",W1="@firebase/auth-compat",tT="@firebase/database",eT="@firebase/data-connect",nT="@firebase/database-compat",iT="@firebase/functions",rT="@firebase/functions-compat",aT="@firebase/installations",sT="@firebase/installations-compat",lT="@firebase/messaging",oT="@firebase/messaging-compat",uT="@firebase/performance",cT="@firebase/performance-compat",hT="@firebase/remote-config",fT="@firebase/remote-config-compat",dT="@firebase/storage",mT="@firebase/storage-compat",gT="@firebase/firestore",pT="@firebase/ai",yT="@firebase/firestore-compat",_T="firebase",vT="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="[DEFAULT]",ET={[Ff]:"fire-core",[Y1]:"fire-core-compat",[X1]:"fire-analytics",[K1]:"fire-analytics-compat",[$1]:"fire-app-check",[Z1]:"fire-app-check-compat",[J1]:"fire-auth",[W1]:"fire-auth-compat",[tT]:"fire-rtdb",[eT]:"fire-data-connect",[nT]:"fire-rtdb-compat",[iT]:"fire-fn",[rT]:"fire-fn-compat",[aT]:"fire-iid",[sT]:"fire-iid-compat",[lT]:"fire-fcm",[oT]:"fire-fcm-compat",[uT]:"fire-perf",[cT]:"fire-perf-compat",[hT]:"fire-rc",[fT]:"fire-rc-compat",[dT]:"fire-gcs",[mT]:"fire-gcs-compat",[gT]:"fire-fst",[yT]:"fire-fst-compat",[pT]:"fire-vertex","fire-js":"fire-js",[_T]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new Map,TT=new Map,Yf=new Map;function Ay(s,e){try{s.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function tc(s){const e=s.name;if(Yf.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,s);for(const i of Wu.values())Ay(i,s);for(const i of TT.values())Ay(i,s);return!0}function AT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function bT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new I_("app","Firebase",ST);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=vT;function U_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Qf,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw mr.create("bad-app-name",{appName:String(o)});if(i||(i=N_()),!i)throw mr.create("no-options");const h=Wu.get(o);if(h){if(Ju(i,h.options)&&Ju(a,h.config))return h;throw mr.create("duplicate-app",{appName:o})}const d=new x1(o);for(const _ of Yf.values())d.addComponent(_);const g=new RT(i,a,d);return Wu.set(o,g),g}function DT(s=Qf){const e=Wu.get(s);if(!e&&s===Qf&&N_())return U_();if(!e)throw mr.create("no-app",{appName:s});return e}function gs(s,e,i){var a;let o=(a=ET[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(g.join(" "));return}tc(new Xl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebase-heartbeat-database",xT=1,Zl="firebase-heartbeat-store";let kf=null;function L_(){return kf||(kf=q1(CT,xT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw mr.create("idb-open",{originalErrorMessage:s.message})})),kf}async function VT(s){try{const i=(await L_()).transaction(Zl),a=await i.objectStore(Zl).get(z_(s));return await i.done,a}catch(e){if(e instanceof Ss)Oi.warn(e.message);else{const i=mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function by(s,e){try{const a=(await L_()).transaction(Zl,"readwrite");await a.objectStore(Zl).put(e,z_(s)),await a.done}catch(i){if(i instanceof Ss)Oi.warn(i.message);else{const a=mr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(a.message)}}}function z_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=1024,IT=30;class OT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new kT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Sy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>IT){const d=UT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Sy(),{heartbeatsToSend:a,unsentEntries:o}=MT(this._heartbeatsCache.heartbeats),h=$u(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Oi.warn(i),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function MT(s,e=NT){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ry(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ry(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class kT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T1()?A1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await VT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return by(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return by(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ry(s){return $u(JSON.stringify({version:2,heartbeats:s})).length}function UT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(s){tc(new Xl("platform-logger",e=>new F1(e),"PRIVATE")),tc(new Xl("heartbeat",e=>new OT(e),"PRIVATE")),gs(Ff,Ty,s),gs(Ff,Ty,"esm2017"),gs("fire-js","")}LT("");var wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gr,P_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function S(){}S.prototype=A.prototype,I.D=A.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(x,O,k){for(var D=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)D[Me-2]=arguments[Me];return A.prototype[O].apply(x,D)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,S){S||(S=0);var x=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)x[O]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(O=0;16>O;++O)x[O]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=I.g[0],S=I.g[1],O=I.g[2];var k=I.g[3],D=A+(k^S&(O^k))+x[0]+3614090360&4294967295;A=S+(D<<7&4294967295|D>>>25),D=k+(O^A&(S^O))+x[1]+3905402710&4294967295,k=A+(D<<12&4294967295|D>>>20),D=O+(S^k&(A^S))+x[2]+606105819&4294967295,O=k+(D<<17&4294967295|D>>>15),D=S+(A^O&(k^A))+x[3]+3250441966&4294967295,S=O+(D<<22&4294967295|D>>>10),D=A+(k^S&(O^k))+x[4]+4118548399&4294967295,A=S+(D<<7&4294967295|D>>>25),D=k+(O^A&(S^O))+x[5]+1200080426&4294967295,k=A+(D<<12&4294967295|D>>>20),D=O+(S^k&(A^S))+x[6]+2821735955&4294967295,O=k+(D<<17&4294967295|D>>>15),D=S+(A^O&(k^A))+x[7]+4249261313&4294967295,S=O+(D<<22&4294967295|D>>>10),D=A+(k^S&(O^k))+x[8]+1770035416&4294967295,A=S+(D<<7&4294967295|D>>>25),D=k+(O^A&(S^O))+x[9]+2336552879&4294967295,k=A+(D<<12&4294967295|D>>>20),D=O+(S^k&(A^S))+x[10]+4294925233&4294967295,O=k+(D<<17&4294967295|D>>>15),D=S+(A^O&(k^A))+x[11]+2304563134&4294967295,S=O+(D<<22&4294967295|D>>>10),D=A+(k^S&(O^k))+x[12]+1804603682&4294967295,A=S+(D<<7&4294967295|D>>>25),D=k+(O^A&(S^O))+x[13]+4254626195&4294967295,k=A+(D<<12&4294967295|D>>>20),D=O+(S^k&(A^S))+x[14]+2792965006&4294967295,O=k+(D<<17&4294967295|D>>>15),D=S+(A^O&(k^A))+x[15]+1236535329&4294967295,S=O+(D<<22&4294967295|D>>>10),D=A+(O^k&(S^O))+x[1]+4129170786&4294967295,A=S+(D<<5&4294967295|D>>>27),D=k+(S^O&(A^S))+x[6]+3225465664&4294967295,k=A+(D<<9&4294967295|D>>>23),D=O+(A^S&(k^A))+x[11]+643717713&4294967295,O=k+(D<<14&4294967295|D>>>18),D=S+(k^A&(O^k))+x[0]+3921069994&4294967295,S=O+(D<<20&4294967295|D>>>12),D=A+(O^k&(S^O))+x[5]+3593408605&4294967295,A=S+(D<<5&4294967295|D>>>27),D=k+(S^O&(A^S))+x[10]+38016083&4294967295,k=A+(D<<9&4294967295|D>>>23),D=O+(A^S&(k^A))+x[15]+3634488961&4294967295,O=k+(D<<14&4294967295|D>>>18),D=S+(k^A&(O^k))+x[4]+3889429448&4294967295,S=O+(D<<20&4294967295|D>>>12),D=A+(O^k&(S^O))+x[9]+568446438&4294967295,A=S+(D<<5&4294967295|D>>>27),D=k+(S^O&(A^S))+x[14]+3275163606&4294967295,k=A+(D<<9&4294967295|D>>>23),D=O+(A^S&(k^A))+x[3]+4107603335&4294967295,O=k+(D<<14&4294967295|D>>>18),D=S+(k^A&(O^k))+x[8]+1163531501&4294967295,S=O+(D<<20&4294967295|D>>>12),D=A+(O^k&(S^O))+x[13]+2850285829&4294967295,A=S+(D<<5&4294967295|D>>>27),D=k+(S^O&(A^S))+x[2]+4243563512&4294967295,k=A+(D<<9&4294967295|D>>>23),D=O+(A^S&(k^A))+x[7]+1735328473&4294967295,O=k+(D<<14&4294967295|D>>>18),D=S+(k^A&(O^k))+x[12]+2368359562&4294967295,S=O+(D<<20&4294967295|D>>>12),D=A+(S^O^k)+x[5]+4294588738&4294967295,A=S+(D<<4&4294967295|D>>>28),D=k+(A^S^O)+x[8]+2272392833&4294967295,k=A+(D<<11&4294967295|D>>>21),D=O+(k^A^S)+x[11]+1839030562&4294967295,O=k+(D<<16&4294967295|D>>>16),D=S+(O^k^A)+x[14]+4259657740&4294967295,S=O+(D<<23&4294967295|D>>>9),D=A+(S^O^k)+x[1]+2763975236&4294967295,A=S+(D<<4&4294967295|D>>>28),D=k+(A^S^O)+x[4]+1272893353&4294967295,k=A+(D<<11&4294967295|D>>>21),D=O+(k^A^S)+x[7]+4139469664&4294967295,O=k+(D<<16&4294967295|D>>>16),D=S+(O^k^A)+x[10]+3200236656&4294967295,S=O+(D<<23&4294967295|D>>>9),D=A+(S^O^k)+x[13]+681279174&4294967295,A=S+(D<<4&4294967295|D>>>28),D=k+(A^S^O)+x[0]+3936430074&4294967295,k=A+(D<<11&4294967295|D>>>21),D=O+(k^A^S)+x[3]+3572445317&4294967295,O=k+(D<<16&4294967295|D>>>16),D=S+(O^k^A)+x[6]+76029189&4294967295,S=O+(D<<23&4294967295|D>>>9),D=A+(S^O^k)+x[9]+3654602809&4294967295,A=S+(D<<4&4294967295|D>>>28),D=k+(A^S^O)+x[12]+3873151461&4294967295,k=A+(D<<11&4294967295|D>>>21),D=O+(k^A^S)+x[15]+530742520&4294967295,O=k+(D<<16&4294967295|D>>>16),D=S+(O^k^A)+x[2]+3299628645&4294967295,S=O+(D<<23&4294967295|D>>>9),D=A+(O^(S|~k))+x[0]+4096336452&4294967295,A=S+(D<<6&4294967295|D>>>26),D=k+(S^(A|~O))+x[7]+1126891415&4294967295,k=A+(D<<10&4294967295|D>>>22),D=O+(A^(k|~S))+x[14]+2878612391&4294967295,O=k+(D<<15&4294967295|D>>>17),D=S+(k^(O|~A))+x[5]+4237533241&4294967295,S=O+(D<<21&4294967295|D>>>11),D=A+(O^(S|~k))+x[12]+1700485571&4294967295,A=S+(D<<6&4294967295|D>>>26),D=k+(S^(A|~O))+x[3]+2399980690&4294967295,k=A+(D<<10&4294967295|D>>>22),D=O+(A^(k|~S))+x[10]+4293915773&4294967295,O=k+(D<<15&4294967295|D>>>17),D=S+(k^(O|~A))+x[1]+2240044497&4294967295,S=O+(D<<21&4294967295|D>>>11),D=A+(O^(S|~k))+x[8]+1873313359&4294967295,A=S+(D<<6&4294967295|D>>>26),D=k+(S^(A|~O))+x[15]+4264355552&4294967295,k=A+(D<<10&4294967295|D>>>22),D=O+(A^(k|~S))+x[6]+2734768916&4294967295,O=k+(D<<15&4294967295|D>>>17),D=S+(k^(O|~A))+x[13]+1309151649&4294967295,S=O+(D<<21&4294967295|D>>>11),D=A+(O^(S|~k))+x[4]+4149444226&4294967295,A=S+(D<<6&4294967295|D>>>26),D=k+(S^(A|~O))+x[11]+3174756917&4294967295,k=A+(D<<10&4294967295|D>>>22),D=O+(A^(k|~S))+x[2]+718787259&4294967295,O=k+(D<<15&4294967295|D>>>17),D=S+(k^(O|~A))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.u=function(I,A){A===void 0&&(A=I.length);for(var S=A-this.blockSize,x=this.B,O=this.h,k=0;k<A;){if(O==0)for(;k<=S;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<A;)if(x[O++]=I.charCodeAt(k++),O==this.blockSize){o(this,x),O=0;break}}else for(;k<A;)if(x[O++]=I[k++],O==this.blockSize){o(this,x),O=0;break}}this.h=O,this.o+=A},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;var S=8*this.o;for(A=I.length-8;A<I.length;++A)I[A]=S&255,S/=256;for(this.u(I),I=Array(16),A=S=0;4>A;++A)for(var x=0;32>x;x+=8)I[S++]=this.g[A]>>>x&255;return I};function h(I,A){var S=g;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=A(I)}function d(I,A){this.h=A;for(var S=[],x=!0,O=I.length-1;0<=O;O--){var k=I[O]|0;x&&k==A||(S[O]=k,x=!1)}this.g=S}var g={};function _(I){return-128<=I&&128>I?h(I,function(A){return new d([A|0],0>A?-1:0)}):new d([I|0],0>I?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return R;if(0>I)return Y(v(-I));for(var A=[],S=1,x=0;I>=S;x++)A[x]=I/S|0,S*=4294967296;return new d(A,0)}function b(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return Y(b(I.substring(1),A));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(A,8)),x=R,O=0;O<I.length;O+=8){var k=Math.min(8,I.length-O),D=parseInt(I.substring(O,O+k),A);8>k?(k=v(Math.pow(A,k)),x=x.j(k).add(v(D))):(x=x.j(S),x=x.add(v(D)))}return x}var R=_(0),N=_(1),F=_(16777216);s=d.prototype,s.m=function(){if(W(this))return-Y(this).m();for(var I=0,A=1,S=0;S<this.g.length;S++){var x=this.i(S);I+=(0<=x?x:4294967296+x)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(W(this))return"-"+Y(this).toString(I);for(var A=v(Math.pow(I,6)),S=this,x="";;){var O=xt(S,A).g;S=ot(S,O.j(A));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=O,J(S))return k+x;for(;6>k.length;)k="0"+k;x=k+x}},s.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(var A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function W(I){return I.h==-1}s.l=function(I){return I=ot(this,I),W(I)?-1:J(I)?0:1};function Y(I){for(var A=I.g.length,S=[],x=0;x<A;x++)S[x]=~I.g[x];return new d(S,~I.h).add(N)}s.abs=function(){return W(this)?Y(this):this},s.add=function(I){for(var A=Math.max(this.g.length,I.g.length),S=[],x=0,O=0;O<=A;O++){var k=x+(this.i(O)&65535)+(I.i(O)&65535),D=(k>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);x=D>>>16,k&=65535,D&=65535,S[O]=D<<16|k}return new d(S,S[S.length-1]&-2147483648?-1:0)};function ot(I,A){return I.add(Y(A))}s.j=function(I){if(J(this)||J(I))return R;if(W(this))return W(I)?Y(this).j(Y(I)):Y(Y(this).j(I));if(W(I))return Y(this.j(Y(I)));if(0>this.l(F)&&0>I.l(F))return v(this.m()*I.m());for(var A=this.g.length+I.g.length,S=[],x=0;x<2*A;x++)S[x]=0;for(x=0;x<this.g.length;x++)for(var O=0;O<I.g.length;O++){var k=this.i(x)>>>16,D=this.i(x)&65535,Me=I.i(O)>>>16,ae=I.i(O)&65535;S[2*x+2*O]+=D*ae,dt(S,2*x+2*O),S[2*x+2*O+1]+=k*ae,dt(S,2*x+2*O+1),S[2*x+2*O+1]+=D*Me,dt(S,2*x+2*O+1),S[2*x+2*O+2]+=k*Me,dt(S,2*x+2*O+2)}for(x=0;x<A;x++)S[x]=S[2*x+1]<<16|S[2*x];for(x=A;x<2*A;x++)S[x]=0;return new d(S,0)};function dt(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function lt(I,A){this.g=I,this.h=A}function xt(I,A){if(J(A))throw Error("division by zero");if(J(I))return new lt(R,R);if(W(I))return A=xt(Y(I),A),new lt(Y(A.g),Y(A.h));if(W(A))return A=xt(I,Y(A)),new lt(Y(A.g),A.h);if(30<I.g.length){if(W(I)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var S=N,x=A;0>=x.l(I);)S=_t(S),x=_t(x);var O=Nt(S,1),k=Nt(x,1);for(x=Nt(x,2),S=Nt(S,2);!J(x);){var D=k.add(x);0>=D.l(I)&&(O=O.add(S),k=D),x=Nt(x,1),S=Nt(S,1)}return A=ot(I,O.j(A)),new lt(O,A)}for(O=R;0<=I.l(A);){for(S=Math.max(1,Math.floor(I.m()/A.m())),x=Math.ceil(Math.log(S)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),k=v(S),D=k.j(A);W(D)||0<D.l(I);)S-=x,k=v(S),D=k.j(A);J(k)&&(k=N),O=O.add(k),I=ot(I,D)}return new lt(O,I)}s.A=function(I){return xt(this,I).h},s.and=function(I){for(var A=Math.max(this.g.length,I.g.length),S=[],x=0;x<A;x++)S[x]=this.i(x)&I.i(x);return new d(S,this.h&I.h)},s.or=function(I){for(var A=Math.max(this.g.length,I.g.length),S=[],x=0;x<A;x++)S[x]=this.i(x)|I.i(x);return new d(S,this.h|I.h)},s.xor=function(I){for(var A=Math.max(this.g.length,I.g.length),S=[],x=0;x<A;x++)S[x]=this.i(x)^I.i(x);return new d(S,this.h^I.h)};function _t(I){for(var A=I.g.length+1,S=[],x=0;x<A;x++)S[x]=I.i(x)<<1|I.i(x-1)>>>31;return new d(S,I.h)}function Nt(I,A){var S=A>>5;A%=32;for(var x=I.g.length-S,O=[],k=0;k<x;k++)O[k]=0<A?I.i(k+S)>>>A|I.i(k+S+1)<<32-A:I.i(k+S);return new d(O,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,P_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,gr=d}).apply(typeof wy<"u"?wy:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j_,jl,B_,Gu,Kf,q_,H_,G_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,U={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,p){return u.call.apply(u.bind,arguments)}function R(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function N(u,m,p){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:R,N.apply(null,arguments)}function F(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,U,q){for(var et=Array(arguments.length-2),It=2;It<arguments.length;It++)et[It-2]=arguments[It];return m.prototype[U].apply(T,et)}}function W(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function Y(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const U=u.length||0,q=T.length||0;u.length=U+q;for(let et=0;et<q;et++)u[U+et]=T[et]}else u.push(T)}}class ot{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function lt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function xt(u){return xt[" "](u),u}xt[" "]=function(){};var _t=lt().indexOf("Gecko")!=-1&&!(lt().toLowerCase().indexOf("webkit")!=-1&&lt().indexOf("Edge")==-1)&&!(lt().indexOf("Trident")!=-1||lt().indexOf("MSIE")!=-1)&&lt().indexOf("Edge")==-1;function Nt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function I(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function A(u){const m={};for(const p in u)m[p]=u[p];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let q=0;q<S.length;q++)p=S[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function k(u){g.setTimeout(()=>{throw u},0)}function D(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,p){const T=ae.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ae=new ot(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ct=!1,zt=new Me,C=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then($)}};var $=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(p){k(p)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Rt(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{xt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}J(Rt,tt);var vt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Ui(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function li(u){this.src=u,this.g={},this.h=0}li.prototype.add=function(u,m,p,T,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=Rr(u,m,T,U);return-1<et?(m=u[et],p||(m.fa=!1)):(m=new Ln(m,this.src,q,!!T,U),m.fa=p,u.push(m)),m};function Sr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(Ui(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Rr(u,m,p,T){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return U}return-1}var wr="closure_lm_"+(1e6*Math.random()|0),Vs={};function co(u,m,p,T,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)co(u,m[q],p,T,U);return null}return p=ho(p),u&&u[De]?u.K(m,p,v(T)?!!T.capture:!1,U):dn(u,m,p,!1,T,U)}function dn(u,m,p,T,U,q){if(!m)throw Error("Invalid event type");var et=v(U)?!!U.capture:!!U,It=Ea(u);if(It||(u[wr]=It=new li(u)),p=It.add(m,p,T,et,q),p.proxy)return p;if(T=Rc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ft||(U=et),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Dr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Rc(){function u(p){return m.call(u.src,u.listener,p)}const m=wc;return u}function Ns(u,m,p,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ns(u,m[q],p,T,U);else T=v(T)?!!T.capture:!!T,p=ho(p),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Rr(q,p,T,U),-1<p&&(Ui(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ea(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rr(m,p,T,U)),(p=-1<u?m[u]:null)&&va(p))}function va(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Sr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Dr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ea(m))?(Sr(p,u),p.h==0&&(p.src=null,m[wr]=null)):Ui(u)}}}function Dr(u){return u in Vs?Vs[u]:Vs[u]="on"+u}function wc(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&va(u),u=p.call(T,m)}return u}function Ea(u){return u=u[wr],u instanceof li?u:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function ho(u){return typeof u=="function"?u:(u[Is]||(u[Is]=function(m){return u.handleEvent(m)}),u[Is])}function se(){it.call(this),this.i=new li(this),this.M=this,this.F=null}J(se,it),se.prototype[De]=!0,se.prototype.removeEventListener=function(u,m,p,T){Ns(this,u,m,p,T)};function qt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var U=m;m=new tt(T,u),x(m,U)}if(U=!0,p)for(var q=p.length-1;0<=q;q--){var et=m.g=p[q];U=rn(et,T,!0,m)&&U}if(et=m.g=u,U=rn(et,T,!0,m)&&U,U=rn(et,T,!1,m)&&U,p)for(q=0;q<p.length;q++)et=m.g=p[q],U=rn(et,T,!1,m)&&U}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ui(p[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},se.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function rn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==p){var It=et.listener,Te=et.ha||et.src;et.fa&&Sr(u.i,et),U=It.call(Te,T)!==!1&&U}}return U&&!T.defaultPrevented}function He(u,m,p){if(typeof u=="function")p&&(u=N(u,p));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function fo(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,fo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Dc extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(u){it.call(this),this.h=u,this.g={}}J(Cr,it);var xr=[];function Vr(u){Nt(u.g,function(m,p){this.g.hasOwnProperty(p)&&va(m)},u),u.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),Vr(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,Ta=g.JSON.parse,Nr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Os(){}Os.prototype.h=null;function Ms(u){return u.h||(u.h=u.i())}function ks(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){tt.call(this,"d")}J(ui,tt);function Us(){tt.call(this,"c")}J(Us,tt);var zn={},Ls=null;function Li(){return Ls=Ls||new se}zn.La="serverreachability";function Aa(u){tt.call(this,zn.La,u)}J(Aa,tt);function zi(u){const m=Li();qt(m,new Aa(m))}zn.STAT_EVENT="statevent";function mo(u,m){tt.call(this,zn.STAT_EVENT,u),this.stat=m}J(mo,tt);function ee(u){const m=Li();qt(m,new mo(m,u))}zn.Ma="timingevent";function Ee(u,m){tt.call(this,zn.Ma,u),this.size=m}J(Ee,tt);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function zs(u,m,p,T,U,q){u.info(function(){if(u.g)if(q)for(var et="",It=q.split("&"),Te=0;Te<It.length;Te++){var Ot=It[Te].split("=");if(1<Ot.length){var xe=Ot[0];Ot=Ot[1];var Ae=xe.split("_");et=2<=Ae.length&&Ae[1]=="type"?et+(xe+"="+Ot+"&"):et+(xe+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+et})}function Cc(u,m,p,T,U,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+q+" "+et})}function Pi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ir(u,p)+(T?" "+T:"")})}function go(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Ir(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<U.length;et++)U[et]=""}}}}return Cn(p)}catch{return m}}var ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function jn(){}J(jn,Os),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},Pn=new jn;function Xe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Ps={},ba={};function xn(u,m,p){u.L=1,u.v=Lr(an(m)),u.m=p,u.P=!0,hi(u,null)}function hi(u,m){u.F=Date.now(),Or(u),u.A=an(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Fs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ue,u.g=No(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Dc(N(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(xr[0]=U.toString()),U=xr);for(var q=0;q<U.length;q++){var et=co(p,U[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),zi(),zs(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=_n(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||bo(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=vi?zi(3):zi(2)),Bi(this);var p=this.g.Z();this.X=p;e:if(po(this)){var T=bo(this.g);u="";var U=T.length,q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),Bn(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=p==200,Cc(this.i,this.u,this.A,this.l,this.R,Ae,p),this.o){if(this.T&&!this.K){e:{if(this.g){var It,Te=this.g;if((It=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(It)){var Ot=It;break e}}Ot=null}if(p=Ot)Pi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,p);else{this.o=!1,this.s=3,ee(12),ke(this),Bn(this);break t}}if(this.P){p=!0;let Ue;for(;!this.J&&this.C<et.length;)if(Ue=yo(this,et),Ue==ba){Ae==4&&(this.s=4,ee(14),p=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Ps){this.s=4,ee(15),Pi(this.i,this.l,et,"[Invalid Chunk]"),p=!1;break}else Pi(this.i,this.l,Ue,null),Mr(this,Ue);if(po(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||et.length!=0||this.h.h||(this.s=1,ee(16),p=!1),this.o=this.o&&p,!p)Pi(this.i,this.l,et,"[Invalid Chunked Response]"),ke(this),Bn(this);else if(0<et.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Fr(xe),xe.M=!0,ee(11))}}else Pi(this.i,this.l,et,null),Mr(this,et);Ae==4&&ke(this),this.o&&!this.J&&(Ae==4?Co(this.j,this):(this.o=!1,Or(this)))}else Oc(this.g),p==400&&0<et.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),ke(this),Bn(this)}}}catch{}finally{}};function po(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function yo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?ba:(p=Number(m.substring(p,T)),isNaN(p)?Ps:(T+=1,T+p>m.length?ba:(m=m.slice(T,T+p),u.C=T+p,m)))}Xe.prototype.cancel=function(){this.J=!0,ke(this)};function Or(u){u.S=Date.now()+u.I,_o(u,u.I)}function _o(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(N(u.ba,u),m)}function Bi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(go(this.i,this.A),this.L!=2&&(zi(),ee(17)),ke(this),this.s=2,Bn(this)):_o(this,this.S-u)};function Bn(u){u.j.G==0||u.J||Co(u.j,u)}function ke(u){Bi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Vr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Mr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||js(p.h,u))){if(!u.K&&js(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)ka(p),Oa(p);else break t;Zs(p),ee(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=de(N(p.Za,p),6e3));if(1>=Ra(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else _i(p,11)}else if((u.K||p.g==u)&&ka(p),!dt(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let Ot=U[m];if(p.T=Ot[0],Ot=Ot[1],p.G==2)if(Ot[0]=="c"){p.K=Ot[1],p.ia=Ot[2];const xe=Ot[3];xe!=null&&(p.la=xe,p.j.info("VER="+p.la));const Ae=Ot[4];Ae!=null&&(p.Aa=Ae,p.j.info("SVER="+p.Aa));const vi=Ot[5];vi!=null&&typeof vi=="number"&&0<vi&&(T=1.5*vi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ue=u.g;if(Ue){const Kn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var q=T.h;q.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(wa(q,q.h),q.h=null))}if(T.D){const Js=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(T.ya=Js,Ft(T.I,T.D,Js))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var et=u;if(T.qa=Vo(T,T.J?T.ia:null,T.W),et.K){Ze(T.h,et);var It=et,Te=T.L;Te&&(It.I=Te),It.B&&(Bi(It),Or(It)),T.g=et}else wo(T);0<p.i.length&&Ma(p)}else Ot[0]!="stop"&&Ot[0]!="close"||_i(p,7);else p.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?_i(p,7):Ks(p):Ot[0]!="noop"&&p.l&&p.l.ta(Ot),p.v=0)}}zi(4)}catch{}}var vo=class{constructor(u,m){this.g=u,this.map=m}};function fi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ra(u){return u.h?1:u.g?u.g.size:0}function js(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wa(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fi.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return W(u.i)}function xc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Da(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function qs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Da(u),T=xc(u),U=T.length,q=0;q<U;q++)m.call(void 0,T[q],p&&p[q],u)}var kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),U=null;if(0<=T){var q=u[p].substring(0,T);U=u[p].substring(T+1)}else q=u[p];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Ur(this,u.j),this.o=u.o,this.g=u.g,qi(this,u.s),this.l=u.l;var m=u.i,p=new mi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),di(this,p),this.m=u.m}else u&&(m=String(u).match(kr))?(this.h=!1,Ur(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),qi(this,m[4]),this.l=gn(m[5]||"",!0),di(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(zr(m,Hs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(zr(m,Hs,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(zr(p,p.charAt(0)=="/"?Nc:Gs,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",zr(p,Ca)),u.join("")};function an(u){return new me(u)}function Ur(u,m,p){u.j=p?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function di(u,m,p){m instanceof mi?(u.i=m,To(u.i,u.h)):(p||(m=zr(m,Ic)),u.i=new mi(m,u.h))}function Ft(u,m,p){u.i.set(m,p)}function Lr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Eo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Eo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,Gs=/[#\?:]/g,Nc=/[#\?]/g,Ic=/[#\?@]/g,Ca=/#/g;function mi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Vc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=mi.prototype,s.add=function(u,m){pn(this),this.i=null,u=qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function gi(u,m){pn(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return pn(u),m=qn(u,m),u.g.has(m)}s.forEach=function(u,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)},s.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=u[T];for(let q=0;q<U.length;q++)p.push(m[T])}return p},s.V=function(u){pn(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return pn(this),this.i=null,u=qn(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Fs(u,m,p){gi(u,m),0<p.length&&(u.i=null,u.g.set(qn(u,m),W(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var U=q;et[T]!==""&&(U+="="+encodeURIComponent(String(et[T]))),u.push(U)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function To(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(gi(this,T),Fs(this,U,p))},u)),u.j=m}function Pr(u,m){const p=new mn;if(g.Image){const T=new Image;T.onload=F(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=F(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=F(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vn(u,m){const p=new mn,T=new AbortController,U=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),yn(p,"TestPingServer: error",!1,m)})}function yn(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function jr(){this.g=new Nr}function Hn(u,m,p){const T=p||"";try{qs(u,function(U,q){let et=U;v(U)&&(et=Cn(U)),m.push(T+q+"="+encodeURIComponent(et))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Hi(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Hi,Os),Hi.prototype.g=function(){return new yi(this.l,this.j)},Hi.prototype.i=function(u){return function(){return u}}({});function yi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(yi,se),s=yi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Fn(this),this.readyState==3&&Qs(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},s.Qa=function(u){this.g&&(this.response=u,Gn(this))},s.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ys(u){let m="";return Nt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ce(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ys(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ft(u,m,p))}function jt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(jt,se);var xa=/^https?$/i,Br=["POST","PUT"];s=jt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Ms(this.o):Ms(Pn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ao(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Br,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of p)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Ao(this,q)}};function Ao(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Va(u),Qn(u)}function Va(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),jt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},s.bb=function(){Na(this)};function Na(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)He(u.Ea,0,u);else if(qt(u,"readystatechange"),_n(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=et===0){var U=String(u.D).match(kr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!xa.test(U?U.toLowerCase():"")}p=T}if(p)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var q=2<_n(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Va(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){qr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{p.onreadystatechange=T}catch{}}}function qr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ta(m)}};function bo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(dt(u[T]))continue;var p=O(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[U]||[];m[U]=q,q.push(p)}I(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ia(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,u),this.cb=Hr("retryDelaySeedMs",1e4,u),this.Wa=Hr("forwardChannelMaxRetries",2,u),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(u&&u.concurrentRequestLimit),this.Da=new jr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ia.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){ee(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Vo(this,null,this.W),Ma(this)};function Ks(u){if(So(u),u.G==3){var m=u.U++,p=an(u.I);if(Ft(p,"SID",u.K),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Gr(u,p),m=new Xe(u,u.j,m),m.L=2,m.v=Lr(an(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=No(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Or(m)}xo(u)}function Oa(u){u.g&&(Fr(u),u.g.cancel(),u.g=null)}function So(u){Oa(u),u.u&&(g.clearTimeout(u.u),u.u=null),ka(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ma(u){if(!Sa(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||C(),ct||(nt(),ct=!0),zt.add(m,u),u.B=0}}function Mc(u,m){return Ra(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(N(u.Ga,u,m),$s(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Xe(this,this.j,u);let q=this.o;if(this.S&&(q?(q=A(q),x(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ro(this,U,m),p=an(this.I),Ft(p,"RID",u),Ft(p,"CVER",22),this.D&&Ft(p,"X-HTTP-Session-Id",this.D),Gr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Ys(q)))+"&"+m:this.m&&Ce(p,this.m,q)),wa(this.h,U),this.Ua&&Ft(p,"TYPE","init"),this.P?(Ft(p,"$req",m),Ft(p,"SID","null"),U.T=!0,xn(U,p,null)):xn(U,p,m),this.G=2}}else this.G==3&&(u?Xs(this,u):this.i.length==0||Sa(this.h)||Xs(this))};function Xs(u,m){var p;m?p=m.l:p=u.U++;const T=an(u.I);Ft(T,"SID",u.K),Ft(T,"RID",p),Ft(T,"AID",u.T),Gr(u,T),u.m&&u.o&&Ce(T,u.m,u.o),p=new Xe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ro(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wa(u.h,p),xn(p,T,m)}function Gr(u,m){u.H&&Nt(u.H,function(p,T){Ft(m,T,p)}),u.l&&qs({},function(p,T){Ft(m,T,p)})}function Ro(u,m,p){p=Math.min(u.i.length,p);var T=u.l?N(u.l.Na,u.l,u):null;t:{var U=u.i;let q=-1;for(;;){const et=["count="+p];q==-1?0<p?(q=U[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let It=!0;for(let Te=0;Te<p;Te++){let Ot=U[Te].g;const xe=U[Te].map;if(Ot-=q,0>Ot)q=Math.max(0,U[Te].g-100),It=!1;else try{Hn(xe,et,"req"+Ot+"_")}catch{T&&T(xe)}}if(It){T=et.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function wo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||C(),ct||(nt(),ct=!0),zt.add(m,u),u.v=0}}function Zs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(N(u.Fa,u),$s(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Do(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(N(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Oa(this),Do(this))};function Fr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Do(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Gr(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Lr(an(m)),p.m=null,p.P=!0,hi(p,u)}s.Za=function(){this.C!=null&&(this.C=null,Oa(this),Zs(this),ee(19))};function ka(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Co(u,m){var p=null;if(u.g==m){ka(u),Fr(u),u.g=null;var T=2}else if(js(u.h,m))p=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Li(),qt(T,new Ee(T,p)),Ma(u)}else wo(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Mc(u,m)||T==2&&Zs(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),U){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function $s(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var p=N(u.fb,u),T=u.Xa;const U=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ur(T,"https"),Lr(T),U?Pr(T.toString(),p):Vn(T.toString(),p)}else ee(2);u.G=0,u.l&&u.l.sa(m),xo(u),So(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function xo(u){if(u.G=0,u.ka=[],u.l){const m=Bs(u.h);(m.length!=0||u.i.length!=0)&&(Y(u.ka,m),Y(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function Vo(u,m,p){var T=p instanceof me?an(p):new me(p);if(T.g!="")m&&(T.g=m+"."+T.g),qi(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new me(null);T&&Ur(q,T),m&&(q.g=m),U&&qi(q,U),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Ft(T,p,m),Ft(T,"VER",u.la),Gr(u,T),T}function No(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new Hi({eb:p})):new jt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Io(){}s=Io.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ua(){}Ua.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new Ia(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}J($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ks(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Cn(u),u=p);m.i.push(new vo(m.Ya++,u)),m.G==3&&Ma(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,$e.aa.N.call(this)};function Oo(u){ui.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(Oo,ui);function Mo(){Us.call(this),this.status=1}J(Mo,Us);function Yn(u){this.g=u}J(Yn,Io),Yn.prototype.ua=function(){qt(this.g,"a")},Yn.prototype.ta=function(u){qt(this.g,new Oo(u))},Yn.prototype.sa=function(u){qt(this.g,new Mo)},Yn.prototype.ra=function(){qt(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,G_=function(){return new Ua},H_=function(){return Li()},q_=zn,Kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ji.NO_ERROR=0,ji.TIMEOUT=8,ji.HTTP_ERROR=6,Gu=ji,ci.COMPLETE="complete",B_=ci,ks.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",se.prototype.listen=se.prototype.K,jl=ks,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,j_=jt}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const Dy="@firebase/firestore",Cy="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rs="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new O_("@firebase/firestore");function hs(){return fa.logLevel}function rt(s,...e){if(fa.logLevel<=Ut.DEBUG){const i=e.map(gd);fa.debug(`Firestore (${Rs}): ${s}`,...i)}}function Mi(s,...e){if(fa.logLevel<=Ut.ERROR){const i=e.map(gd);fa.error(`Firestore (${Rs}): ${s}`,...i)}}function yr(s,...e){if(fa.logLevel<=Ut.WARN){const i=e.map(gd);fa.warn(`Firestore (${Rs}): ${s}`,...i)}}function gd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,F_(s,a,i)}function F_(s,e,i){let a=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Mi(a),new Error(a)}function Bt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||F_(e,o,a)}function Tt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class PT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class jT{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Bt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ua,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ua)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Bt(typeof a.accessToken=="string",31837,{l:a}),new Q_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class BT{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qT{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new BT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Bt(this.o===void 0,3512);const a=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new xy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=GT(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function St(s,e){return s<e?-1:s>e?1:0}function Xf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return St(a,o);{const h=Y_(),d=FT(h.encode(Vy(s,i)),h.encode(Vy(e,i)));return d!==0?d:St(a,o)}}i+=a>65535?2:1}return St(s.length,e.length)}function Vy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function FT(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return St(s[i],e[i]);return St(s.length,e.length)}function vs(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="__name__";class ti{constructor(e,i,a){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&pt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return St(e.length,i.length)}static compareSegments(e,i){const a=ti.isNumericId(e),o=ti.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):Xf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class Jt extends ti{construct(e,i,a){return new Jt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const QT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ti{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return QT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ny}static keyField(){return new Be([Ny])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Jt.fromString(e))}static fromName(e){return new ht(Jt.fromString(e).popFirst(5))}static empty(){return new ht(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(s,e,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function YT(s,e,i,a){if(e===!0&&a===!0)throw new at(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Iy(s){if(!ht.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Oy(s){if(ht.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function X_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function fc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function ps(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fc(s);throw new at(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(s,e){const i={typeString:s};return e&&(i.value=e),i}function ao(s,e){if(!X_(s))throw new at(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new at(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-62135596800,ky=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*ky);return new te(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<My)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ky}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ao(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-My;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:ve("string",te._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new te(0,0))}static max(){return new Et(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function KT(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new te(i+1,0):new te(i,a));return new _r(o,ht.empty(),e)}function XT(s){return new _r(s.readTime,s.key,$l)}class _r{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new _r(Et.min(),ht.empty(),$l)}static max(){return new _r(Et.max(),ht.empty(),$l)}}function ZT(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,e.documentKey),i!==0?i:St(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==$T)throw s;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,a)=>{i(e)})}static reject(e){return new Z((i,a)=>{a(e)})}static waitFor(e){return new Z((i,a)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>a(_))}),d=!0,h===o&&i()})}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next(o=>o?Z.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new Z((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(b=>{d[v]=b,++g,g===h&&a(d)},b=>o(b))}})}static doWhile(e,i){return new Z((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function WT(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ds(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this._e(a),this.ae=a=>i.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}dc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=-1;function mc(s){return s==null}function ec(s){return s===0&&1/s==-1/0}function tA(s){return typeof s=="number"&&Number.isInteger(s)&&!ec(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="";function eA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Uy(e)),e=nA(s.get(i),e);return Uy(e)}function nA(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case Z_:i+="";break;default:i+=h}}return i}function Uy(s){return s+Z_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ma(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function $_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||je.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class je{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??je.RED,this.left=o??je.EMPTY,this.right=h??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new je(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return je.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new zy(this.data.getIterator())}getIteratorFrom(e){return new zy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class zy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new kn([])}unionWith(e){let i=new we(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new J_("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const iA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(s){if(Bt(!!s,39018),typeof s=="string"){let e=0;const i=iA.exec(s);if(Bt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:fe(s.seconds),nanos:fe(s.nanos)}}function fe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Er(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="server_timestamp",t0="__type__",e0="__previous_value__",n0="__local_write_time__";function _d(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[t0])===null||i===void 0?void 0:i.stringValue)===W_}function gc(s){const e=s.mapValue.fields[e0];return _d(e)?gc(e):e}function Jl(s){const e=vr(s.mapValue.fields[n0].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,i,a,o,h,d,g,_,v,b){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=b}}const nc="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||nc}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="__type__",aA="__max__",Lu={mapValue:{}},r0="__vector__",ic="value";function Tr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?_d(s)?4:lA(s)?9007199254740991:sA(s)?10:11:pt(28295,{value:s})}function si(s,e){if(s===e)return!0;const i=Tr(s);if(i!==Tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Jl(s).isEqual(Jl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=vr(o.timestampValue),g=vr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return Er(o.bytesValue).isEqual(Er(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),g=fe(h.doubleValue);return d===g?ec(d)===ec(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return vs(s.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Ly(d)!==Ly(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!si(d[_],g[_])))return!1;return!0}(s,e);default:return pt(52216,{left:s})}}function to(s,e){return(s.values||[]).find(i=>si(i,e))!==void 0}function Es(s,e){if(s===e)return 0;const i=Tr(s),a=Tr(e);if(i!==a)return St(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),_=fe(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return Py(s.timestampValue,e.timestampValue);case 4:return Py(Jl(s),Jl(e));case 5:return Xf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Er(h),_=Er(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const b=St(g[v],_[v]);if(b!==0)return b}return St(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=St(fe(h.latitude),fe(d.latitude));return g!==0?g:St(fe(h.longitude),fe(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return jy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,b;const R=h.fields||{},N=d.fields||{},F=(g=R[ic])===null||g===void 0?void 0:g.arrayValue,J=(_=N[ic])===null||_===void 0?void 0:_.arrayValue,W=St(((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0,((b=J==null?void 0:J.values)===null||b===void 0?void 0:b.length)||0);return W!==0?W:jy(F,J)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Lu.mapValue&&d===Lu.mapValue)return 0;if(h===Lu.mapValue)return 1;if(d===Lu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},b=Object.keys(v);_.sort(),b.sort();for(let R=0;R<_.length&&R<b.length;++R){const N=Xf(_[R],b[R]);if(N!==0)return N;const F=Es(g[_[R]],v[b[R]]);if(F!==0)return F}return St(_.length,b.length)}(s.mapValue,e.mapValue);default:throw pt(23264,{le:i})}}function Py(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return St(s,e);const i=vr(s),a=vr(e),o=St(i.seconds,a.seconds);return o!==0?o:St(i.nanos,a.nanos)}function jy(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Es(i[o],a[o]);if(h)return h}return St(i.length,a.length)}function Ts(s){return Zf(s)}function Zf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=vr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Er(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ht.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Zf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${Zf(i.fields[d])}`;return o+"}"}(s.mapValue):pt(61005,{value:s})}function Fu(s){switch(Tr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gc(s);return e?16+Fu(e):16;case 5:return 2*s.stringValue.length;case 6:return Er(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+Fu(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return ma(a.fields,(h,d)=>{o+=h.length+Fu(d)}),o}(s.mapValue);default:throw pt(13486,{value:s})}}function By(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function $f(s){return!!s&&"integerValue"in s}function vd(s){return!!s&&"arrayValue"in s}function qy(s){return!!s&&"nullValue"in s}function Hy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qu(s){return!!s&&"mapValue"in s}function sA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[i0])===null||i===void 0?void 0:i.stringValue)===r0}function Fl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ma(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Fl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function lA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===aA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Qu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=Be.emptyPath(),a={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Fl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Qu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){ma(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new wn(Fl(this.value))}}function a0(s){const e=[];return ma(s.fields,(i,a)=>{const o=new Be([i]);if(Qu(a)){const h=a0(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,Et.min(),Et.min(),Et.min(),wn.empty(),0)}static newFoundDocument(e,i,a,o){return new Ke(e,1,i,Et.min(),a,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Et.min(),Et.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Et.min(),Et.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i){this.position=e,this.inclusive=i}}function Gy(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=Es(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Fy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!si(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,i="asc"){this.field=e,this.dir=i}}function oA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{}class _e extends s0{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new cA(e,i,a):i==="array-contains"?new dA(e,a):i==="in"?new mA(e,a):i==="not-in"?new gA(e,a):i==="array-contains-any"?new pA(e,a):new _e(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new hA(e,a):new fA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Es(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(Es(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends s0{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new Un(e,i)}matches(e){return l0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function l0(s){return s.op==="and"}function o0(s){return uA(s)&&l0(s)}function uA(s){for(const e of s.filters)if(e instanceof Un)return!1;return!0}function Jf(s){if(s instanceof _e)return s.field.canonicalString()+s.op.toString()+Ts(s.value);if(o0(s))return s.filters.map(e=>Jf(e)).join(",");{const e=s.filters.map(i=>Jf(i)).join(",");return`${s.op}(${e})`}}function u0(s,e){return s instanceof _e?function(a,o){return o instanceof _e&&a.op===o.op&&a.field.isEqual(o.field)&&si(a.value,o.value)}(s,e):s instanceof Un?function(a,o){return o instanceof Un&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,g)=>h&&u0(d,o.filters[g]),!0):!1}(s,e):void pt(19439)}function c0(s){return s instanceof _e?function(i){return`${i.field.canonicalString()} ${i.op} ${Ts(i.value)}`}(s):s instanceof Un?function(i){return i.op.toString()+" {"+i.getFilters().map(c0).join(" ,")+"}"}(s):"Filter"}class cA extends _e{constructor(e,i,a){super(e,i,a),this.key=ht.fromName(a.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class hA extends _e{constructor(e,i){super(e,"in",i),this.keys=h0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class fA extends _e{constructor(e,i){super(e,"not-in",i),this.keys=h0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function h0(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ht.fromName(a.referenceValue))}class dA extends _e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return vd(i)&&to(i.arrayValue,this.value)}}class mA extends _e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&to(this.value.arrayValue,i)}}class gA extends _e{constructor(e,i){super(e,"not-in",i)}matches(e){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!to(this.value.arrayValue,i)}}class pA extends _e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!vd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>to(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Pe=null}}function Qy(s,e=null,i=[],a=[],o=null,h=null,d=null){return new yA(s,e,i,a,o,h,d)}function Ed(s){const e=Tt(s);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Jf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),mc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Ts(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Ts(a)).join(",")),e.Pe=i}return e.Pe}function Td(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!oA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!u0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Fy(s.startAt,e.startAt)&&Fy(s.endAt,e.endAt)}function Wf(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function _A(s,e,i,a,o,h,d,g){return new Cs(s,e,i,a,o,h,d,g)}function Ad(s){return new Cs(s)}function Yy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function f0(s){return s.collectionGroup!==null}function Ql(s){const e=Tt(s);if(e.Te===null){e.Te=[];const i=new Set;for(const h of e.explicitOrderBy)e.Te.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Te.push(new eo(h,a))}),i.has(Be.keyField().canonicalString())||e.Te.push(new eo(Be.keyField(),a))}return e.Te}function ei(s){const e=Tt(s);return e.Ie||(e.Ie=vA(e,Ql(s))),e.Ie}function vA(s,e){if(s.limitType==="F")return Qy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new eo(o.field,h)});const i=s.endAt?new rc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new rc(s.startAt.position,s.startAt.inclusive):null;return Qy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function td(s,e){const i=s.filters.concat([e]);return new Cs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function ed(s,e,i){return new Cs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function pc(s,e){return Td(ei(s),ei(e))&&s.limitType===e.limitType}function d0(s){return`${Ed(ei(s))}|lt:${s.limitType}`}function fs(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>c0(o)).join(", ")}]`),mc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>Ts(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>Ts(o)).join(",")),`Target(${a})`}(ei(s))}; limitType=${s.limitType})`}function yc(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ht.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of Ql(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,g,_){const v=Gy(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Ql(a),o)||a.endAt&&!function(d,g,_){const v=Gy(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Ql(a),o))}(s,e)}function EA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function m0(s){return(e,i)=>{let a=!1;for(const o of Ql(s)){const h=TA(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function TA(s,e,i){const a=s.field.isKeyField()?ht.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?Es(_,v):pt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return $_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new re(ht.comparator);function ki(){return AA}const g0=new re(ht.comparator);function Bl(...s){let e=g0;for(const i of s)e=e.insert(i.key,i);return e}function p0(s){let e=g0;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function oa(){return Yl()}function y0(){return Yl()}function Yl(){return new ga(s=>s.toString(),(s,e)=>s.isEqual(e))}const bA=new re(ht.comparator),SA=new we(ht.comparator);function Vt(...s){let e=SA;for(const i of s)e=e.add(i);return e}const RA=new we(St);function wA(){return RA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function _0(s){return{integerValue:""+s}}function DA(s,e){return tA(e)?_0(e):bd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this._=void 0}}function CA(s,e,i){return s instanceof ac?function(o,h){const d={fields:{[t0]:{stringValue:W_},[n0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&_d(h)&&(h=gc(h)),h&&(d.fields[e0]=h),{mapValue:d}}(i,e):s instanceof no?E0(s,e):s instanceof io?T0(s,e):function(o,h){const d=v0(o,h),g=Ky(d)+Ky(o.Ee);return $f(d)&&$f(o.Ee)?_0(g):bd(o.serializer,g)}(s,e)}function xA(s,e,i){return s instanceof no?E0(s,e):s instanceof io?T0(s,e):i}function v0(s,e){return s instanceof sc?function(a){return $f(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class ac extends _c{}class no extends _c{constructor(e){super(),this.elements=e}}function E0(s,e){const i=A0(e);for(const a of s.elements)i.some(o=>si(o,a))||i.push(a);return{arrayValue:{values:i}}}class io extends _c{constructor(e){super(),this.elements=e}}function T0(s,e){let i=A0(e);for(const a of s.elements)i=i.filter(o=>!si(o,a));return{arrayValue:{values:i}}}class sc extends _c{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function Ky(s){return fe(s.integerValue||s.doubleValue)}function A0(s){return vd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function VA(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof no&&o instanceof no||a instanceof io&&o instanceof io?vs(a.elements,o.elements,si):a instanceof sc&&o instanceof sc?si(a.Ee,o.Ee):a instanceof ac&&o instanceof ac}(s.transform,e.transform)}class NA{constructor(e,i){this.version=e,this.transformResults=i}}class ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class vc{}function b0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Sd(s.key,ni.none()):new so(s.key,s.data,ni.none());{const i=s.data,a=wn.empty();let o=new we(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new pa(s.key,a,new kn(o.toArray()),ni.none())}}function IA(s,e,i){s instanceof so?function(o,h,d){const g=o.value.clone(),_=Zy(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof pa?function(o,h,d){if(!Yu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Zy(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(S0(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Kl(s,e,i,a){return s instanceof so?function(h,d,g,_){if(!Yu(h.precondition,d))return g;const v=h.value.clone(),b=$y(h.fieldTransforms,_,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof pa?function(h,d,g,_){if(!Yu(h.precondition,d))return g;const v=$y(h.fieldTransforms,_,d),b=d.data;return b.setAll(S0(h)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(R=>R.field))}(s,e,i,a):function(h,d,g){return Yu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function OA(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=v0(a.transform,o||null);h!=null&&(i===null&&(i=wn.empty()),i.set(a.field,h))}return i||null}function Xy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&vs(a,o,(h,d)=>VA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class so extends vc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pa extends vc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function S0(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Zy(s,e,i){const a=new Map;Bt(s.length===i.length,32656,{Ae:i.length,Re:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,xA(d,g,i[o]))}return a}function $y(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,CA(h,d,e))}return a}class Sd extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MA extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&IA(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=y0();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=b0(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(i,a)=>Xy(i,a))&&vs(this.baseMutations,e.baseMutations,(i,a)=>Xy(i,a))}}class Rd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Bt(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let o=function(){return bA}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Rd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,kt;function zA(s){switch(s){case K.OK:return pt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function R0(s){if(s===void 0)return Mi("GRPC error has no .code"),K.UNKNOWN;switch(s){case ye.OK:return K.OK;case ye.CANCELLED:return K.CANCELLED;case ye.UNKNOWN:return K.UNKNOWN;case ye.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ye.INTERNAL:return K.INTERNAL;case ye.UNAVAILABLE:return K.UNAVAILABLE;case ye.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ye.NOT_FOUND:return K.NOT_FOUND;case ye.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ye.ABORTED:return K.ABORTED;case ye.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ye.DATA_LOSS:return K.DATA_LOSS;default:return pt(39323,{code:s})}}(kt=ye||(ye={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new gr([4294967295,4294967295],0);function Jy(s){const e=Y_().encode(s),i=new P_;return i.update(e),new Uint8Array(i.digest())}function Wy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new gr([i,a],0),new gr([o,h],0)]}class wd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(a<0)throw new ql(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=gr.fromNumber(this.fe)}pe(e,i,a){let o=e.add(i.multiply(gr.fromNumber(a)));return o.compare(PA)===1&&(o=new gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=Jy(e),[a,o]=Wy(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(a,o,h);if(!this.ye(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new wd(h,o,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const i=Jy(e),[a,o]=Wy(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(a,o,h);this.we(d)}}we(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,lo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ec(Et.min(),o,new re(St),ki(),Vt())}}class lo{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new lo(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.be=o}}class w0{constructor(e,i){this.targetId=e,this.De=i}}class D0{constructor(e,i,a=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class t_{constructor(){this.ve=0,this.Ce=e_(),this.Fe=qe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Vt(),i=Vt(),a=Vt();return this.Ce.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:pt(38017,{changeType:h})}}),new lo(this.Fe,this.Me,e,i,a)}ke(){this.xe=!1,this.Ce=e_()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class jA{constructor(e){this.We=e,this.Ge=new Map,this.ze=ki(),this.je=zu(),this.Je=zu(),this.He=new re(St)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const a=this.tt(i);switch(e.state){case 0:this.nt(i)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),a.Be(e.resumeToken));break;default:pt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((a,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,a=e.De.count,o=this.st(i);if(o){const h=o.target;if(Wf(h))if(a===0){const d=new ht(h.path);this.Xe(i,d,Ke.newNoDocument(d,Et.min()))}else Bt(a===1,20013,{expectedCount:a});else{const d=this.ot(i);if(d!==a){const g=this._t(e),_=g?this.ut(g,e,d):1;if(_!==0){this.rt(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,v)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Er(a).toUint8Array()}catch(_){if(_ instanceof J_)return yr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new wd(d,o,h)}catch(_){return yr(_ instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.fe===0?null:g}ut(e,i,a){return i.De.count===a-this.ht(e,i.targetId)?0:2}ht(e,i){const a=this.We.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,h,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((h,d)=>{const g=this.st(d);if(g){if(h.current&&Wf(g.target)){const _=new ht(g.target.path);this.Tt(_).has(d)||this.It(d,_)||this.Xe(d,_,Ke.newNoDocument(_,e))}h.Ne&&(i.set(d,h.Le()),h.ke())}});let a=Vt();this.Je.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.st(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.ze.forEach((h,d)=>d.setReadTime(e));const o=new Ec(e,i,this.He,this.ze,a);return this.ze=ki(),this.je=zu(),this.Je=zu(),this.He=new re(St),o}Ze(e,i){if(!this.nt(e))return;const a=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,a),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,a){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),a&&(this.ze=this.ze.insert(i,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new t_,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new we(St),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new we(St),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new t_),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function zu(){return new re(ht.comparator)}function e_(){return new re(ht.comparator)}const BA={asc:"ASCENDING",desc:"DESCENDING"},qA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HA={and:"AND",or:"OR"};class GA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(s,e){return s.useProto3Json||mc(e)?e:{value:e}}function lc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function FA(s,e){return lc(s,e.toTimestamp())}function ii(s){return Bt(!!s,49232),Et.fromTimestamp(function(i){const a=vr(i);return new te(a.seconds,a.nanos)}(s))}function Dd(s,e){return id(s,e).canonicalString()}function id(s,e){const i=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function x0(s){const e=Jt.fromString(s);return Bt(M0(e),10190,{key:e.toString()}),e}function rd(s,e){return Dd(s.databaseId,e.path)}function Uf(s,e){const i=x0(e);if(i.get(1)!==s.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(N0(i))}function V0(s,e){return Dd(s.databaseId,e)}function QA(s){const e=x0(s);return e.length===4?Jt.emptyPath():N0(e)}function ad(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function N0(s){return Bt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function n_(s,e,i){return{name:rd(s,e),fields:i.value.mapValue.fields}}function YA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,b){return v.useProto3Json?(Bt(b===void 0||typeof b=="string",58123),qe.fromBase64String(b||"")):(Bt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),qe.fromUint8Array(b||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const b=v.code===void 0?K.UNKNOWN:R0(v.code);return new at(b,v.message||"")}(d);i=new D0(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Uf(s,a.document.name),h=ii(a.document.updateTime),d=a.document.createTime?ii(a.document.createTime):Et.min(),g=new wn({mapValue:{fields:a.document.fields}}),_=Ke.newFoundDocument(o,h,d,g),v=a.targetIds||[],b=a.removedTargetIds||[];i=new Ku(v,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Uf(s,a.document),h=a.readTime?ii(a.readTime):Et.min(),d=Ke.newNoDocument(o,h),g=a.removedTargetIds||[];i=new Ku([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Uf(s,a.document),h=a.removedTargetIds||[];i=new Ku([],h,o,null)}else{if(!("filter"in e))return pt(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new LA(o,h),g=a.targetId;i=new w0(g,d)}}return i}function KA(s,e){let i;if(e instanceof so)i={update:n_(s,e.key,e.value)};else if(e instanceof Sd)i={delete:rd(s,e.key)};else if(e instanceof pa)i={update:n_(s,e.key,e.data),updateMask:ib(e.fieldMask)};else{if(!(e instanceof MA))return pt(16599,{Rt:e.type});i={verify:rd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof ac)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof no)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof io)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof sc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw pt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:FA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)}(s,e.precondition)),i}function XA(s,e){return s&&s.length>0?(Bt(e!==void 0,14353),s.map(i=>function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(Et.min())&&(d=ii(h)),new NA(d,o.transformResults||[])}(i,e))):[]}function ZA(s,e){return{documents:[V0(s,e.path)]}}function $A(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=V0(s,o);const h=function(v){if(v.length!==0)return O0(Un.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(b=>function(N){return{field:ds(N.field),direction:tb(N.dir)}}(b))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=nd(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{Vt:i,parent:o}}function JA(s){let e=QA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Bt(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=function(R){const N=I0(R);return N instanceof Un&&o0(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(N=>function(J){return new eo(ms(J.field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(N))}(i.orderBy));let g=null;i.limit&&(g=function(R){let N;return N=typeof R=="object"?R.value:R,mc(N)?null:N}(i.limit));let _=null;i.startAt&&(_=function(R){const N=!!R.before,F=R.values||[];return new rc(F,N)}(i.startAt));let v=null;return i.endAt&&(v=function(R){const N=!R.before,F=R.values||[];return new rc(F,N)}(i.endAt)),_A(e,o,d,h,g,"F",_,v)}function WA(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function I0(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ms(i.unaryFilter.field);return _e.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ms(i.unaryFilter.field);return _e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ms(i.unaryFilter.field);return _e.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ms(i.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(s):s.fieldFilter!==void 0?function(i){return _e.create(ms(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Un.create(i.compositeFilter.filters.map(a=>I0(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(s):pt(30097,{filter:s})}function tb(s){return BA[s]}function eb(s){return qA[s]}function nb(s){return HA[s]}function ds(s){return{fieldPath:s.canonicalString()}}function ms(s){return Be.fromServerFormat(s.fieldPath)}function O0(s){return s instanceof _e?function(i){if(i.op==="=="){if(Hy(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NAN"}};if(qy(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Hy(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NOT_NAN"}};if(qy(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(i.field),op:eb(i.op),value:i.value}}}(s):s instanceof Un?function(i){const a=i.getFilters().map(o=>O0(o));return a.length===1?a[0]:{compositeFilter:{op:nb(i.op),filters:a}}}(s):pt(54877,{filter:s})}function ib(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function M0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,i,a,o,h=Et.min(),d=Et.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.gt=e}}function ab(s){const e=JA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.Dn=new lb}addToCollectionParentIndex(e,i){return this.Dn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(_r.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class lb{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new we(Jt.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new we(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k0=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(k0,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new As(0)}static ur(){return new As(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="LruGarbageCollector",ob=1048576;function a_([s,e],[i,a]){const o=St(s,i);return o===0?St(e,a):o}class ub{constructor(e){this.Tr=e,this.buffer=new we(a_),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();a_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cb{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){rt(r_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ds(i)?rt(r_,"Ignoring IndexedDB error during garbage collection: ",i):await ws(i)}await this.Rr(3e5)})}}class hb{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(dc.ue);const a=new ub(i);return this.Vr.forEachTarget(e,o=>a.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>a.Er(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(i_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i_):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let a,o,h,d,g,_,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(a=R,g=Date.now(),this.removeTargets(e,a,i))).next(R=>(h=R,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(R=>(v=Date.now(),hs()<=Ut.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${R} documents in `+(v-_)+`ms
Total Duration: ${v-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:R})))}}function fb(s,e){return new hb(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.changes=new ga(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&Kl(a.mutation,o,kn.empty(),te.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Vt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Vt()){const o=oa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=Bl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Vt()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,o){let h=ki();const d=Yl(),g=function(){return Yl()}();return i.forEach((_,v)=>{const b=a.get(v.key);o.has(v.key)&&(b===void 0||b.mutation instanceof pa)?h=h.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),Kl(b.mutation,v,b.mutation.getFieldMask(),te.now())):d.set(v.key,kn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,b)=>d.set(v,b)),i.forEach((v,b)=>{var R;return g.set(v,new mb(b,(R=d.get(v))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(e,i){const a=Yl();let o=new re((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let b=a.get(_)||kn.empty();b=g.applyToLocalView(v,b),a.set(_,b);const R=(o.get(g.batchId)||Vt()).add(_);o=o.insert(g.batchId,R)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,b=_.value,R=y0();b.forEach(N=>{if(!h.has(N)){const F=b0(i.get(N),a.get(N));F!==null&&R.set(N,F),h=h.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,R))}return Z.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):f0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Z.resolve(oa());let g=$l,_=h;return d.next(v=>Z.forEach(v,(b,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),h.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(e,b).next(N=>{_=_.insert(b,N)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Vt())).next(b=>({batchId:g,changes:p0(b)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next(a=>{let o=Bl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next(g=>Z.forEach(g,_=>{const v=function(R,N){return new Cs(N,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next(b=>{b.forEach((R,N)=>{d=d.insert(R,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((_,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,Ke.newInvalidDocument(b)))});let g=Bl();return d.forEach((_,v)=>{const b=h.get(_);b!==void 0&&Kl(b.mutation,v,kn.empty(),te.now()),yc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:ab(o.bundledQuery),readTime:ii(o.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.overlays=new re(ht.comparator),this.kr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return Z.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.wt(e,i,h)}),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.kr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.kr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=oa(),h=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new re((v,b)=>v-b);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let b=h.get(v.largestBatchId);b===null&&(b=oa(),h=h.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const g=oa(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,b)=>g.set(v,b)),!(g.size()>=o)););return Z.resolve(g)}wt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(a.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new UA(i,a));let h=this.kr.get(i);h===void 0&&(h=Vt(),this.kr.set(i,h)),this.kr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.qr=new we(Oe.Qr),this.$r=new we(Oe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const a=new Oe(e,i);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Wr(new Oe(e,i))}Gr(e,i){e.forEach(a=>this.removeReference(a,i))}zr(e){const i=new ht(new Jt([])),a=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.$r.forEachInRange([a,o],d=>{this.Wr(d),h.push(d.key)}),h}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new ht(new Jt([])),a=new Oe(i,e),o=new Oe(i,e+1);let h=Vt();return this.$r.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),a=this.qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Oe{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return ht.comparator(e.key,i.key)||St(e.Hr,i.Hr)}static Ur(e,i){return St(e.Hr,i.Hr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new we(Oe.Qr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kA(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?yd:this.er-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([a,o],d=>{const g=this.Zr(d.Hr);h.push(g)}),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new we(St);return i.forEach(o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,d],g=>{a=a.add(g.Hr)})}),Z.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ht.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ht(h),0);let g=new we(St);return this.Yr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Hr)),!0)},d),Z.resolve(this.ei(g))}ei(e){const i=[];return e.forEach(a=>{const o=this.Zr(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Bt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return Z.forEach(i.mutations,o=>{const h=new Oe(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,i){const a=new Oe(i,0),o=this.Yr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.ni=e,this.docs=function(){return new re(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let a=ki();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))}),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=ki();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:b}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||ZT(XT(b),a)<=0||(o.has(b.key)||yc(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,a,o){pt(9500)}ri(e,i){return Z.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new Tb(this)}getSize(e){return Z.resolve(this.size)}}class Tb extends db{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(a)}),Z.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.persistence=e,this.ii=new ga(i=>Ed(i),Td),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.si=0,this.oi=new Cd,this.targetCount=0,this._i=As.ar()}forEachTarget(e,i){return this.ii.forEach((a,o)=>i(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.si&&(this.si=i),Z.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new As(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.hr(i),Z.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ii.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Z.waitFor(h).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.ii.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this.oi.Kr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this.oi.Gr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this.oi.Jr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,i){this.ai={},this.overlays={},this.ui=new dc(0),this.ci=!1,this.ci=!0,this.li=new _b,this.referenceDelegate=e(this),this.hi=new Ab(this),this.indexManager=new sb,this.remoteDocumentCache=function(o){return new Eb(o)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new rb(i),this.Ti=new pb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new yb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ai[e.toKey()];return a||(a=new vb(i,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,a){rt("MemoryPersistence","Starting transaction:",e);const o=new bb(this.ui.next());return this.referenceDelegate.Ii(),a(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ei(e,i){return Z.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,i)))}}class bb extends JT{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Ai=new Cd,this.Ri=null}static Vi(e){return new xd(e)}get mi(){if(this.Ri)return this.Ri;throw pt(60996)}addReference(e,i,a){return this.Ai.addReference(a,i),this.mi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ai.removeReference(a,i),this.mi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.mi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.mi,a=>{const o=ht.fromPath(a);return this.fi(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(a=>{a?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return Z.or([()=>Z.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class oc{constructor(e,i){this.persistence=e,this.gi=new ga(a=>eA(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=fb(this,i)}static Vi(e,i){return new oc(e,i)}Ii(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}yr(e){let i=0;return this.gr(e,a=>{i++}).next(()=>i)}gr(e,i){return Z.forEach(this.gi,(a,o)=>this.Sr(e,a,o).next(h=>h?Z.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,i).next(g=>{g||(a++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.gi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.gi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),Z.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fu(e.data.value)),i}Sr(e,i,a){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Is=a,this.ds=o}static Es(e,i){let a=Vt(),o=Vt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Vd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return E1()?8:WT(_1())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ps(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ys(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new Sb;return this.ws(e,i,d).next(g=>{if(h.result=g,this.Rs)return this.Ss(e,i,d,g.size)})}).next(()=>h.result)}Ss(e,i,a,o){return a.documentReadCount<this.Vs?(hs()<=Ut.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",fs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(hs()<=Ut.DEBUG&&rt("QueryEngine","Query:",fs(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.fs*o?(hs()<=Ut.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",fs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Z.resolve())}ps(e,i){if(Yy(i))return Z.resolve(null);let a=ei(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=ed(i,null,"F"),a=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Vt(...h);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.bs(i,g);return this.Ds(i,v,d,_.readTime)?this.ps(e,ed(i,null,"F")):this.vs(e,v,i,_)}))})))}ys(e,i,a,o){return Yy(i)||o.isEqual(Et.min())?Z.resolve(null):this.gs.getDocuments(e,a).next(h=>{const d=this.bs(i,h);return this.Ds(i,d,a,o)?Z.resolve(null):(hs()<=Ut.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fs(i)),this.vs(e,d,i,KT(o,$l)).next(g=>g))})}bs(e,i){let a=new we(m0(e));return i.forEach((o,h)=>{yc(e,h)&&(a=a.add(h))}),a}Ds(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ws(e,i,a){return hs()<=Ut.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",fs(i)),this.gs.getDocumentsMatchingQuery(e,i,_r.min(),a)}vs(e,i,a,o){return this.gs.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="LocalStore",wb=3e8;class Db{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new re(St),this.Ms=new ga(h=>Ed(h),Td),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gb(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function Cb(s,e,i,a){return new Db(s,e,i,a)}async function L0(s,e){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.Ns(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=Vt();for(const v of o){d.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}for(const v of h){g.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Bs:v,removedBatchIds:d,addedBatchIds:g}))})})}function xb(s,e){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,_,v,b){const R=v.batch,N=R.keys();let F=Z.resolve();return N.forEach(J=>{F=F.next(()=>b.getEntry(_,J)).next(W=>{const Y=v.docVersions.get(J);Bt(Y!==null,48541),W.version.compareTo(Y)<0&&(R.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),b.addEntry(W)))})}),F.next(()=>g.mutationQueue.removeMutationBatch(_,R))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function z0(s){const e=Tt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function Vb(s,e){const i=Tt(s),a=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];e.targetChanges.forEach((b,R)=>{const N=o.get(R);if(!N)return;g.push(i.hi.removeMatchingKeys(h,b.removedDocuments,R).next(()=>i.hi.addMatchingKeys(h,b.addedDocuments,R)));let F=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(R)!==null?F=F.withResumeToken(qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),o=o.insert(R,F),function(W,Y,ot){return W.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=wb?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0}(N,F,b)&&g.push(i.hi.updateTargetData(h,F))});let _=ki(),v=Vt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))}),g.push(Nb(h,d,e.documentUpdates).next(b=>{_=b.Ls,v=b.ks})),!a.isEqual(Et.min())){const b=i.hi.getLastRemoteSnapshotVersion(h).next(R=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(b)}return Z.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Fs=o,h))}function Nb(s,e,i){let a=Vt(),o=Vt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=ki();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Et.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):rt(Nd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Ls:d,ks:o}})}function Ib(s,e){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=yd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Ob(s,e){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.hi.getTargetData(a,e).next(h=>h?(o=h,Z.resolve(o)):i.hi.allocateTargetId(a).next(d=>(o=new fr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.hi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Fs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(a.targetId,a),i.Ms.set(e,a.targetId)),a})}async function sd(s,e,i){const a=Tt(s),o=a.Fs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ds(d))throw d;rt(Nd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(o.target)}function s_(s,e,i){const a=Tt(s);let o=Et.min(),h=Vt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,b){const R=Tt(_),N=R.Ms.get(b);return N!==void 0?Z.resolve(R.Fs.get(N)):R.hi.getTargetData(v,b)}(a,d,ei(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:Vt())).next(g=>(Mb(a,EA(e),g),{documents:g,qs:h})))}function Mb(s,e,i){let a=s.xs.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.xs.set(e,a)}class l_{constructor(){this.activeTargetIds=wA()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kb{constructor(){this.Fo=new l_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,a){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new l_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="ConnectivityMonitor";class u_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){rt(o_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){rt(o_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=null;function ld(){return Pu===null?Pu=function(){return 268435456+Math.round(2147483648*Math.random())}():Pu++,"0x"+Pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="RestConnection",Lb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zb{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.Ko=this.databaseId.database===nc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,h){const d=ld(),g=this.Go(e,i.toUriEncodedString());rt(Lf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(_,o,h);const{host:v}=new URL(g),b=dd(v);return this.jo(e,g,_,a,b).then(R=>(rt(Lf,`Received RPC '${e}' ${d}: `,R),R),R=>{throw yr(Lf,`RPC '${e}' ${d} failed with error: `,R,"url: ",g,"request:",a),R})}Jo(e,i,a,o,h,d){return this.Wo(e,i,a,o,h)}zo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}Go(e,i){const a=Lb[e];return`${this.$o}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class jb extends zb{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,a,o,h){const d=ld();return new Promise((g,_)=>{const v=new j_;v.setWithCredentials(!0),v.listenOnce(B_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Gu.NO_ERROR:const R=v.getResponseJson();rt(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),g(R);break;case Gu.TIMEOUT:rt(Qe,`RPC '${e}' ${d} timed out`),_(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case Gu.HTTP_ERROR:const N=v.getStatus();if(rt(Qe,`RPC '${e}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F==null?void 0:F.error;if(J&&J.status&&J.message){const W=function(ot){const dt=ot.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(dt)>=0?dt:K.UNKNOWN}(J.status);_(new at(W,J.message))}else _(new at(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new at(K.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{c_:e,streamId:d,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{rt(Qe,`RPC '${e}' ${d} completed.`)}});const b=JSON.stringify(o);rt(Qe,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",b,a,15)})}P_(e,i,a){const o=ld(),h=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=G_(),g=H_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.zo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const b=h.join("");rt(Qe,`Creating RPC '${e}' stream ${o}: ${b}`,_);const R=d.createWebChannel(b,_);this.T_(R);let N=!1,F=!1;const J=new Pb({Ho:Y=>{F?rt(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(N||(rt(Qe,`Opening RPC '${e}' stream ${o} transport.`),R.open(),N=!0),rt(Qe,`RPC '${e}' stream ${o} sending:`,Y),R.send(Y))},Yo:()=>R.close()}),W=(Y,ot,dt)=>{Y.listen(ot,lt=>{try{dt(lt)}catch(xt){setTimeout(()=>{throw xt},0)}})};return W(R,jl.EventType.OPEN,()=>{F||(rt(Qe,`RPC '${e}' stream ${o} transport opened.`),J.s_())}),W(R,jl.EventType.CLOSE,()=>{F||(F=!0,rt(Qe,`RPC '${e}' stream ${o} transport closed`),J.__(),this.I_(R))}),W(R,jl.EventType.ERROR,Y=>{F||(F=!0,yr(Qe,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),J.__(new at(K.UNAVAILABLE,"The operation could not be completed")))}),W(R,jl.EventType.MESSAGE,Y=>{var ot;if(!F){const dt=Y.data[0];Bt(!!dt,16349);const lt=dt,xt=(lt==null?void 0:lt.error)||((ot=lt[0])===null||ot===void 0?void 0:ot.error);if(xt){rt(Qe,`RPC '${e}' stream ${o} received error:`,xt);const _t=xt.status;let Nt=function(S){const x=ye[S];if(x!==void 0)return R0(x)}(_t),I=xt.message;Nt===void 0&&(Nt=K.INTERNAL,I="Unknown error status: "+_t+" with message "+xt.message),F=!0,J.__(new at(Nt,I)),R.close()}else rt(Qe,`RPC '${e}' stream ${o} received:`,dt),J.a_(dt)}}),W(g,q_.STAT_EVENT,Y=>{Y.stat===Kf.PROXY?rt(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===Kf.NOPROXY&&rt(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.o_()},0),J}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(s){return new GA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Fi=e,this.timerId=i,this.d_=a,this.E_=o,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-a);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="PersistentStream";class j0{constructor(e,i,a,o,h,d,g,_){this.Fi=e,this.w_=a,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new P0(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.b_===i&&this.W_(a,o)},a=>{e(()=>{const o=new at(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(o)})})}W_(e,i){const a=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{a(()=>this.G_(o))}),this.stream.onMessage(o=>{a(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return rt(c_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(rt(c_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bb extends j0{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=YA(this.serializer,e),a=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ii(d.readTime):Et.min()}(e);return this.listener.J_(i,a)}H_(e){const i={};i.database=ad(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Wf(_)?{documents:ZA(h,_)}:{query:$A(h,_).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=C0(h,d.resumeToken);const v=nd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=lc(h,d.snapshotVersion.toTimestamp());const v=nd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=WA(this.serializer,e);a&&(i.labels=a),this.k_(i)}Y_(e){const i={};i.database=ad(this.serializer),i.removeTarget=e,this.k_(i)}}class qb extends j0{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return Bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=XA(e.writeResults,e.commitTime),a=ii(e.commitTime);return this.listener.ta(a,i)}na(){const e={};e.database=ad(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>KA(this.serializer,a))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{}class Gb extends Hb{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(e,id(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(K.UNKNOWN,h.toString())})}Jo(e,i,a,o,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,id(i,a),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(K.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Fb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Mi(i),this._a=!1):rt("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class Qb{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo(d=>{a.enqueueAndForget(async()=>{ya(this)&&(rt(da,"Restarting streams for network reachability change."),await async function(_){const v=Tt(_);v.Ia.add(4),await oo(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Ac(v)}(this))})}),this.Aa=new Fb(a,o)}}async function Ac(s){if(ya(s))for(const e of s.da)await e(!0)}async function oo(s){for(const e of s.da)await e(!1)}function B0(s,e){const i=Tt(s);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),kd(i)?Md(i):xs(i).x_()&&Od(i,e))}function Id(s,e){const i=Tt(s),a=xs(i);i.Ta.delete(e),a.x_()&&q0(i,e),i.Ta.size===0&&(a.x_()?a.B_():ya(i)&&i.Aa.set("Unknown"))}function Od(s,e){if(s.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}xs(s).H_(e)}function q0(s,e){s.Ra.$e(e),xs(s).Y_(e)}function Md(s){s.Ra=new jA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>s.Ta.get(e)||null,lt:()=>s.datastore.serializer.databaseId}),xs(s).start(),s.Aa.aa()}function kd(s){return ya(s)&&!xs(s).M_()&&s.Ta.size>0}function ya(s){return Tt(s).Ia.size===0}function H0(s){s.Ra=void 0}async function Yb(s){s.Aa.set("Online")}async function Kb(s){s.Ta.forEach((e,i)=>{Od(s,e)})}async function Xb(s,e){H0(s),kd(s)?(s.Aa.la(e),Md(s)):s.Aa.set("Unknown")}async function Zb(s,e,i){if(s.Aa.set("Online"),e instanceof D0&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(s,e)}catch(a){rt(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await uc(s,a)}else if(e instanceof Ku?s.Ra.Ye(e):e instanceof w0?s.Ra.it(e):s.Ra.et(e),!i.isEqual(Et.min()))try{const a=await z0(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.Ra.Pt(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const b=h.Ta.get(v);b&&h.Ta.set(v,b.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const b=h.Ta.get(_);if(!b)return;h.Ta.set(_,b.withResumeToken(qe.EMPTY_BYTE_STRING,b.snapshotVersion)),q0(h,_);const R=new fr(b.target,_,v,b.sequenceNumber);Od(h,R)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){rt(da,"Failed to raise snapshot:",a),await uc(s,a)}}async function uc(s,e,i){if(!Ds(e))throw e;s.Ia.add(1),await oo(s),s.Aa.set("Offline"),i||(i=()=>z0(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{rt(da,"Retrying IndexedDB access"),await i(),s.Ia.delete(1),await Ac(s)})}function G0(s,e){return e().catch(i=>uc(s,i,e))}async function bc(s){const e=Tt(s),i=Ar(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:yd;for(;$b(e);)try{const o=await Ib(e.localStore,a);if(o===null){e.Pa.length===0&&i.B_();break}a=o.batchId,Jb(e,o)}catch(o){await uc(e,o)}F0(e)&&Q0(e)}function $b(s){return ya(s)&&s.Pa.length<10}function Jb(s,e){s.Pa.push(e);const i=Ar(s);i.x_()&&i.Z_&&i.X_(e.mutations)}function F0(s){return ya(s)&&!Ar(s).M_()&&s.Pa.length>0}function Q0(s){Ar(s).start()}async function Wb(s){Ar(s).na()}async function tS(s){const e=Ar(s);for(const i of s.Pa)e.X_(i.mutations)}async function eS(s,e,i){const a=s.Pa.shift(),o=Rd.from(a,e,i);await G0(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await bc(s)}async function nS(s,e){e&&Ar(s).Z_&&await async function(a,o){if(function(d){return zA(d)&&d!==K.ABORTED}(o.code)){const h=a.Pa.shift();Ar(a).N_(),await G0(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await bc(a)}}(s,e),F0(s)&&Q0(s)}async function h_(s,e){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),rt(da,"RemoteStore received new credentials");const a=ya(i);i.Ia.add(3),await oo(i),a&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await Ac(i)}async function iS(s,e){const i=Tt(s);e?(i.Ia.delete(2),await Ac(i)):e||(i.Ia.add(2),await oo(i),i.Aa.set("Unknown"))}function xs(s){return s.Va||(s.Va=function(i,a,o){const h=Tt(i);return h.ia(),new Bb(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{Zo:Yb.bind(null,s),e_:Kb.bind(null,s),n_:Xb.bind(null,s),J_:Zb.bind(null,s)}),s.da.push(async e=>{e?(s.Va.N_(),kd(s)?Md(s):s.Aa.set("Unknown")):(await s.Va.stop(),H0(s))})),s.Va}function Ar(s){return s.ma||(s.ma=function(i,a,o){const h=Tt(i);return h.ia(),new qb(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:Wb.bind(null,s),n_:nS.bind(null,s),ea:tS.bind(null,s),ta:eS.bind(null,s)}),s.da.push(async e=>{e?(s.ma.N_(),await bc(s)):(await s.ma.stop(),s.Pa.length>0&&(rt(da,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))})),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new Ud(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),Ds(s))return new at(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{static emptySet(e){return new ys(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=Bl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ys;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.fa=new re(ht.comparator)}track(e){const i=e.doc.key,a=this.fa.get(i);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(i,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(i):e.type===1&&a.type===2?this.fa=this.fa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):pt(63341,{At:e,ga:a}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,a)=>{e.push(a)}),e}}class bs{constructor(e,i,a,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new bs(e,i,ys.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class aS{constructor(){this.queries=d_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,a){const o=Tt(i),h=o.queries;o.queries=d_(),h.forEach((d,g)=>{for(const _ of g.wa)_.onError(a)})})(this,new at(K.ABORTED,"Firestore shutting down"))}}function d_(){return new ga(s=>d0(s),pc)}async function sS(s,e){const i=Tt(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.ba()&&(a=2):(h=new rS,a=e.ba()?0:1);try{switch(a){case 0:h.ya=await i.onListen(o,!0);break;case 1:h.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Ld(d,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.wa.push(e),e.va(i.onlineState),h.ya&&e.Ca(h.ya)&&zd(i)}async function lS(s,e){const i=Tt(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.wa.indexOf(e);d>=0&&(h.wa.splice(d,1),h.wa.length===0?o=e.ba()?0:1:!h.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function oS(s,e){const i=Tt(s);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.wa)g.Ca(o)&&(a=!0);d.ya=o}}a&&zd(i)}function uS(s,e,i){const a=Tt(s),o=a.queries.get(e);if(o)for(const h of o.wa)h.onError(i);a.queries.delete(e)}function zd(s){s.Da.forEach(e=>{e.next()})}var od,m_;(m_=od||(od={})).Fa="default",m_.Cache="cache";class cS{constructor(e,i,a){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new bs(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const a=i!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this.key=e}}class K0{constructor(e){this.key=e}}class hS{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Vt(),this.mutatedKeys=Vt(),this.Xa=m0(e),this.eu=new ys(this.Xa)}get tu(){return this.Ha}nu(e,i){const a=i?i.ru:new f_,o=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,R)=>{const N=o.get(b),F=yc(this.query,R)?R:null,J=!!N&&this.mutatedKeys.has(N.key),W=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Y=!1;N&&F?N.data.isEqual(F.data)?J!==W&&(a.track({type:3,doc:F}),Y=!0):this.iu(N,F)||(a.track({type:2,doc:F}),Y=!0,(_&&this.Xa(F,_)>0||v&&this.Xa(F,v)<0)&&(g=!0)):!N&&F?(a.track({type:0,doc:F}),Y=!0):N&&!F&&(a.track({type:1,doc:N}),Y=!0,(_||v)&&(g=!0)),Y&&(F?(d=d.add(F),h=W?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),a.track({type:1,doc:b})}return{eu:d,ru:a,Ds:g,mutatedKeys:h}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((b,R)=>function(F,J){const W=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{At:Y})}};return W(F)-W(J)}(b.type,R.type)||this.Xa(b.doc,R.doc)),this.su(a),o=o!=null&&o;const g=i&&!o?this.ou():[],_=this.Za.size===0&&this.current&&!o?1:0,v=_!==this.Ya;return this.Ya=_,d.length!==0||v?{snapshot:new bs(this.query,e.eu,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new f_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Vt(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const i=[];return e.forEach(a=>{this.Za.has(a)||i.push(new K0(a))}),this.Za.forEach(a=>{e.has(a)||i.push(new Y0(a))}),i}uu(e){this.Ha=e.qs,this.Za=Vt();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return bs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Pd="SyncEngine";class fS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class dS{constructor(e){this.key=e,this.lu=!1}}class mS{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new ga(g=>d0(g),pc),this.Tu=new Map,this.Iu=new Set,this.du=new re(ht.comparator),this.Eu=new Map,this.Au=new Cd,this.Ru={},this.Vu=new Map,this.mu=As.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function gS(s,e,i=!0){const a=tv(s);let o;const h=a.Pu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.cu()):o=await X0(a,e,i,!0),o}async function pS(s,e){const i=tv(s);await X0(i,e,!0,!1)}async function X0(s,e,i,a){const o=await Ob(s.localStore,ei(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await yS(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&B0(s.remoteStore,o),g}async function yS(s,e,i,a,o){s.gu=(R,N,F)=>async function(W,Y,ot,dt){let lt=Y.view.nu(ot);lt.Ds&&(lt=await s_(W.localStore,Y.query,!1).then(({documents:I})=>Y.view.nu(I,lt)));const xt=dt&&dt.targetChanges.get(Y.targetId),_t=dt&&dt.targetMismatches.get(Y.targetId)!=null,Nt=Y.view.applyChanges(lt,W.isPrimaryClient,xt,_t);return p_(W,Y.targetId,Nt._u),Nt.snapshot}(s,R,N,F);const h=await s_(s.localStore,e,!0),d=new hS(e,h.qs),g=d.nu(h.documents),_=lo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(g,s.isPrimaryClient,_);p_(s,i,v._u);const b=new fS(e,i,d);return s.Pu.set(e,b),s.Tu.has(i)?s.Tu.get(i).push(e):s.Tu.set(i,[e]),v.snapshot}async function _S(s,e,i){const a=Tt(s),o=a.Pu.get(e),h=a.Tu.get(o.targetId);if(h.length>1)return a.Tu.set(o.targetId,h.filter(d=>!pc(d,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await sd(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Id(a.remoteStore,o.targetId),ud(a,o.targetId)}).catch(ws)):(ud(a,o.targetId),await sd(a.localStore,o.targetId,!0))}async function vS(s,e){const i=Tt(s),a=i.Pu.get(e),o=i.Tu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Id(i.remoteStore,a.targetId))}async function ES(s,e,i){const a=DS(s);try{const o=await function(d,g){const _=Tt(d),v=te.now(),b=g.reduce((F,J)=>F.add(J.key),Vt());let R,N;return _.persistence.runTransaction("Locally write mutations","readwrite",F=>{let J=ki(),W=Vt();return _.Os.getEntries(F,b).next(Y=>{J=Y,J.forEach((ot,dt)=>{dt.isValidDocument()||(W=W.add(ot))})}).next(()=>_.localDocuments.getOverlayedDocuments(F,J)).next(Y=>{R=Y;const ot=[];for(const dt of g){const lt=OA(dt,R.get(dt.key).overlayedDocument);lt!=null&&ot.push(new pa(dt.key,lt,a0(lt.value.mapValue),ni.exists(!0)))}return _.mutationQueue.addMutationBatch(F,v,ot,g)}).next(Y=>{N=Y;const ot=Y.applyToLocalDocumentSet(R,W);return _.documentOverlayCache.saveOverlays(F,Y.batchId,ot)})}).then(()=>({batchId:N.batchId,changes:p0(R)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Ru[d.currentUser.toKey()];v||(v=new re(St)),v=v.insert(g,_),d.Ru[d.currentUser.toKey()]=v}(a,o.batchId,i),await uo(a,o.changes),await bc(a.remoteStore)}catch(o){const h=Ld(o,"Failed to persist write");i.reject(h)}}async function Z0(s,e){const i=Tt(s);try{const a=await Vb(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Eu.get(h);d&&(Bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?Bt(d.lu,14607):o.removedDocuments.size>0&&(Bt(d.lu,42227),d.lu=!1))}),await uo(i,a,e)}catch(a){await ws(a)}}function g_(s,e,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Pu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=Tt(d);_.onlineState=g;let v=!1;_.queries.forEach((b,R)=>{for(const N of R.wa)N.va(g)&&(v=!0)}),v&&zd(_)}(a.eventManager,e),o.length&&a.hu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function TS(s,e,i){const a=Tt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Eu.get(e),h=o&&o.key;if(h){let d=new re(ht.comparator);d=d.insert(h,Ke.newNoDocument(h,Et.min()));const g=Vt().add(h),_=new Ec(Et.min(),new Map,new re(St),d,g);await Z0(a,_),a.du=a.du.remove(h),a.Eu.delete(e),jd(a)}else await sd(a.localStore,e,!1).then(()=>ud(a,e,i)).catch(ws)}async function AS(s,e){const i=Tt(s),a=e.batch.batchId;try{const o=await xb(i.localStore,e);J0(i,a,null),$0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uo(i,o)}catch(o){await ws(o)}}async function bS(s,e,i){const a=Tt(s);try{const o=await function(d,g){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let b;return _.mutationQueue.lookupMutationBatch(v,g).next(R=>(Bt(R!==null,37113),b=R.keys(),_.mutationQueue.removeMutationBatch(v,R))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,b,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b)).next(()=>_.localDocuments.getDocuments(v,b))})}(a.localStore,e);J0(a,e,i),$0(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await uo(a,o)}catch(o){await ws(o)}}function $0(s,e){(s.Vu.get(e)||[]).forEach(i=>{i.resolve()}),s.Vu.delete(e)}function J0(s,e,i){const a=Tt(s);let o=a.Ru[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Ru[a.currentUser.toKey()]=o}}function ud(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Tu.get(e))s.Pu.delete(a),i&&s.hu.pu(a,i);s.Tu.delete(e),s.isPrimaryClient&&s.Au.zr(e).forEach(a=>{s.Au.containsKey(a)||W0(s,a)})}function W0(s,e){s.Iu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Id(s.remoteStore,i),s.du=s.du.remove(e),s.Eu.delete(i),jd(s))}function p_(s,e,i){for(const a of i)a instanceof Y0?(s.Au.addReference(a.key,e),SS(s,a)):a instanceof K0?(rt(Pd,"Document no longer in limbo: "+a.key),s.Au.removeReference(a.key,e),s.Au.containsKey(a.key)||W0(s,a.key)):pt(19791,{yu:a})}function SS(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Iu.has(a)||(rt(Pd,"New document in limbo: "+i),s.Iu.add(a),jd(s))}function jd(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Iu.values().next().value;s.Iu.delete(e);const i=new ht(Jt.fromString(e)),a=s.mu.next();s.Eu.set(a,new dS(i)),s.du=s.du.insert(i,a),B0(s.remoteStore,new fr(ei(Ad(i.path)),a,"TargetPurposeLimboResolution",dc.ue))}}async function uo(s,e,i){const a=Tt(s),o=[],h=[],d=[];a.Pu.isEmpty()||(a.Pu.forEach((g,_)=>{d.push(a.gu(_,e,i).then(v=>{var b;if((v||i)&&a.isPrimaryClient){const R=v?!v.fromCache:(b=i==null?void 0:i.targetChanges.get(_.targetId))===null||b===void 0?void 0:b.current;a.sharedClientState.updateQueryState(_.targetId,R?"current":"not-current")}if(v){o.push(v);const R=Vd.Es(_.targetId,v);h.push(R)}}))}),await Promise.all(d),a.hu.J_(o),await async function(_,v){const b=Tt(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Z.forEach(v,N=>Z.forEach(N.Is,F=>b.persistence.referenceDelegate.addReference(R,N.targetId,F)).next(()=>Z.forEach(N.ds,F=>b.persistence.referenceDelegate.removeReference(R,N.targetId,F)))))}catch(R){if(!Ds(R))throw R;rt(Nd,"Failed to update sequence numbers: "+R)}for(const R of v){const N=R.targetId;if(!R.fromCache){const F=b.Fs.get(N),J=F.snapshotVersion,W=F.withLastLimboFreeSnapshotVersion(J);b.Fs=b.Fs.insert(N,W)}}}(a.localStore,h))}async function RS(s,e){const i=Tt(s);if(!i.currentUser.isEqual(e)){rt(Pd,"User change. New user:",e.toKey());const a=await L0(i.localStore,e);i.currentUser=e,function(h,d){h.Vu.forEach(g=>{g.forEach(_=>{_.reject(new at(K.CANCELLED,d))})}),h.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await uo(i,a.Bs)}}function wS(s,e){const i=Tt(s),a=i.Eu.get(e);if(a&&a.lu)return Vt().add(a.key);{let o=Vt();const h=i.Tu.get(e);if(!h)return o;for(const d of h){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function tv(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TS.bind(null,e),e.hu.J_=oS.bind(null,e.eventManager),e.hu.pu=uS.bind(null,e.eventManager),e}function DS(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bS.bind(null,e),e}class cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return Cb(this.persistence,new Rb,e.initialUser,this.serializer)}Du(e){return new U0(xd.Vi,this.serializer)}bu(e){return new kb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cc.provider={build:()=>new cc};class CS extends cc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){Bt(this.persistence.referenceDelegate instanceof oc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new cb(a,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new U0(a=>oc.Vi(a,i),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>g_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=RS.bind(null,this.syncEngine),await iS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aS}()}createDatastore(e){const i=Tc(e.databaseInfo.databaseId),a=function(h){return new jb(h)}(e.databaseInfo);return function(h,d,g,_){return new Gb(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,g){return new Qb(a,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>g_(this.syncEngine,i,0),function(){return u_.C()?new u_:new Ub}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,b){const R=new mS(o,h,d,g,_,v);return b&&(R.fu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Tt(o);rt(da,"RemoteStore shutting down."),h.Ia.add(5),await oo(h),h.Ea.shutdown(),h.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}cd.provider={build:()=>new cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="FirestoreClient";class VS{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=pd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{rt(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(rt(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Ld(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Pf(s,e){s.asyncQueue.verifyOperationInProgress(),rt(br,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await L0(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>{yr("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then(()=>{rt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{yr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),s._offlineComponents=e}async function y_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await NS(s);rt(br,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>h_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>h_(e.remoteStore,o)),s._onlineComponents=e}async function NS(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(br,"Using user provided OfflineComponentProvider");try{await Pf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;yr("Error using user provided cache. Falling back to memory cache: "+i),await Pf(s,new cc)}}else rt(br,"Using default OfflineComponentProvider"),await Pf(s,new CS(void 0));return s._offlineComponents}async function ev(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(br,"Using user provided OnlineComponentProvider"),await y_(s,s._uninitializedComponentsProvider._online)):(rt(br,"Using default OnlineComponentProvider"),await y_(s,new cd))),s._onlineComponents}function IS(s){return ev(s).then(e=>e.syncEngine)}async function __(s){const e=await ev(s),i=e.eventManager;return i.onListen=gS.bind(null,e.syncEngine),i.onUnlisten=_S.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=pS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=vS.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="firestore.googleapis.com",E_=!0;class T_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iv,this.ssl=E_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:E_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=k0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ob)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new zT;switch(a.type){case"firstParty":return new qT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=v_.get(i);a&&(rt("ComponentProvider","Removing Datastore"),v_.delete(i),a.terminate())}(this),Promise.resolve()}}function OS(s,e,i,a={}){var o;s=ps(s,Sc);const h=dd(e),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),_=`${e}:${i}`;h&&(d1(`https://${_}`),y1("Firestore",!0)),d.host!==iv&&d.host!==_&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:a});if(!Ju(v,g)&&(s._setSettings(v),a.mockUserToken)){let b,R;if(typeof a.mockUserToken=="string")b=a.mockUserToken,R=Ye.MOCK_USER;else{b=m1(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Ye(N)}s._authCredentials=new PT(new Q_(b,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class Re{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Re(this.firestore,e,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ao(i,Re._jsonSchema))return new Re(e,a||null,new ht(Jt.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:ve("string",Re._jsonSchemaVersion),referencePath:ve("string")};class pr extends _a{constructor(e,i,a){super(e,i,Ad(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Re(this.firestore,null,new ht(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function hr(s,e,...i){if(s=ha(s),K_("collection","path",e),s instanceof Sc){const a=Jt.fromString(e,...i);return Oy(a),new pr(s,null,a)}{if(!(s instanceof Re||s instanceof pr))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return Oy(a),new pr(s.firestore,null,a)}}function Xu(s,e,...i){if(s=ha(s),arguments.length===1&&(e=pd.newId()),K_("doc","path",e),s instanceof Sc){const a=Jt.fromString(e,...i);return Iy(a),new Re(s,null,new ht(a))}{if(!(s instanceof Re||s instanceof pr))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return Iy(a),new Re(s.firestore,s instanceof pr?s.converter:null,new ht(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="AsyncQueue";class b_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new P0(this,"async_queue_retry"),this.oc=()=>{const a=zf();a&&rt(A_,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const i=zf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=zf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new ua;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ds(e))throw e;rt(A_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Mi("INTERNAL UNHANDLED ERROR: ",S_(a)),a}).then(a=>(this.nc=!1,a))));return this._c=i,i}enqueueAfterDelay(e,i,a){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=Ud.createAndSchedule(this,e,i,a,h=>this.lc(h));return this.ec.push(o),o}ac(){this.tc&&pt(47125,{hc:S_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function S_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1}(s,["next","error","complete"])}class ro extends Sc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new b_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b_(e),this._firestoreClient=void 0,await e}}}function MS(s,e){const i=typeof s=="object"?s:DT(),a=typeof s=="string"?s:nc,o=AT(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=h1("firestore");h&&OS(o,...h)}return o}function rv(s){if(s._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||kS(s),s._firestoreClient}function kS(s){var e,i,a;const o=s._freezeSettings(),h=function(g,_,v,b){return new rA(g,_,v,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,nv(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new VS(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(qe.fromBase64String(e))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Dn(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ao(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:ve("string",Dn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(ao(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:ve("string",ri._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ao(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ai(e.vectorValues);throw new at(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:ve("string",ai._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=/^__.*__$/;class LS{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,i,this.fieldTransforms):new so(e,this.data,i,this.fieldTransforms)}}function sv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ec:s})}}class qd{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new qd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:a,mc:!1});return o.fc(e),o}gc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:a,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return hc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(sv(this.Ec)&&US.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class zS{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Tc(e)}Dc(e,i,a,o=!1){return new qd({Ec:e,methodName:i,bc:a,path:Be.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lv(s){const e=s._freezeSettings(),i=Tc(s._databaseId);return new zS(s._databaseId,!!e.ignoreUndefinedProperties,i)}function PS(s,e,i,a,o,h={}){const d=s.Dc(h.merge||h.mergeFields?2:0,e,i,o);cv("Data must be an object, but it was:",d,a);const g=ov(a,d);let _,v;if(h.merge)_=new kn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const R of h.mergeFields){const N=BS(e,R,i);if(!d.contains(N))throw new at(K.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);HS(b,N)||b.push(N)}_=new kn(b),v=d.fieldTransforms.filter(R=>_.covers(R.field))}else _=null,v=d.fieldTransforms;return new LS(new wn(g),_,v)}function jS(s,e,i,a=!1){return Hd(i,s.Dc(a?4:3,e))}function Hd(s,e){if(uv(s=ha(s)))return cv("Unsupported field value:",e,s),ov(s,e);if(s instanceof av)return function(a,o){if(!sv(o.Ec))throw o.wc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const g of a){let _=Hd(g,o.yc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=ha(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return DA(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=te.fromDate(a);return{timestampValue:lc(o.serializer,h)}}if(a instanceof te){const h=new te(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lc(o.serializer,h)}}if(a instanceof ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Dn)return{bytesValue:C0(o.serializer,a._byteString)};if(a instanceof Re){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Dd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ai)return function(d,g){return{mapValue:{fields:{[i0]:{stringValue:r0},[ic]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.wc("VectorValues must only contain numeric values.");return bd(g.serializer,v)})}}}}}}(a,o);throw o.wc(`Unsupported field value: ${fc(a)}`)}(s,e)}function ov(s,e){const i={};return $_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(s,(a,o)=>{const h=Hd(o,e.Vc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function uv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof te||s instanceof ri||s instanceof Dn||s instanceof Re||s instanceof av||s instanceof ai)}function cv(s,e,i){if(!uv(i)||!X_(i)){const a=fc(i);throw a==="an object"?e.wc(s+" a custom object"):e.wc(s+" "+a)}}function BS(s,e,i){if((e=ha(e))instanceof Bd)return e._internalPath;if(typeof e=="string")return hv(s,e);throw hc("Field path arguments must be of type string or ",s,!1,void 0,i)}const qS=new RegExp("[~\\*/\\[\\]]");function hv(s,e,i){if(e.search(qS)>=0)throw hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Bd(...e.split("."))._internalPath}catch{throw hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function hc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new at(K.INVALID_ARGUMENT,g+s+_)}function HS(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Gd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class GS extends fv{data(){return super.data()}}function Gd(s,e){return typeof e=="string"?hv(s,e):e instanceof Bd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fd{}class dv extends Fd{}function ju(s,e,...i){let a=[];e instanceof Fd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof Yd).length,g=h.filter(_=>_ instanceof Qd).length;if(d>1||d>0&&g>0)throw new at(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)s=o._apply(s);return s}class Qd extends dv{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Qd(e,i,a)}_apply(e){const i=this._parse(e);return mv(e._query,i),new _a(e.firestore,e.converter,td(e._query,i))}_parse(e){const i=lv(e.firestore);return function(h,d,g,_,v,b,R){let N;if(v.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new at(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){D_(R,b);const J=[];for(const W of R)J.push(w_(_,h,W));N={arrayValue:{values:J}}}else N=w_(_,h,R)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||D_(R,b),N=jS(g,d,R,b==="in"||b==="not-in");return _e.create(v,b,N)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Yd extends Fd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Yd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Un.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)mv(d,_),d=td(d,_)}(e._query,i),new _a(e.firestore,e.converter,td(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kd extends dv{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Kd(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new at(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eo(h,d)}(e._query,this._field,this._direction);return new _a(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Cs(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function Bu(s,e="asc"){const i=e,a=Gd("orderBy",s);return Kd._create(a,i)}function w_(s,e,i){if(typeof(i=ha(i))=="string"){if(i==="")throw new at(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f0(e)&&i.indexOf("/")!==-1)throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Jt.fromString(i));if(!ht.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return By(s,new ht(a))}if(i instanceof Re)return By(s,i._key);throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fc(i)}.`)}function D_(s,e){if(!Array.isArray(s)||s.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mv(s,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class QS{convertValue(e,i="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ma(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,o;const h=(o=(a=(i=e.fields)===null||i===void 0?void 0:i[ic].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new ai(h)}convertGeoPoint(e){return new ri(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=gc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=vr(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Jt.fromString(e);Bt(M0(a),9688,{name:e});const o=new Wl(a.get(1),a.get(3)),h=new ht(a.popFirst(5));return o.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Hl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends fv{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Gd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:ve("string",ca._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class Zu extends ca{data(e={}){return super.data(e)}}class _s{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Zu(this._firestore,this._userDataWriter,a.key,a,new Hl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Hl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Hl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,b=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:KS(g.type),doc:_,oldIndex:v,newIndex:b}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_s._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KS(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}_s._jsonSchemaVersion="firestore/querySnapshot/1.0",_s._jsonSchema={type:ve("string",_s._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class gv extends QS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function jf(s){return pv(ps(s.firestore,ro),[new Sd(s._key,ni.none())])}function qu(s,e){const i=ps(s.firestore,ro),a=Xu(s),o=YS(s.converter,e);return pv(i,[PS(lv(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,ni.exists(!1))]).then(()=>a)}function Hu(s,...e){var i,a,o;s=ha(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||R_(e[d])||(h=e[d++]);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(R_(e[d])){const R=e[d];e[d]=(i=R.next)===null||i===void 0?void 0:i.bind(R),e[d+1]=(a=R.error)===null||a===void 0?void 0:a.bind(R),e[d+2]=(o=R.complete)===null||o===void 0?void 0:o.bind(R)}let _,v,b;if(s instanceof Re)v=ps(s.firestore,ro),b=Ad(s._key.path),_={next:R=>{e[d]&&e[d](XS(v,s,R))},error:e[d+1],complete:e[d+2]};else{const R=ps(s,_a);v=ps(R.firestore,ro),b=R._query;const N=new gv(v);_={next:F=>{e[d]&&e[d](new _s(v,N,R,F))},error:e[d+1],complete:e[d+2]},FS(s._query)}return function(N,F,J,W){const Y=new xS(W),ot=new cS(F,Y,J);return N.asyncQueue.enqueueAndForget(async()=>sS(await __(N),ot)),()=>{Y.Ou(),N.asyncQueue.enqueueAndForget(async()=>lS(await __(N),ot))}}(rv(v),b,g,_)}function pv(s,e){return function(a,o){const h=new ua;return a.asyncQueue.enqueueAndForget(async()=>ES(await IS(a),o,h)),h.promise}(rv(s),e)}function XS(s,e,i){const a=i.docs.get(e._key),o=new gv(s);return new ca(s,o,e._key,a,new Hl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Rs=o})(wT),tc(new Xl("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new ro(new jT(a.getProvider("auth-internal")),new HT(d,a.getProvider("app-check-internal")),function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(v.options.projectId,b)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),gs(Dy,Cy,e),gs(Dy,Cy,"esm2017")})();const ZS=({className:s})=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),$S=({className:s})=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),Bf=({className:s})=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),qf=({className:s})=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),JS=({className:s})=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,viewBox:"0 0 24 24",fill:"currentColor",children:B.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.519 1.36h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),yv=s=>{let i=s.replace(/[^a-zA-Z0-9]/g,"").toUpperCase().slice(0,7);return i.length>3&&(i=`${i.slice(0,3)}-${i.slice(3)}`),i},WS=({isOpen:s,onClose:e,onAddDriver:i})=>{const[a,o]=Wt.useState(""),h=async()=>{a.trim()&&await i(a.trim())&&(o(""),e())};return s?B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",onClick:e,children:B.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",onClick:d=>d.stopPropagation(),children:[B.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Adicionar Novo Motorista"}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"modal-new-driver",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Nome do Motorista"}),B.jsx("input",{type:"text",id:"modal-new-driver",value:a,onChange:d=>o(d.target.value),placeholder:"Nome completo",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",autoFocus:!0})]}),B.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[B.jsx("button",{type:"button",onClick:e,className:"py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Cancelar"}),B.jsx("button",{type:"button",onClick:h,className:"py-2 px-4 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-800",children:"Adicionar"})]})]})}):null},t2=({isOpen:s,onClose:e,onAddVehicle:i})=>{const[a,o]=Wt.useState(""),h=async()=>{a.trim()&&await i(a.trim())&&(o(""),e())};return s?B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",onClick:e,children:B.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",onClick:d=>d.stopPropagation(),children:[B.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Adicionar Novo Veculo"}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"modal-new-vehicle",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Nome do Veculo"}),B.jsx("input",{type:"text",id:"modal-new-vehicle",value:a,onChange:d=>o(d.target.value),placeholder:"Nome do veculo",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",autoFocus:!0})]}),B.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[B.jsx("button",{type:"button",onClick:e,className:"py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Cancelar"}),B.jsx("button",{type:"button",onClick:h,className:"py-2 px-4 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-800",children:"Adicionar"})]})]})}):null},e2=({isOpen:s,onClose:e,onAddPlate:i})=>{const[a,o]=Wt.useState(""),h=g=>{const _=g.target.value;o(yv(_))},d=async()=>{a.replace(/[^a-zA-Z0-9]/g,"").length===7?await i(a.trim())&&(o(""),e()):alert("A placa deve ter exatamente 7 caracteres (3 letras + 4 nmeros).")};return s?B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",onClick:e,children:B.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",onClick:g=>g.stopPropagation(),children:[B.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Adicionar Nova Placa"}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"modal-new-plate",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Nmero da Placa"}),B.jsx("input",{type:"text",id:"modal-new-plate",value:a,onChange:h,placeholder:"ABC-1234 (7 caracteres)",maxLength:8,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",autoFocus:!0})]}),B.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[B.jsx("button",{type:"button",onClick:e,className:"py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Cancelar"}),B.jsx("button",{type:"button",onClick:d,disabled:a.replace(/[^a-zA-Z0-9]/g,"").length!==7,className:"py-2 px-4 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Adicionar"})]})]})}):null},n2=({drivers:s,vehicles:e,plates:i,onAddTrip:a,onAddDriver:o,onRemoveDriver:h,onAddVehicle:d,onRemoveVehicle:g,onAddPlate:_,onRemovePlate:v})=>{const b=()=>{const A=new Date;return A.setMinutes(A.getMinutes()-A.getTimezoneOffset()),A.toISOString().slice(0,16)},[R,N]=Wt.useState({driver:"",vehicle:"",plate:"",km:"",origin:"",destination:"",departureTime:b()}),[F,J]=Wt.useState(!1),[W,Y]=Wt.useState(!1),[ot,dt]=Wt.useState(!1);Wt.useEffect(()=>{(!s.some(S=>S.name===R.driver)||!R.driver)&&s.length>0?N(S=>({...S,driver:s[0].name})):s.length===0&&N(S=>({...S,driver:""}))},[s,R.driver]),Wt.useEffect(()=>{(!e.some(S=>S.name===R.vehicle)||!R.vehicle)&&e.length>0?N(S=>({...S,vehicle:e[0].name})):e.length===0&&N(S=>({...S,vehicle:""}))},[e,R.vehicle]),Wt.useEffect(()=>{(!i.some(S=>S.number===R.plate)||!R.plate)&&i.length>0?N(S=>({...S,plate:i[0].number})):i.length===0&&N(S=>({...S,plate:""}))},[i,R.plate]);const lt=A=>{const{name:S,value:x}=A.target;N(S==="km"?O=>({...O,km:x.replace(/\D/g,"")}):S==="plate"?O=>({...O,plate:yv(x)}):O=>({...O,[S]:x}))},xt=()=>{if(R.driver){const A=s.find(S=>S.name===R.driver);A&&h(A.id)}},_t=()=>{if(R.vehicle){const A=e.find(S=>S.name===R.vehicle);A&&g(A.id)}},Nt=()=>{if(R.plate){const A=i.find(S=>S.number===R.plate);A&&v(A.id)}},I=A=>{if(A.preventDefault(),!R.driver){alert("Por favor, selecione um motorista. Se no houver nenhum, adicione um primeiro.");return}if(!R.vehicle){alert("Por favor, selecione um veculo. Se no houver nenhum, adicione um primeiro.");return}if(!R.plate){alert("Por favor, selecione uma placa. Se no houver nenhuma, adicione uma primeiro.");return}a({...R,km:Number(R.km)}),N(S=>({...S,vehicle:"",plate:"",km:"",origin:"",destination:"",departureTime:b()}))};return B.jsxs(B.Fragment,{children:[B.jsx(WS,{isOpen:F,onClose:()=>J(!1),onAddDriver:o}),B.jsx(t2,{isOpen:W,onClose:()=>Y(!1),onAddVehicle:d}),B.jsx(e2,{isOpen:ot,onClose:()=>dt(!1),onAddPlate:_}),B.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-8",children:B.jsxs("form",{onSubmit:I,className:"space-y-4",children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"driver",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Motorista"}),B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsxs("select",{id:"driver",name:"driver",value:R.driver,onChange:lt,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[s.length===0&&B.jsx("option",{value:"",disabled:!0,children:"Adicione um motorista..."}),s.map(A=>B.jsx("option",{value:A.name,children:A.name},A.id))]}),B.jsx("button",{type:"button",onClick:()=>J(!0),className:"p-2.5 text-primary-600 bg-primary-100 dark:bg-primary-900 dark:text-primary-300 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors flex-shrink-0","aria-label":"Adicionar motorista",children:B.jsx(Bf,{className:"w-5 h-5"})}),B.jsx("button",{type:"button",onClick:xt,className:"p-2.5 text-red-600 bg-red-100 dark:bg-red-900 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-800 transition-colors flex-shrink-0","aria-label":"Remover motorista",children:B.jsx(qf,{className:"w-5 h-5"})})]})]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"vehicle",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Veculo"}),B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsxs("select",{id:"vehicle",name:"vehicle",value:R.vehicle,onChange:lt,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[e.length===0&&B.jsx("option",{value:"",disabled:!0,children:"Adicione um veculo..."}),e.map(A=>B.jsx("option",{value:A.name,children:A.name},A.id))]}),B.jsx("button",{type:"button",onClick:()=>Y(!0),className:"p-2.5 text-primary-600 bg-primary-100 dark:bg-primary-900 dark:text-primary-300 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors flex-shrink-0","aria-label":"Adicionar veculo",children:B.jsx(Bf,{className:"w-5 h-5"})}),B.jsx("button",{type:"button",onClick:_t,className:"p-2.5 text-red-600 bg-red-100 dark:bg-red-900 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-800 transition-colors flex-shrink-0","aria-label":"Remover veculo",children:B.jsx(qf,{className:"w-5 h-5"})})]})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"plate",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Placa"}),B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsxs("select",{id:"plate",name:"plate",value:R.plate,onChange:lt,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[i.length===0&&B.jsx("option",{value:"",disabled:!0,children:"Adicione uma placa..."}),i.map(A=>B.jsx("option",{value:A.number,children:A.number},A.id))]}),B.jsx("button",{type:"button",onClick:()=>dt(!0),className:"p-2.5 text-primary-600 bg-primary-100 dark:bg-primary-900 dark:text-primary-300 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors flex-shrink-0","aria-label":"Adicionar placa",children:B.jsx(Bf,{className:"w-5 h-5"})}),B.jsx("button",{type:"button",onClick:Nt,className:"p-2.5 text-red-600 bg-red-100 dark:bg-red-900 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-800 transition-colors flex-shrink-0","aria-label":"Remover placa",children:B.jsx(qf,{className:"w-5 h-5"})})]})]})]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"km",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"KM"}),B.jsxs("div",{className:"relative",children:[B.jsx("input",{type:"text",pattern:"\\d*",id:"km",name:"km",value:R.km,onChange:lt,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 pr-12 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",required:!0}),B.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-500 dark:text-gray-400",children:"KM"})]})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"departureTime",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Hora da Sada"}),B.jsx("input",{type:"datetime-local",id:"departureTime",name:"departureTime",value:R.departureTime,onChange:lt,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:[color-scheme:light]",required:!0})]})]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"origin",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Origem"}),B.jsx("input",{type:"text",id:"origin",name:"origin",value:R.origin,onChange:lt,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"destination",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Destino"}),B.jsx("input",{type:"text",id:"destination",name:"destination",value:R.destination,onChange:lt,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",required:!0})]})]}),B.jsx("button",{type:"submit",className:"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 transition-colors",children:"Adicionar Viagem"})]})})]})},i2=({trip:s,onClose:e})=>{if(!s)return null;const a=new Date(s.departureTime).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",onClick:e,children:B.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",onClick:o=>o.stopPropagation(),children:[B.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Detalhes da Viagem"}),B.jsxs("div",{className:"space-y-2 text-gray-800 dark:text-gray-200",children:[B.jsxs("div",{children:[B.jsx("strong",{children:"Motorista:"})," ",s.driver]}),B.jsxs("div",{children:[B.jsx("strong",{children:"Veculo:"})," ",s.vehicle]}),B.jsxs("div",{children:[B.jsx("strong",{children:"Placa:"})," ",s.plate]}),B.jsxs("div",{children:[B.jsx("strong",{children:"KM:"})," ",s.km," KM"]}),B.jsxs("div",{children:[B.jsx("strong",{children:"Origem:"})," ",s.origin]}),B.jsxs("div",{children:[B.jsx("strong",{children:"Destino:"})," ",s.destination]}),B.jsxs("div",{children:[B.jsx("strong",{children:"Data/Hora:"})," ",a]})]}),B.jsx("div",{className:"mt-6 flex justify-end",children:B.jsx("button",{type:"button",onClick:e,className:"py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Fechar"})})]})})},r2=({trips:s})=>{const[e,i]=Wt.useState(null),[a,o]=Wt.useState(null),h=_=>{const b=new Date(_.departureTime).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return`*Motorista:* ${_.driver}
*Veculo:* ${_.vehicle}
*Placa:* ${_.plate}
*Km:* ${_.km} KM
*Origem:* ${_.origin}
*Destino:* ${_.destination}
*Data e Hora da Sada:* ${b}`},d=_=>{const v=h(_).replace(/\*/g,"");navigator.clipboard.writeText(v).then(()=>{i(_.id),setTimeout(()=>i(null),2e3)})},g=_=>{const v=h(_),R=`https://api.whatsapp.com/send?text=${encodeURIComponent(v)}`;window.open(R,"_blank","noopener,noreferrer")};return s.length===0?B.jsxs("div",{className:"text-center py-10 px-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[B.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Nenhuma viagem registrada"}),B.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Adicione uma nova viagem no formulrio acima."})]}):B.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[B.jsx(i2,{trip:a,onClose:()=>o(null)}),B.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.map(_=>B.jsxs("li",{className:"flex items-center justify-between px-4 py-3 sm:px-6 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>o(_),children:[B.jsxs("div",{className:"flex flex-col",children:[B.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-base",children:_.driver}),B.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[_.vehicle,"  ",_.destination]}),B.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:[new Date(_.departureTime).toLocaleDateString("pt-BR")," ",new Date(_.departureTime).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),B.jsxs("div",{className:"flex items-center gap-2 ml-2",onClick:v=>v.stopPropagation(),children:[B.jsx("button",{onClick:()=>d(_),className:`font-medium rounded-md p-2 transition-all duration-200 ${e===_.id?"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300":"text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-gray-700"}`,"aria-label":"Copiar dados da viagem",children:e===_.id?B.jsx("span",{className:"flex items-center gap-1",children:B.jsx($S,{className:"w-5 h-5"})}):B.jsx("span",{className:"flex items-center gap-1",children:B.jsx(ZS,{className:"w-5 h-5"})})}),B.jsx("button",{onClick:()=>g(_),className:"font-medium rounded-md p-2 transition-all duration-200 text-[#25D366] hover:bg-green-100 dark:hover:bg-gray-700","aria-label":"Compartilhar no WhatsApp",children:B.jsx("span",{className:"flex items-center gap-1",children:B.jsx(JS,{className:"w-7 h-7"})})})]})]},_.id))})]})};var a2="firebase",s2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(a2,s2,"app");const l2={apiKey:"AIzaSyD_XuFAVxqjFeN6tRzrPAxCDN8BaTmH7kw",authDomain:"kmrodado-1b15e.firebaseapp.com",projectId:"kmrodado-1b15e",storageBucket:"kmrodado-1b15e.firebasestorage.app",messagingSenderId:"846616835715",appId:"1:846616835715:web:1e379d474619f956c30db6",measurementId:"G-H2X1M0E2LL"},o2=U_(l2),Mn=MS(o2);function u2(){const[s,e]=Wt.useState([]),[i,a]=Wt.useState([]),[o,h]=Wt.useState([]),[d,g]=Wt.useState([]);Wt.useEffect(()=>{const W=ju(hr(Mn,"drivers"),Bu("name")),Y=Hu(W,I=>{const A=[];I.forEach(S=>{A.push({id:S.id,name:S.data().name})}),e(A)}),ot=ju(hr(Mn,"vehicles"),Bu("name")),dt=Hu(ot,I=>{const A=[];I.forEach(S=>{A.push({id:S.id,name:S.data().name})}),a(A)}),lt=ju(hr(Mn,"plates"),Bu("number")),xt=Hu(lt,I=>{const A=[];I.forEach(S=>{A.push({id:S.id,number:S.data().number})}),h(A)}),_t=ju(hr(Mn,"trips"),Bu("departureTime","desc")),Nt=Hu(_t,I=>{const A=I.docs.map(S=>{const x=S.data(),O=x.departureTime,k=O&&typeof O.toDate=="function"?O.toDate().toISOString():String(new Date);return{id:S.id,driver:x.driver||"",vehicle:x.vehicle||"",plate:x.plate||"",km:x.km||0,origin:x.origin||"",destination:x.destination||"",departureTime:k}});g(A)});return()=>{Y(),dt(),xt(),Nt()}},[]);const _=Wt.useCallback(async W=>{try{await qu(hr(Mn,"trips"),{...W,departureTime:new Date(W.departureTime)})}catch(Y){console.error("Error adding trip: ",Y),alert("Falha ao adicionar viagem.")}},[]),v=Wt.useCallback(async W=>{const Y=W.trim();if(Y&&!s.find(ot=>ot.name.toLowerCase()===Y.toLowerCase()))try{return await qu(hr(Mn,"drivers"),{name:Y}),!0}catch(ot){return console.error("Error adding driver: ",ot),alert("Falha ao adicionar motorista."),!1}return alert("Motorista j existe ou o nome  invlido."),!1},[s]),b=Wt.useCallback(async W=>{if(s.length<=1){alert(" necessrio ter pelo menos um motorista.");return}try{await jf(Xu(Mn,"drivers",W))}catch(Y){console.error("Error removing driver: ",Y),alert("Falha ao remover motorista.")}},[s.length]),R=Wt.useCallback(async W=>{const Y=W.trim();if(Y&&!i.find(ot=>ot.name.toLowerCase()===Y.toLowerCase()))try{return await qu(hr(Mn,"vehicles"),{name:Y}),!0}catch(ot){return console.error("Error adding vehicle: ",ot),alert("Falha ao adicionar veculo."),!1}return alert("Veculo j existe ou o nome  invlido."),!1},[i]),N=Wt.useCallback(async W=>{if(i.length<=1){alert(" necessrio ter pelo menos um veculo.");return}try{await jf(Xu(Mn,"vehicles",W))}catch(Y){console.error("Error removing vehicle: ",Y),alert("Falha ao remover veculo.")}},[i.length]),F=Wt.useCallback(async W=>{const Y=W.trim();if(Y&&!o.find(ot=>ot.number.toLowerCase()===Y.toLowerCase()))try{return await qu(hr(Mn,"plates"),{number:Y}),!0}catch(ot){return console.error("Error adding plate: ",ot),alert("Falha ao adicionar placa."),!1}return alert("Placa j existe ou o nmero  invlido."),!1},[o]),J=Wt.useCallback(async W=>{if(o.length<=1){alert(" necessrio ter pelo menos uma placa.");return}try{await jf(Xu(Mn,"plates",W))}catch(Y){console.error("Error removing plate: ",Y),alert("Falha ao remover placa.")}},[o.length]);return B.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[B.jsxs("header",{className:"text-center mb-10",children:[B.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-gray-800 dark:text-white tracking-tight",children:"Controle de Viagens Kalfritec"}),B.jsx("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-400",children:"Gerencie os registros de viagens por KM."})]}),B.jsxs("main",{children:[B.jsx(n2,{drivers:s,vehicles:i,plates:o,onAddTrip:_,onAddDriver:v,onRemoveDriver:b,onAddVehicle:R,onRemoveVehicle:N,onAddPlate:F,onRemovePlate:J}),B.jsx(r2,{trips:d})]}),B.jsx("footer",{className:"text-center mt-12 py-4",children:B.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Desenvolvido por Alysson Krombauer"})})]})}const _v=document.getElementById("root");if(!_v)throw new Error("Could not find root element to mount to");const c2=t1.createRoot(_v);c2.render(B.jsx(QE.StrictMode,{children:B.jsx(u2,{})}));
