(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function C0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Cf={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function G1(){if(ay)return Ll;ay=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var sy;function F1(){return sy||(sy=1,Cf.exports=G1()),Cf.exports}var x=F1(),Df={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function Q1(){if(ly)return wt;ly=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator;function O(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,st={};function K(S,Q,nt){this.props=S,this.context=Q,this.refs=st,this.updater=nt||G}K.prototype.isReactComponent={},K.prototype.setState=function(S,Q){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,Q,"setState")},K.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function rt(){}rt.prototype=K.prototype;function ut(S,Q,nt){this.props=S,this.context=Q,this.refs=st,this.updater=nt||G}var ft=ut.prototype=new rt;ft.constructor=ut,J(ft,K.prototype),ft.isPureReactComponent=!0;var St=Array.isArray,yt={H:null,A:null,T:null,S:null,V:null},Nt=Object.prototype.hasOwnProperty;function M(S,Q,nt,tt,gt,Ct){return nt=Ct.ref,{$$typeof:a,type:S,key:Q,ref:nt!==void 0?nt:null,props:Ct}}function A(S,Q){return M(S.type,Q,void 0,void 0,void 0,S.props)}function R(S){return typeof S=="object"&&S!==null&&S.$$typeof===a}function N(S){var Q={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(nt){return Q[nt]})}var V=/\/+/g;function k(S,Q){return typeof S=="object"&&S!==null&&S.key!=null?N(""+S.key):Q.toString(36)}function D(){}function Yt(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(D,D):(S.status="pending",S.then(function(Q){S.status==="pending"&&(S.status="fulfilled",S.value=Q)},function(Q){S.status==="pending"&&(S.status="rejected",S.reason=Q)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function W(S,Q,nt,tt,gt){var Ct=typeof S;(Ct==="undefined"||Ct==="boolean")&&(S=null);var Tt=!1;if(S===null)Tt=!0;else switch(Ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(S.$$typeof){case a:case e:Tt=!0;break;case b:return Tt=S._init,W(Tt(S._payload),Q,nt,tt,gt)}}if(Tt)return gt=gt(S),Tt=tt===""?"."+k(S,0):tt,St(gt)?(nt="",Tt!=null&&(nt=Tt.replace(V,"$&/")+"/"),W(gt,Q,nt,"",function(jn){return jn})):gt!=null&&(R(gt)&&(gt=A(gt,nt+(gt.key==null||S&&S.key===gt.key?"":(""+gt.key).replace(V,"$&/")+"/")+Tt)),Q.push(gt)),1;Tt=0;var Ce=tt===""?".":tt+":";if(St(S))for(var Wt=0;Wt<S.length;Wt++)tt=S[Wt],Ct=Ce+k(tt,Wt),Tt+=W(tt,Q,nt,Ct,gt);else if(Wt=O(S),typeof Wt=="function")for(S=Wt.call(S),Wt=0;!(tt=S.next()).done;)tt=tt.value,Ct=Ce+k(tt,Wt++),Tt+=W(tt,Q,nt,Ct,gt);else if(Ct==="object"){if(typeof S.then=="function")return W(Yt(S),Q,nt,tt,gt);throw Q=String(S),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function q(S,Q,nt){if(S==null)return S;var tt=[],gt=0;return W(S,tt,"","",function(Ct){return Q.call(nt,Ct,gt++)}),tt}function et(S){if(S._status===-1){var Q=S._result;Q=Q(),Q.then(function(nt){(S._status===0||S._status===-1)&&(S._status=1,S._result=nt)},function(nt){(S._status===0||S._status===-1)&&(S._status=2,S._result=nt)}),S._status===-1&&(S._status=0,S._result=Q)}if(S._status===1)return S._result.default;throw S._result}var ht=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function it(){}return wt.Children={map:q,forEach:function(S,Q,nt){q(S,function(){Q.apply(this,arguments)},nt)},count:function(S){var Q=0;return q(S,function(){Q++}),Q},toArray:function(S){return q(S,function(Q){return Q})||[]},only:function(S){if(!R(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},wt.Component=K,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=ut,wt.StrictMode=s,wt.Suspense=v,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,wt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return yt.H.useMemoCache(S)}},wt.cache=function(S){return function(){return S.apply(null,arguments)}},wt.cloneElement=function(S,Q,nt){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var tt=J({},S.props),gt=S.key,Ct=void 0;if(Q!=null)for(Tt in Q.ref!==void 0&&(Ct=void 0),Q.key!==void 0&&(gt=""+Q.key),Q)!Nt.call(Q,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Q.ref===void 0||(tt[Tt]=Q[Tt]);var Tt=arguments.length-2;if(Tt===1)tt.children=nt;else if(1<Tt){for(var Ce=Array(Tt),Wt=0;Wt<Tt;Wt++)Ce[Wt]=arguments[Wt+2];tt.children=Ce}return M(S.type,gt,void 0,void 0,Ct,tt)},wt.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:h,_context:S},S},wt.createElement=function(S,Q,nt){var tt,gt={},Ct=null;if(Q!=null)for(tt in Q.key!==void 0&&(Ct=""+Q.key),Q)Nt.call(Q,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(gt[tt]=Q[tt]);var Tt=arguments.length-2;if(Tt===1)gt.children=nt;else if(1<Tt){for(var Ce=Array(Tt),Wt=0;Wt<Tt;Wt++)Ce[Wt]=arguments[Wt+2];gt.children=Ce}if(S&&S.defaultProps)for(tt in Tt=S.defaultProps,Tt)gt[tt]===void 0&&(gt[tt]=Tt[tt]);return M(S,Ct,void 0,void 0,null,gt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(S){return{$$typeof:g,render:S}},wt.isValidElement=R,wt.lazy=function(S){return{$$typeof:b,_payload:{_status:-1,_result:S},_init:et}},wt.memo=function(S,Q){return{$$typeof:_,type:S,compare:Q===void 0?null:Q}},wt.startTransition=function(S){var Q=yt.T,nt={};yt.T=nt;try{var tt=S(),gt=yt.S;gt!==null&&gt(nt,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(it,ht)}catch(Ct){ht(Ct)}finally{yt.T=Q}},wt.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},wt.use=function(S){return yt.H.use(S)},wt.useActionState=function(S,Q,nt){return yt.H.useActionState(S,Q,nt)},wt.useCallback=function(S,Q){return yt.H.useCallback(S,Q)},wt.useContext=function(S){return yt.H.useContext(S)},wt.useDebugValue=function(){},wt.useDeferredValue=function(S,Q){return yt.H.useDeferredValue(S,Q)},wt.useEffect=function(S,Q,nt){var tt=yt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(S,Q)},wt.useId=function(){return yt.H.useId()},wt.useImperativeHandle=function(S,Q,nt){return yt.H.useImperativeHandle(S,Q,nt)},wt.useInsertionEffect=function(S,Q){return yt.H.useInsertionEffect(S,Q)},wt.useLayoutEffect=function(S,Q){return yt.H.useLayoutEffect(S,Q)},wt.useMemo=function(S,Q){return yt.H.useMemo(S,Q)},wt.useOptimistic=function(S,Q){return yt.H.useOptimistic(S,Q)},wt.useReducer=function(S,Q,nt){return yt.H.useReducer(S,Q,nt)},wt.useRef=function(S){return yt.H.useRef(S)},wt.useState=function(S){return yt.H.useState(S)},wt.useSyncExternalStore=function(S,Q,nt){return yt.H.useSyncExternalStore(S,Q,nt)},wt.useTransition=function(){return yt.H.useTransition()},wt.version="19.1.0",wt}var oy;function hd(){return oy||(oy=1,Df.exports=Q1()),Df.exports}var Ot=hd();const Y1=C0(Ot);var Nf={exports:{}},zl={},Vf={exports:{}},If={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function K1(){return uy||(uy=1,function(a){function e(q,et){var ht=q.length;q.push(et);t:for(;0<ht;){var it=ht-1>>>1,S=q[it];if(0<o(S,et))q[it]=et,q[ht]=S,ht=it;else break t}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var et=q[0],ht=q.pop();if(ht!==et){q[0]=ht;t:for(var it=0,S=q.length,Q=S>>>1;it<Q;){var nt=2*(it+1)-1,tt=q[nt],gt=nt+1,Ct=q[gt];if(0>o(tt,ht))gt<S&&0>o(Ct,tt)?(q[it]=Ct,q[gt]=ht,it=gt):(q[it]=tt,q[nt]=ht,it=nt);else if(gt<S&&0>o(Ct,ht))q[it]=Ct,q[gt]=ht,it=gt;else break t}}return et}function o(q,et){var ht=q.sortIndex-et.sortIndex;return ht!==0?ht:q.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var v=[],_=[],b=1,w=null,O=3,G=!1,J=!1,st=!1,K=!1,rt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function St(q){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=q)s(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function yt(q){if(st=!1,St(q),!J)if(i(v)!==null)J=!0,Nt||(Nt=!0,k());else{var et=i(_);et!==null&&W(yt,et.startTime-q)}}var Nt=!1,M=-1,A=5,R=-1;function N(){return K?!0:!(a.unstable_now()-R<A)}function V(){if(K=!1,Nt){var q=a.unstable_now();R=q;var et=!0;try{t:{J=!1,st&&(st=!1,ut(M),M=-1),G=!0;var ht=O;try{e:{for(St(q),w=i(v);w!==null&&!(w.expirationTime>q&&N());){var it=w.callback;if(typeof it=="function"){w.callback=null,O=w.priorityLevel;var S=it(w.expirationTime<=q);if(q=a.unstable_now(),typeof S=="function"){w.callback=S,St(q),et=!0;break e}w===i(v)&&s(v),St(q)}else s(v);w=i(v)}if(w!==null)et=!0;else{var Q=i(_);Q!==null&&W(yt,Q.startTime-q),et=!1}}break t}finally{w=null,O=ht,G=!1}et=void 0}}finally{et?k():Nt=!1}}}var k;if(typeof ft=="function")k=function(){ft(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Yt=D.port2;D.port1.onmessage=V,k=function(){Yt.postMessage(null)}}else k=function(){rt(V,0)};function W(q,et){M=rt(function(){q(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return O},a.unstable_next=function(q){switch(O){case 1:case 2:case 3:var et=3;break;default:et=O}var ht=O;O=et;try{return q()}finally{O=ht}},a.unstable_requestPaint=function(){K=!0},a.unstable_runWithPriority=function(q,et){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ht=O;O=q;try{return et()}finally{O=ht}},a.unstable_scheduleCallback=function(q,et,ht){var it=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?it+ht:it):ht=it,q){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=ht+S,q={id:b++,callback:et,priorityLevel:q,startTime:ht,expirationTime:S,sortIndex:-1},ht>it?(q.sortIndex=ht,e(_,q),i(v)===null&&q===i(_)&&(st?(ut(M),M=-1):st=!0,W(yt,ht-it))):(q.sortIndex=S,e(v,q),J||G||(J=!0,Nt||(Nt=!0,k()))),q},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(q){var et=O;return function(){var ht=O;O=et;try{return q.apply(this,arguments)}finally{O=ht}}}}(If)),If}var cy;function X1(){return cy||(cy=1,Vf.exports=K1()),Vf.exports}var Of={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function Z1(){if(hy)return Fe;hy=1;var a=hd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:_,implementation:b}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(v,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,b)},Fe.flushSync=function(v){var _=d.T,b=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=b,s.d.f()}},Fe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Fe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Fe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var b=_.as,w=g(b,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:O,fetchPriority:G}):b==="script"&&s.d.X(v,{crossOrigin:w,integrity:O,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Fe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,w=g(b,_.crossOrigin);s.d.L(v,b,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(v,_){if(typeof v=="string")if(_){var b=g(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Fe.requestFormReset=function(v){s.d.r(v)},Fe.unstable_batchedUpdates=function(v,_){return v(_)},Fe.useFormState=function(v,_,b){return d.H.useFormState(v,_,b)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.0",Fe}var fy;function $1(){if(fy)return Of.exports;fy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Of.exports=Z1(),Of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function J1(){if(dy)return zl;dy=1;var a=X1(),e=hd(),i=$1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),rt=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Yt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case K:return"Profiler";case st:return"StrictMode";case yt:return"Suspense";case Nt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ft:return(t.displayName||"Context")+".Provider";case ut:return(t._context.displayName||"Context")+".Consumer";case St:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:Yt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Yt(t(n))}catch{}}return null}var W=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},it=[],S=-1;function Q(t){return{current:t}}function nt(t){0>S||(t.current=it[S],it[S]=null,S--)}function tt(t,n){S++,it[S]=t.current,t.current=n}var gt=Q(null),Ct=Q(null),Tt=Q(null),Ce=Q(null);function Wt(t,n){switch(tt(Tt,n),tt(Ct,t),tt(gt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Op(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Op(n),t=Mp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(gt),tt(gt,t)}function jn(){nt(gt),nt(Ct),nt(Tt)}function Ui(t){t.memoizedState!==null&&tt(Ce,t);var n=gt.current,r=Mp(n,t.type);n!==r&&(tt(Ct,t),tt(gt,r))}function li(t){Ct.current===t&&(nt(gt),nt(Ct)),Ce.current===t&&(nt(Ce),Ol._currentValue=ht)}var Sr=Object.prototype.hasOwnProperty,wr=a.unstable_scheduleCallback,Rr=a.unstable_cancelCallback,Ns=a.unstable_shouldYield,fo=a.unstable_requestPaint,dn=a.unstable_now,xc=a.unstable_getCurrentPriorityLevel,Vs=a.unstable_ImmediatePriority,_a=a.unstable_UserBlockingPriority,xr=a.unstable_NormalPriority,Cc=a.unstable_LowPriority,Ea=a.unstable_IdlePriority,Is=a.log,mo=a.unstable_setDisableYieldValue,le=null,Gt=null;function rn(t){if(typeof Is=="function"&&mo(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(le,t)}catch{}}var He=Math.clz32?Math.clz32:Cr,go=Math.log,Dc=Math.LN2;function Cr(t){return t>>>=0,t===0?32:31-(go(t)/Dc|0)|0}var Dr=256,Nr=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ta(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(y&=E,y!==0?c=Dn(y):r||(r=E&~t,r!==0&&(c=Dn(r))))):(E=l&~f,E!==0?c=Dn(E):y!==0?c=Dn(y):r||(r=l&~t,r!==0&&(c=Dn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Vr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Os(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var t=Dr;return Dr<<=1,(Dr&4194048)===0&&(Dr=256),t}function ks(){var t=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),t}function oi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ui(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Us(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(r=y&~r;0<r;){var F=31-He(r),Z=1<<F;E[F]=0,C[F]=-1;var P=z[F];if(P!==null)for(z[F]=null,F=0;F<P.length;F++){var B=P[F];B!==null&&(B.lane&=-536870913)}r&=~Z}l!==0&&Ln(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Ln(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-He(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function js(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-He(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ba(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Li(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Wp(t.type))}function po(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var ie=Math.random().toString(36).slice(2),Te="__reactFiber$"+ie,me="__reactProps$"+ie,mn="__reactContainer$"+ie,Ls="__reactEvents$"+ie,Nc="__reactListeners$"+ie,zi="__reactHandles$"+ie,yo="__reactResources$"+ie,Ir="__reactMarker$"+ie;function Pi(t){delete t[Te],delete t[me],delete t[Ls],delete t[Nc],delete t[zi]}function ci(t){var n=t[Te];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[Te]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Lp(t);t!==null;){if(r=t[Te])return r;t=Lp(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[Te]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Xe(t){var n=t[yo];return n||(n=t[yo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[Ir]=!0}var zs=new Set,Aa={};function Nn(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(Aa[t]=n,t=0;t<n.length;t++)zs.add(n[t])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},Or={};function Eo(t){return Sr.call(Or,t)?!0:Sr.call(_o,t)?!1:vo.test(t)?Or[t]=!0:(_o[t]=!0,!1)}function Bi(t,n,r){if(Eo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function ke(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Mr,To;function fi(t){if(Mr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Mr=n&&n[1]||"",To=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mr+t+To}var Sa=!1;function wa(t,n){if(!t||Sa)return"";Sa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(B){var P=B}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(B){P=B}t.call(Z.prototype)}}else{try{throw Error()}catch(B){P=B}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(B){if(B&&P&&typeof B.stack=="string")return[B.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var C=y.split(`
`),z=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===z.length)for(l=C.length-1,c=z.length-1;1<=l&&0<=c&&C[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==z[c]){var F=`
`+C[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Sa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?fi(r):""}function Ps(t){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return wa(t.type,!1);case 11:return wa(t.type.render,!1);case 1:return wa(t.type,!0);case 31:return fi("Activity");default:return""}}function Ra(t){try{var n="";do n+=Ps(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vc(t){var n=Bs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xa(t){t._valueTracker||(t._valueTracker=Vc(t))}function qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Bs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function kr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ic=/[\n"\\]/g;function ge(t){return t.replace(Ic,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?qi(t,y,Ze(n)):r!=null?qi(t,y,Ze(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ze(E):t.removeAttribute("name")}function Ur(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ze(r):"",n=n!=null?""+Ze(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function qi(t,n,r){n==="number"&&kr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function di(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ze(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Kt(t,n,r){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ze(r):""}function jr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(W(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ze(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Lr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Hs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&bo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&bo(t,f,n[f])}function Gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(t){return Mc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,pi=null;function Fs(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[me]||null;if(!c)throw Error(s(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&qs(l)}break t;case"textarea":Kt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&di(t,!!r.multiple,n,!1)}}}var qn=!1;function Ao(t,n,r){if(qn)return t(n,r);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(gi!==null||pi!==null)&&(pu(),gi&&(n=gi,t=pi,pi=gi=null,Fs(n),t)))for(n=0;n<t.length;n++)Fs(t[n])}}function zr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Vn)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{yn=!1}var Hn=null,Hi=null,yi=null;function Qs(){if(yi)return yi;var t,n=Hi,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return yi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Ys(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:Ys,this.isPropagationStopped=Ys,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=De(qt),Br=b({},qt,{view:0,detail:0}),So=De(Br),Na,Va,Qn,qr=b({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Na=t.screenX-Qn.screenX,Va=t.screenY-Qn.screenY):Va=Na=0,Qn=t),Na)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),vn=De(qr),wo=b({},qr,{dataTransfer:0}),kc=De(wo),Hr=b({},Br,{relatedTarget:0}),Ia=De(Hr),Ks=b({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=De(Ks),Ro=b({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=De(Ro),Uc=b({},qt,{data:0}),Xs=De(Uc),Gr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Co={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Co[t])?!!n[t]:!1}function Fr(){return Zs}var Do=b({},Br,{key:function(t){if(t.key){var n=Gr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ka=De(Do),No=b({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=De(No),vi=b({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),Vo=De(vi),Io=b({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oo=De(Io),Mo=b({},qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=De(Mo),$e=b({},qt,{newState:0,oldState:0}),ko=De($e),Uo=[9,13,27,32],Yn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,p=Vn&&(!Yn||u&&8<u&&11>=u),T=" ",j=!1;function H(t,n){switch(t){case"keyup":return Uo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kt=!1;function be(t,n){switch(t){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(j=!0,T);case"textInput":return t=n.data,t===T&&j?null:t;default:return null}}function Ut(t,n){if(kt)return t==="compositionend"||!Yn&&H(t,n)?(t=Qs(),yi=Hi=Hn=null,kt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ne[t.type]:n==="textarea"}function _i(t,n,r,l){gi?pi?pi.push(l):pi=[l]:gi=l,n=bu(n,"onChange"),0<n.length&&(r=new Da("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Kn=null;function Js(t){Cp(t,0)}function jo(t){var n=Pn(t);if(qs(n))return t}function Xd(t,n){if(t==="change")return n}var Zd=!1;if(Vn){var jc;if(Vn){var Lc="oninput"in document;if(!Lc){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),Lc=typeof $d.oninput=="function"}jc=Lc}else jc=!1;Zd=jc&&(!document.documentMode||9<document.documentMode)}function Jd(){Ue&&(Ue.detachEvent("onpropertychange",Wd),Kn=Ue=null)}function Wd(t){if(t.propertyName==="value"&&jo(Kn)){var n=[];_i(n,Kn,t,pn(t)),Ao(Js,n)}}function E_(t,n,r){t==="focusin"?(Jd(),Ue=n,Kn=r,Ue.attachEvent("onpropertychange",Wd)):t==="focusout"&&Jd()}function T_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jo(Kn)}function b_(t,n){if(t==="click")return jo(n)}function A_(t,n){if(t==="input"||t==="change")return jo(n)}function S_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:S_;function Ws(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Sr.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function tm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function em(t,n){var r=tm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=tm(r)}}function nm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?nm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function im(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=kr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=kr(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var w_=Vn&&"documentMode"in document&&11>=document.documentMode,ja=null,Pc=null,tl=null,Bc=!1;function rm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bc||ja==null||ja!==kr(l)||(l=ja,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&Ws(tl,l)||(tl=l,l=bu(Pc,"onSelect"),0<l.length&&(n=new Da("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ja)))}function Qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var La={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},qc={},am={};Vn&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Yr(t){if(qc[t])return qc[t];if(!La[t])return t;var n=La[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in am)return qc[t]=n[r];return t}var sm=Yr("animationend"),lm=Yr("animationiteration"),om=Yr("animationstart"),R_=Yr("transitionrun"),x_=Yr("transitionstart"),C_=Yr("transitioncancel"),um=Yr("transitionend"),cm=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function In(t,n){cm.set(t,n),Nn(n,[t])}var hm=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var r=hm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ra(n)},hm.set(t,n),n)}return{value:t,source:n,stack:Ra(n)}}var En=[],za=0,Gc=0;function Lo(){for(var t=za,n=Gc=za=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&fm(r,c,f)}}function zo(t,n,r,l){En[za++]=t,En[za++]=n,En[za++]=r,En[za++]=l,Gc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fc(t,n,r,l){return zo(t,n,r,l),Po(t)}function Pa(t,n){return zo(t,null,null,n),Po(t)}function fm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-He(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Po(t){if(50<wl)throw wl=0,$h=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={};function D_(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,r,l){return new D_(t,n,r,l)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,n){var r=t.alternate;return r===null?(r=ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function dm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Qc(t)&&(y=1);else if(typeof t=="string")y=V1(t,r,gt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=ln(31,r,n,c),t.elementType=R,t.lanes=f,t;case J:return Kr(r.children,c,f,n);case st:y=8,c|=24;break;case K:return t=ln(12,r,n,c|2),t.elementType=K,t.lanes=f,t;case yt:return t=ln(13,r,n,c),t.elementType=yt,t.lanes=f,t;case Nt:return t=ln(19,r,n,c),t.elementType=Nt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rt:case ft:y=10;break t;case ut:y=9;break t;case St:y=11;break t;case M:y=14;break t;case A:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=ln(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=ln(7,t,l,n),t.lanes=r,t}function Yc(t,n,r){return t=ln(6,t,null,n),t.lanes=r,t}function Kc(t,n,r){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qa=[],Ha=0,qo=null,Ho=0,Tn=[],bn=0,Xr=null,Ti=1,bi="";function Zr(t,n){qa[Ha++]=Ho,qa[Ha++]=qo,qo=t,Ho=n}function mm(t,n,r){Tn[bn++]=Ti,Tn[bn++]=bi,Tn[bn++]=Xr,Xr=t;var l=Ti;t=bi;var c=32-He(l)-1;l&=~(1<<c),r+=1;var f=32-He(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ti=1<<32-He(n)+c|r<<c|l,bi=f+t}else Ti=1<<f|r<<c|l,bi=t}function Xc(t){t.return!==null&&(Zr(t,1),mm(t,1,0))}function Zc(t){for(;t===qo;)qo=qa[--Ha],qa[Ha]=null,Ho=qa[--Ha],qa[Ha]=null;for(;t===Xr;)Xr=Tn[--bn],Tn[bn]=null,bi=Tn[--bn],Tn[bn]=null,Ti=Tn[--bn],Tn[bn]=null}var Je=null,oe=null,Bt=!1,$r=null,Xn=!1,$c=Error(s(519));function Jr(t){var n=Error(s(418,""));throw il(_n(n,t)),$c}function gm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Te]=t,n[me]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<xl.length;r++)It(xl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Ur(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xa(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),jr(n,l.value,l.defaultValue,l.children),xa(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Ip(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Au),n=!0):n=!1,n||Jr(t)}function pm(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Je=Je.return}}function el(t){if(t!==Je)return!1;if(!Bt)return pm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||mf(t.type,t.memoizedProps)),r=!r),r&&oe&&Jr(t),pm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){oe=Mn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}oe=null}}else n===27?(n=oe,ar(t.type)?(t=vf,vf=null,oe=t):oe=n):oe=Je?Mn(t.stateNode.nextSibling):null;return!0}function nl(){oe=Je=null,Bt=!1}function ym(){var t=$r;return t!==null&&(en===null?en=t:en.push.apply(en,t),$r=null),t}function il(t){$r===null?$r=[t]:$r.push(t)}var Jc=Q(null),Wr=null,Ai=null;function Gi(t,n,r){tt(Jc,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=Jc.current,nt(Jc)}function Wc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function th(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Wc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Wc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function rl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ce.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&th(n,t,r,l),n.flags|=262144}function Go(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){Wr=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return vm(Wr,t)}function Fo(t,n){return Wr===null&&ta(t),vm(t,n)}function vm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(s(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var N_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},V_=a.unstable_scheduleCallback,I_=a.unstable_NormalPriority,Se={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new N_,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&V_(I_,function(){t.controller.abort()})}var sl=null,nh=0,Ga=0,Fa=null;function O_(t,n){if(sl===null){var r=sl=[];nh=0,Ga=af(),Fa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return nh++,n.then(_m,_m),n}function _m(){if(--nh===0&&sl!==null){Fa!==null&&(Fa.status="fulfilled");var t=sl;sl=null,Ga=0,Fa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function M_(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Em=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&O_(t,n),Em!==null&&Em(t,n)};var ea=Q(null);function ih(){var t=ea.current;return t!==null?t:te.pooledCache}function Qo(t,n){n===null?tt(ea,ea.current):tt(ea,n.pool)}function Tm(){var t=ih();return t===null?null:{parent:Se._currentValue,pool:t}}var ll=Error(s(460)),bm=Error(s(474)),Yo=Error(s(542)),rh={then:function(){}};function Am(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ko(){}function Sm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ko,Ko),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rm(t),t;default:if(typeof n.status=="string")n.then(Ko,Ko);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rm(t),t}throw ol=n,ll}}var ol=null;function wm(){if(ol===null)throw Error(s(459));var t=ol;return ol=null,t}function Rm(t){if(t===ll||t===Yo)throw Error(s(483))}var Fi=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Po(t),fm(t,null,r),n}return zo(t,l,n,r),Po(t)}function ul(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,js(t,r)}}function lh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var oh=!1;function cl(){if(oh){var t=Fa;if(t!==null)throw t}}function hl(t,n,r,l){oh=!1;var c=t.updateQueue;Fi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,z=C.next;C.next=null,y===null?f=z:y.next=z,y=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var Z=c.baseState;y=0,F=z=C=null,E=f;do{var P=E.lane&-536870913,B=P!==E.lane;if(B?(jt&P)===P:(l&P)===P){P!==0&&P===Ga&&(oh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=t,pt=E;P=n;var $t=r;switch(pt.tag){case 1:if(Et=pt.payload,typeof Et=="function"){Z=Et.call($t,Z,P);break t}Z=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=pt.payload,P=typeof Et=="function"?Et.call($t,Z,P):Et,P==null)break t;Z=b({},Z,P);break t;case 2:Fi=!0}}P=E.callback,P!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[P]:B.push(P))}else B={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=B,C=Z):F=F.next=B,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);F===null&&(C=Z),c.baseState=C,c.firstBaseUpdate=z,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),er|=y,t.lanes=y,t.memoizedState=Z}}function xm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Cm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)xm(r[t],n)}var Qa=Q(null),Xo=Q(0);function Dm(t,n){t=Vi,tt(Xo,t),tt(Qa,n),Vi=t|n.baseLanes}function uh(){tt(Xo,Vi),tt(Qa,Qa.current)}function ch(){Vi=Xo.current,nt(Qa),nt(Xo)}var Ki=0,Rt=null,Xt=null,pe=null,Zo=!1,Ya=!1,na=!1,$o=0,fl=0,Ka=null,k_=0;function he(){throw Error(s(321))}function hh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function fh(t,n,r,l,c,f){return Ki=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?fg:dg,na=!1,f=r(l,c),na=!1,Ya&&(f=Vm(n,r,l,c)),Nm(t),f}function Nm(t){q.H=iu;var n=Xt!==null&&Xt.next!==null;if(Ki=0,pe=Xt=Rt=null,Zo=!1,fl=0,Ka=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&Go(t)&&(Ve=!0))}function Vm(t,n,r,l){Rt=t;var c=0;do{if(Ya&&(Ka=null),fl=0,Ya=!1,25<=c)throw Error(s(301));if(c+=1,pe=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=q_,f=n(r,l)}while(Ya);return f}function U_(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?dl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function dh(){var t=$o!==0;return $o=0,t}function mh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function gh(t){if(Zo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zo=!1}Ki=0,pe=Xt=Rt=null,Ya=!1,fl=$o=0,Ka=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Rt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Xt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=pe===null?Rt.memoizedState:pe.next;if(n!==null)pe=n,Xt=t;else{if(t===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},pe===null?Rt.memoizedState=pe=t:pe=pe.next=t}return pe}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var n=fl;return fl+=1,Ka===null&&(Ka=[]),t=Sm(Ka,t,n),n=Rt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?fg:dg),t}function Jo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===ft)return Ge(t)}throw Error(s(438,String(t)))}function yh(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ph(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function wi(t,n){return typeof n=="function"?n(t):n}function Wo(t){var n=ye();return vh(n,Xt,t)}function vh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,C=null,z=n,F=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(jt&Z)===Z:(Ki&Z)===Z){var P=z.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Ga&&(F=!0);else if((Ki&P)===P){z=z.next,P===Ga&&(F=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=Z,y=f):C=C.next=Z,Rt.lanes|=P,er|=P;Z=z.action,na&&r(f,Z),f=z.hasEagerState?z.eagerState:r(f,Z)}else P={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=P,y=f):C=C.next=P,Rt.lanes|=Z,er|=Z;z=z.next}while(z!==null&&z!==n);if(C===null?y=f:C.next=E,!sn(f,t.memoizedState)&&(Ve=!0,F&&(r=Fa,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _h(t){var n=ye(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Im(t,n,r){var l=Rt,c=ye(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!sn((Xt||c).memoizedState,r);y&&(c.memoizedState=r,Ve=!0),c=c.queue;var E=km.bind(null,l,c,t);if(ml(2048,8,E,[t]),c.getSnapshot!==n||y||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,Xa(9,tu(),Mm.bind(null,l,c,r,n),null),te===null)throw Error(s(349));f||(Ki&124)!==0||Om(l,n,r)}return r}function Om(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=ph(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Mm(t,n,r,l){n.value=r,n.getSnapshot=l,Um(n)&&jm(t)}function km(t,n,r){return r(function(){Um(n)&&jm(t)})}function Um(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function jm(t){var n=Pa(t,2);n!==null&&fn(n,t,2)}function Eh(t){var n=We();if(typeof t=="function"){var r=t;if(t=r(),na){rn(!0);try{r()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},n}function Lm(t,n,r,l){return t.baseState=r,vh(t,Xt,typeof l=="function"?l:wi)}function j_(t,n,r,l,c){if(nu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,zm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function zm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=q.T,y={};q.T=y;try{var E=r(c,l),C=q.S;C!==null&&C(y,E),Pm(t,n,E)}catch(z){Th(t,n,z)}finally{q.T=f}}else try{f=r(c,l),Pm(t,n,f)}catch(z){Th(t,n,z)}}function Pm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Bm(t,n,l)},function(l){return Th(t,n,l)}):Bm(t,n,r)}function Bm(t,n,r){n.status="fulfilled",n.value=r,qm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,zm(t,r)))}function Th(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,qm(n),n=n.next;while(n!==l)}t.action=null}function qm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Hm(t,n){return n}function Gm(t,n){if(Bt){var r=te.formState;if(r!==null){t:{var l=Rt;if(Bt){if(oe){e:{for(var c=oe,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){oe=Mn(c.nextSibling),l=c.data==="F!";break t}}Jr(l)}l=!1}l&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hm,lastRenderedState:n},r.queue=l,r=ug.bind(null,Rt,l),l.dispatch=r,l=Eh(!1),f=Rh.bind(null,Rt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=j_.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Fm(t){var n=ye();return Qm(n,Xt,t)}function Qm(t,n,r){if(n=vh(t,n,Hm)[0],t=Wo(wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=dl(n)}catch(y){throw y===ll?Yo:y}else l=n;n=ye();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,Xa(9,tu(),L_.bind(null,c,r),null)),[l,f,t]}function L_(t,n){t.action=n}function Ym(t){var n=ye(),r=Xt;if(r!==null)return Qm(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Xa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=ph(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function tu(){return{destroy:void 0,resource:void 0}}function Km(){return ye().memoizedState}function eu(t,n,r,l){var c=We();l=l===void 0?null:l,Rt.flags|=t,c.memoizedState=Xa(1|n,tu(),r,l)}function ml(t,n,r,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Xt!==null&&l!==null&&hh(l,Xt.memoizedState.deps)?c.memoizedState=Xa(n,f,r,l):(Rt.flags|=t,c.memoizedState=Xa(1|n,f,r,l))}function Xm(t,n){eu(8390656,8,t,n)}function Zm(t,n){ml(2048,8,t,n)}function $m(t,n){return ml(4,2,t,n)}function Jm(t,n){return ml(4,4,t,n)}function Wm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function tg(t,n,r){r=r!=null?r.concat([t]):null,ml(4,4,Wm.bind(null,n,t),r)}function bh(){}function eg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&hh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function ng(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&hh(n,l[1]))return l[0];if(l=t(),na){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l}function Ah(t,n,r){return r===void 0||(Ki&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=ap(),Rt.lanes|=t,er|=t,r)}function ig(t,n,r,l){return sn(r,n)?r:Qa.current!==null?(t=Ah(t,r,l),sn(t,n)||(Ve=!0),t):(Ki&42)===0?(Ve=!0,t.memoizedState=r):(t=ap(),Rt.lanes|=t,er|=t,n)}function rg(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=q.T,E={};q.T=E,Rh(t,!1,n,r);try{var C=c(),z=q.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=M_(C,l);gl(t,n,F,hn(t))}else gl(t,n,l,hn(t))}catch(Z){gl(t,n,{then:function(){},status:"rejected",reason:Z},hn())}finally{et.p=f,q.T=y}}function z_(){}function Sh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=ag(t).queue;rg(t,c,n,ht,r===null?z_:function(){return sg(t),r(l)})}function ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:ht},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function sg(t){var n=ag(t).next.queue;gl(t,n,{},hn())}function wh(){return Ge(Ol)}function lg(){return ye().memoizedState}function og(){return ye().memoizedState}function P_(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=Qi(r);var l=Yi(n,t,r);l!==null&&(fn(l,n,r),ul(l,n,r)),n={cache:eh()},t.payload=n;return}n=n.return}}function B_(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},nu(t)?cg(n,r):(r=Fc(t,n,r,l),r!==null&&(fn(r,t,l),hg(r,n,l)))}function ug(t,n,r){var l=hn();gl(t,n,r,l)}function gl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(nu(t))cg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return zo(t,n,c,0),te===null&&Lo(),!1}catch{}finally{}if(r=Fc(t,n,c,l),r!==null)return fn(r,t,l),hg(r,n,l),!0}return!1}function Rh(t,n,r,l){if(l={lane:2,revertLane:af(),action:l,hasEagerState:!1,eagerState:null,next:null},nu(t)){if(n)throw Error(s(479))}else n=Fc(t,r,l,2),n!==null&&fn(n,t,2)}function nu(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function cg(t,n){Ya=Zo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function hg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,js(t,r)}}var iu={readContext:Ge,use:Jo,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},fg={readContext:Ge,use:Jo,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:Xm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,eu(4194308,4,Wm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return eu(4194308,4,t,n)},useInsertionEffect:function(t,n){eu(4,2,t,n)},useMemo:function(t,n){var r=We();n=n===void 0?null:n;var l=t();if(na){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=We();if(r!==void 0){var c=r(n);if(na){rn(!0);try{r(n)}finally{rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=B_.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=Eh(t);var n=t.queue,r=ug.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:bh,useDeferredValue:function(t,n){var r=We();return Ah(r,t,n)},useTransition:function(){var t=Eh(!1);return t=rg.bind(null,Rt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=We();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),te===null)throw Error(s(349));(jt&124)!==0||Om(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Xm(km.bind(null,l,f,t),[t]),l.flags|=2048,Xa(9,tu(),Mm.bind(null,l,f,r,n),null),r},useId:function(){var t=We(),n=te.identifierPrefix;if(Bt){var r=bi,l=Ti;r=(l&~(1<<32-He(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=$o++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=k_++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:wh,useFormState:Gm,useActionState:Gm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Rh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]},useMemoCache:yh,useCacheRefresh:function(){return We().memoizedState=P_.bind(null,Rt)}},dg={readContext:Ge,use:Jo,useCallback:eg,useContext:Ge,useEffect:Zm,useImperativeHandle:tg,useInsertionEffect:$m,useLayoutEffect:Jm,useMemo:ng,useReducer:Wo,useRef:Km,useState:function(){return Wo(wi)},useDebugValue:bh,useDeferredValue:function(t,n){var r=ye();return ig(r,Xt.memoizedState,t,n)},useTransition:function(){var t=Wo(wi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Im,useId:lg,useHostTransitionStatus:wh,useFormState:Fm,useActionState:Fm,useOptimistic:function(t,n){var r=ye();return Lm(r,Xt,t,n)},useMemoCache:yh,useCacheRefresh:og},q_={readContext:Ge,use:Jo,useCallback:eg,useContext:Ge,useEffect:Zm,useImperativeHandle:tg,useInsertionEffect:$m,useLayoutEffect:Jm,useMemo:ng,useReducer:_h,useRef:Km,useState:function(){return _h(wi)},useDebugValue:bh,useDeferredValue:function(t,n){var r=ye();return Xt===null?Ah(r,t,n):ig(r,Xt.memoizedState,t,n)},useTransition:function(){var t=_h(wi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Im,useId:lg,useHostTransitionStatus:wh,useFormState:Ym,useActionState:Ym,useOptimistic:function(t,n){var r=ye();return Xt!==null?Lm(r,Xt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:yh,useCacheRefresh:og},Za=null,pl=0;function ru(t){var n=pl;return pl+=1,Za===null&&(Za=[]),Sm(Za,t,n)}function yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function au(t,n){throw n.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mg(t){var n=t._init;return n(t._payload)}function gg(t){function n(U,I){if(t){var L=U.deletions;L===null?(U.deletions=[I],U.flags|=16):L.push(I)}}function r(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=Ei(U,I),U.index=0,U.sibling=null,U}function f(U,I,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<I?(U.flags|=67108866,I):L):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,I,L,Y){return I===null||I.tag!==6?(I=Yc(L,U.mode,Y),I.return=U,I):(I=c(I,L),I.return=U,I)}function C(U,I,L,Y){var ct=L.type;return ct===J?F(U,I,L.props.children,Y,L.key):I!==null&&(I.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&mg(ct)===I.type)?(I=c(I,L.props),yl(I,L),I.return=U,I):(I=Bo(L.type,L.key,L.props,null,U.mode,Y),yl(I,L),I.return=U,I)}function z(U,I,L,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=Kc(L,U.mode,Y),I.return=U,I):(I=c(I,L.children||[]),I.return=U,I)}function F(U,I,L,Y,ct){return I===null||I.tag!==7?(I=Kr(L,U.mode,Y,ct),I.return=U,I):(I=c(I,L),I.return=U,I)}function Z(U,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Yc(""+I,U.mode,L),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case O:return L=Bo(I.type,I.key,I.props,null,U.mode,L),yl(L,I),L.return=U,L;case G:return I=Kc(I,U.mode,L),I.return=U,I;case A:var Y=I._init;return I=Y(I._payload),Z(U,I,L)}if(W(I)||k(I))return I=Kr(I,U.mode,L,null),I.return=U,I;if(typeof I.then=="function")return Z(U,ru(I),L);if(I.$$typeof===ft)return Z(U,Fo(U,I),L);au(U,I)}return null}function P(U,I,L,Y){var ct=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(U,I,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case O:return L.key===ct?C(U,I,L,Y):null;case G:return L.key===ct?z(U,I,L,Y):null;case A:return ct=L._init,L=ct(L._payload),P(U,I,L,Y)}if(W(L)||k(L))return ct!==null?null:F(U,I,L,Y,null);if(typeof L.then=="function")return P(U,I,ru(L),Y);if(L.$$typeof===ft)return P(U,I,Fo(U,L),Y);au(U,L)}return null}function B(U,I,L,Y,ct){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(L)||null,E(I,U,""+Y,ct);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case O:return U=U.get(Y.key===null?L:Y.key)||null,C(I,U,Y,ct);case G:return U=U.get(Y.key===null?L:Y.key)||null,z(I,U,Y,ct);case A:var Dt=Y._init;return Y=Dt(Y._payload),B(U,I,L,Y,ct)}if(W(Y)||k(Y))return U=U.get(L)||null,F(I,U,Y,ct,null);if(typeof Y.then=="function")return B(U,I,L,ru(Y),ct);if(Y.$$typeof===ft)return B(U,I,L,Fo(I,Y),ct);au(I,Y)}return null}function Et(U,I,L,Y){for(var ct=null,Dt=null,dt=I,vt=I=0,Oe=null;dt!==null&&vt<L.length;vt++){dt.index>vt?(Oe=dt,dt=null):Oe=dt.sibling;var Pt=P(U,dt,L[vt],Y);if(Pt===null){dt===null&&(dt=Oe);break}t&&dt&&Pt.alternate===null&&n(U,dt),I=f(Pt,I,vt),Dt===null?ct=Pt:Dt.sibling=Pt,Dt=Pt,dt=Oe}if(vt===L.length)return r(U,dt),Bt&&Zr(U,vt),ct;if(dt===null){for(;vt<L.length;vt++)dt=Z(U,L[vt],Y),dt!==null&&(I=f(dt,I,vt),Dt===null?ct=dt:Dt.sibling=dt,Dt=dt);return Bt&&Zr(U,vt),ct}for(dt=l(dt);vt<L.length;vt++)Oe=B(dt,U,vt,L[vt],Y),Oe!==null&&(t&&Oe.alternate!==null&&dt.delete(Oe.key===null?vt:Oe.key),I=f(Oe,I,vt),Dt===null?ct=Oe:Dt.sibling=Oe,Dt=Oe);return t&&dt.forEach(function(cr){return n(U,cr)}),Bt&&Zr(U,vt),ct}function pt(U,I,L,Y){if(L==null)throw Error(s(151));for(var ct=null,Dt=null,dt=I,vt=I=0,Oe=null,Pt=L.next();dt!==null&&!Pt.done;vt++,Pt=L.next()){dt.index>vt?(Oe=dt,dt=null):Oe=dt.sibling;var cr=P(U,dt,Pt.value,Y);if(cr===null){dt===null&&(dt=Oe);break}t&&dt&&cr.alternate===null&&n(U,dt),I=f(cr,I,vt),Dt===null?ct=cr:Dt.sibling=cr,Dt=cr,dt=Oe}if(Pt.done)return r(U,dt),Bt&&Zr(U,vt),ct;if(dt===null){for(;!Pt.done;vt++,Pt=L.next())Pt=Z(U,Pt.value,Y),Pt!==null&&(I=f(Pt,I,vt),Dt===null?ct=Pt:Dt.sibling=Pt,Dt=Pt);return Bt&&Zr(U,vt),ct}for(dt=l(dt);!Pt.done;vt++,Pt=L.next())Pt=B(dt,U,vt,Pt.value,Y),Pt!==null&&(t&&Pt.alternate!==null&&dt.delete(Pt.key===null?vt:Pt.key),I=f(Pt,I,vt),Dt===null?ct=Pt:Dt.sibling=Pt,Dt=Pt);return t&&dt.forEach(function(H1){return n(U,H1)}),Bt&&Zr(U,vt),ct}function $t(U,I,L,Y){if(typeof L=="object"&&L!==null&&L.type===J&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case O:t:{for(var ct=L.key;I!==null;){if(I.key===ct){if(ct=L.type,ct===J){if(I.tag===7){r(U,I.sibling),Y=c(I,L.props.children),Y.return=U,U=Y;break t}}else if(I.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&mg(ct)===I.type){r(U,I.sibling),Y=c(I,L.props),yl(Y,L),Y.return=U,U=Y;break t}r(U,I);break}else n(U,I);I=I.sibling}L.type===J?(Y=Kr(L.props.children,U.mode,Y,L.key),Y.return=U,U=Y):(Y=Bo(L.type,L.key,L.props,null,U.mode,Y),yl(Y,L),Y.return=U,U=Y)}return y(U);case G:t:{for(ct=L.key;I!==null;){if(I.key===ct)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){r(U,I.sibling),Y=c(I,L.children||[]),Y.return=U,U=Y;break t}else{r(U,I);break}else n(U,I);I=I.sibling}Y=Kc(L,U.mode,Y),Y.return=U,U=Y}return y(U);case A:return ct=L._init,L=ct(L._payload),$t(U,I,L,Y)}if(W(L))return Et(U,I,L,Y);if(k(L)){if(ct=k(L),typeof ct!="function")throw Error(s(150));return L=ct.call(L),pt(U,I,L,Y)}if(typeof L.then=="function")return $t(U,I,ru(L),Y);if(L.$$typeof===ft)return $t(U,I,Fo(U,L),Y);au(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(r(U,I.sibling),Y=c(I,L),Y.return=U,U=Y):(r(U,I),Y=Yc(L,U.mode,Y),Y.return=U,U=Y),y(U)):r(U,I)}return function(U,I,L,Y){try{pl=0;var ct=$t(U,I,L,Y);return Za=null,ct}catch(dt){if(dt===ll||dt===Yo)throw dt;var Dt=ln(29,dt,null,U.mode);return Dt.lanes=Y,Dt.return=U,Dt}finally{}}}var $a=gg(!0),pg=gg(!1),An=Q(null),Zn=null;function Xi(t){var n=t.alternate;tt(we,we.current&1),tt(An,t),Zn===null&&(n===null||Qa.current!==null||n.memoizedState!==null)&&(Zn=t)}function yg(t){if(t.tag===22){if(tt(we,we.current),tt(An,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else Zi()}function Zi(){tt(we,we.current),tt(An,An.current)}function Ri(t){nt(An),Zn===t&&(Zn=null),nt(we)}var we=Q(0);function su(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||yf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function xh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:b({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ch={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Qi(l);c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(fn(n,t,l),ul(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Qi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(fn(n,t,l),ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=Qi(r);l.tag=2,n!=null&&(l.callback=n),n=Yi(t,l,r),n!==null&&(fn(n,t,r),ul(n,t,r))}};function vg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ws(r,l)||!Ws(c,f):!0}function _g(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Ch.enqueueReplaceState(n,n.state,null)}function ia(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=b({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Eg(t){lu(t)}function Tg(t){console.error(t)}function bg(t){lu(t)}function ou(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ag(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Dh(t,n,r){return r=Qi(r),r.tag=3,r.payload={element:null},r.callback=function(){ou(t,n)},r}function Sg(t){return t=Qi(t),t.tag=3,t}function wg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ag(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Ag(n,r,l),typeof c!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function H_(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&rl(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return Zn===null?Wh():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===rh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ef(t,l,c)),!1;case 22:return r.flags|=65536,l===rh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ef(t,l,c)),!1}throw Error(s(435,r.tag))}return ef(t,l,c),Wh(),!1}if(Bt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==$c&&(t=Error(s(422),{cause:l}),il(_n(t,r)))):(l!==$c&&(n=Error(s(423),{cause:l}),il(_n(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,r),c=Dh(t.stateNode,l,c),lh(t,c),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=_n(f,r),Sl===null?Sl=[f]:Sl.push(f),ue!==4&&(ue=2),n===null)return!0;l=_n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Dh(r.stateNode,l,t),lh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Sg(c),wg(c,t,r,l),lh(r,c),!1}r=r.return}while(r!==null);return!1}var Rg=Error(s(461)),Ve=!1;function je(t,n,r,l){n.child=t===null?pg(n,null,r,l):$a(n,t.child,r,l)}function xg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ta(n),l=fh(t,n,r,y,f,c),E=dh(),t!==null&&!Ve?(mh(t,n,c),xi(t,n,c)):(Bt&&E&&Xc(n),n.flags|=1,je(t,n,l,c),n.child)}function Cg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Qc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Dg(t,n,f,l,c)):(t=Bo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!jh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ws,r(y,l)&&t.ref===n.ref)return xi(t,n,c)}return n.flags|=1,t=Ei(f,l),t.ref=n.ref,t.return=n,n.child=t}function Dg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ws(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,jh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,xi(t,n,c)}return Nh(t,n,r,l,c)}function Ng(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Vg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qo(n,f!==null?f.cachePool:null),f!==null?Dm(n,f):uh(),yg(n);else return n.lanes=n.childLanes=536870912,Vg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Qo(n,f.cachePool),Dm(n,f),Zi(),n.memoizedState=null):(t!==null&&Qo(n,null),uh(),Zi());return je(t,n,c,r),n.child}function Vg(t,n,r,l){var c=ih();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Qo(n,null),uh(),yg(n),t!==null&&rl(t,n,l,!0),null}function uu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Nh(t,n,r,l,c){return ta(n),r=fh(t,n,r,l,void 0,c),l=dh(),t!==null&&!Ve?(mh(t,n,c),xi(t,n,c)):(Bt&&l&&Xc(n),n.flags|=1,je(t,n,r,c),n.child)}function Ig(t,n,r,l,c,f){return ta(n),n.updateQueue=null,r=Vm(n,l,r,c),Nm(t),l=dh(),t!==null&&!Ve?(mh(t,n,f),xi(t,n,f)):(Bt&&l&&Xc(n),n.flags|=1,je(t,n,r,f),n.child)}function Og(t,n,r,l,c){if(ta(n),n.stateNode===null){var f=Ba,y=r.contextType;typeof y=="object"&&y!==null&&(f=Ge(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ch,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Ge(y):Ba,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(xh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Ch.enqueueReplaceState(f,f.state,null),hl(n,l,f,c),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=ia(r,E);f.props=C;var z=f.context,F=r.contextType;y=Ba,typeof F=="object"&&F!==null&&(y=Ge(F));var Z=r.getDerivedStateFromProps;F=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&_g(n,f,l,y),Fi=!1;var P=n.memoizedState;f.state=P,hl(n,l,f,c),cl(),z=n.memoizedState,E||P!==z||Fi?(typeof Z=="function"&&(xh(n,r,Z,l),z=n.memoizedState),(C=Fi||vg(n,r,C,l,P,z,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sh(t,n),y=n.memoizedProps,F=ia(r,y),f.props=F,Z=n.pendingProps,P=f.context,z=r.contextType,C=Ba,typeof z=="object"&&z!==null&&(C=Ge(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Z||P!==C)&&_g(n,f,l,C),Fi=!1,P=n.memoizedState,f.state=P,hl(n,l,f,c),cl();var B=n.memoizedState;y!==Z||P!==B||Fi||t!==null&&t.dependencies!==null&&Go(t.dependencies)?(typeof E=="function"&&(xh(n,r,E,l),B=n.memoizedState),(F=Fi||vg(n,r,F,l,P,B,C)||t!==null&&t.dependencies!==null&&Go(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=C,l=F):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=$a(n,t.child,null,c),n.child=$a(n,null,r,c)):je(t,n,r,c),n.memoizedState=f.state,t=n.child):t=xi(t,n,c),t}function Mg(t,n,r,l){return nl(),n.flags|=256,je(t,n,r,l),n.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ih(t){return{baseLanes:t,cachePool:Tm()}}function Oh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sn),t}function kg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(we.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Xi(n):Zi(),Bt){var E=oe,C;if(C=E){t:{for(C=E,E=Xn;C.nodeType!==8;){if(!E){E=null;break t}if(C=Mn(C.nextSibling),C===null){E=null;break t}}E=C}E!==null?(n.memoizedState={dehydrated:E,treeContext:Xr!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},C=ln(18,null,null,0),C.stateNode=E,C.return=n,n.child=C,Je=n,oe=null,C=!0):C=!1}C||Jr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return yf(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?(Zi(),c=n.mode,E=cu({mode:"hidden",children:E},c),l=Kr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ih(r),c.childLanes=Oh(t,y,r),n.memoizedState=Vh,l):(Xi(n),Mh(n,E))}if(C=t.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Xi(n),n.flags&=-257,n=kh(t,n,r)):n.memoizedState!==null?(Zi(),n.child=t.child,n.flags|=128,n=null):(Zi(),c=l.fallback,E=n.mode,l=cu({mode:"visible",children:l.children},E),c=Kr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,$a(n,t.child,null,r),l=n.child,l.memoizedState=Ih(r),l.childLanes=Oh(t,y,r),n.memoizedState=Vh,n=c);else if(Xi(n),yf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(s(419)),l.stack="",l.digest=y,il({value:l,source:null,stack:null}),n=kh(t,n,r)}else if(Ve||rl(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=te,y!==null&&(l=r&-r,l=(l&42)!==0?1:ji(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Pa(t,l),fn(y,t,l),Rg;E.data==="$?"||Wh(),n=kh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,oe=Mn(E.nextSibling),Je=n,Bt=!0,$r=null,Xn=!1,t!==null&&(Tn[bn++]=Ti,Tn[bn++]=bi,Tn[bn++]=Xr,Ti=t.id,bi=t.overflow,Xr=n),n=Mh(n,l.children),n.flags|=4096);return n}return c?(Zi(),c=l.fallback,E=n.mode,C=t.child,z=C.sibling,l=Ei(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?c=Ei(z,c):(c=Kr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ih(r):(C=E.cachePool,C!==null?(z=Se._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=Tm(),E={baseLanes:E.baseLanes|r,cachePool:C}),c.memoizedState=E,c.childLanes=Oh(t,y,r),n.memoizedState=Vh,l):(Xi(n),r=t.child,t=r.sibling,r=Ei(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Mh(t,n){return n=cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cu(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function kh(t,n,r){return $a(n,t.child,null,r),t=Mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ug(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wc(t.return,n,r)}function Uh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function jg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(je(t,n,l.children,r),l=we.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ug(t,r,n);else if(t.tag===19)Ug(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(tt(we,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&su(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Uh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&su(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Uh(n,!0,r,null,f);break;case"together":Uh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function xi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),er|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(rl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ei(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ei(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function jh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Go(t)))}function G_(t,n,r){switch(n.tag){case 3:Wt(n,n.stateNode.containerInfo),Gi(n,Se,t.memoizedState.cache),nl();break;case 27:case 5:Ui(n);break;case 4:Wt(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?kg(t,n,r):(Xi(n),t=xi(t,n,r),t!==null?t.sibling:null);Xi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(rl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return jg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(we,we.current),l)break;return null;case 22:case 23:return n.lanes=0,Ng(t,n,r);case 24:Gi(n,Se,t.memoizedState.cache)}return xi(t,n,r)}function Lg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!jh(t,r)&&(n.flags&128)===0)return Ve=!1,G_(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,Bt&&(n.flags&1048576)!==0&&mm(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Qc(l)?(t=ia(l,t),n.tag=1,n=Og(null,n,l,t,r)):(n.tag=0,n=Nh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===St){n.tag=11,n=xg(null,n,l,t,r);break t}else if(c===M){n.tag=14,n=Cg(null,n,l,t,r);break t}}throw n=Yt(l)||l,Error(s(306,n,""))}}return n;case 0:return Nh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ia(l,n.pendingProps),Og(t,n,l,c,r);case 3:t:{if(Wt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,sh(t,n),hl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Gi(n,Se,l),l!==f.cache&&th(n,[Se],r,!0),cl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Mg(t,n,l,r);break t}else if(l!==c){c=_n(Error(s(424)),n),il(c),n=Mg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=Mn(t.firstChild),Je=n,Bt=!0,$r=null,Xn=!0,r=pg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(nl(),l===c){n=xi(t,n,r);break t}je(t,n,l,r)}n=n.child}return n;case 26:return uu(t,n),t===null?(r=qp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Su(Tt.current).createElement(r),l[Te]=n,l[me]=t,ze(l,r,t),ce(l),n.stateNode=l):n.memoizedState=qp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ui(n),t===null&&Bt&&(l=n.stateNode=zp(n.type,n.pendingProps,Tt.current),Je=n,Xn=!0,c=oe,ar(n.type)?(vf=c,oe=Mn(l.firstChild)):oe=c),je(t,n,n.pendingProps.children,r),uu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=oe)&&(l=v1(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Je=n,oe=Mn(l.firstChild),Xn=!1,c=!0):c=!1),c||Jr(n)),Ui(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,mf(c,f)?l=null:y!==null&&mf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=fh(t,n,U_,null,null,r),Ol._currentValue=c),uu(t,n),je(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=oe)&&(r=_1(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,Je=n,oe=null,t=!0):t=!1),t||Jr(n)),null;case 13:return kg(t,n,r);case 4:return Wt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=$a(n,null,l,r):je(t,n,l,r),n.child;case 11:return xg(t,n,n.type,n.pendingProps,r);case 7:return je(t,n,n.pendingProps,r),n.child;case 8:return je(t,n,n.pendingProps.children,r),n.child;case 12:return je(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Gi(n,n.type,l.value),je(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ta(n),c=Ge(c),l=l(c),n.flags|=1,je(t,n,l,r),n.child;case 14:return Cg(t,n,n.type,n.pendingProps,r);case 15:return Dg(t,n,n.type,n.pendingProps,r);case 19:return jg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=cu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ei(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Ng(t,n,r);case 24:return ta(n),l=Ge(Se),t===null?(c=ih(),c===null&&(c=te,f=eh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ah(n),Gi(n,Se,c)):((t.lanes&r)!==0&&(sh(t,n),hl(n,null,null,r),cl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Gi(n,Se,l)):(l=f.cache,Gi(n,Se,l),l!==c.cache&&th(n,[Se],r,!0))),je(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ci(t){t.flags|=4}function zg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Yp(n)){if(n=An.current,n!==null&&((jt&4194048)===jt?Zn!==null:(jt&62914560)!==jt&&(jt&536870912)===0||n!==Zn))throw ol=rh,bm;t.flags|=8192}}function hu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ks():536870912,t.lanes|=n,es|=n)}function vl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ae(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function F_(t,n,r){var l=n.pendingProps;switch(Zc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Se),jn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(el(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ym())),ae(n),null;case 26:return r=n.memoizedState,t===null?(Ci(n),r!==null?(ae(n),zg(n,r)):(ae(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ci(n),ae(n),zg(n,r)):(ae(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),ae(n),n.flags&=-16777217),null;case 27:li(n),r=Tt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}t=gt.current,el(n)?gm(n):(t=zp(c,l,r),n.stateNode=t,Ci(n))}return ae(n),null;case 5:if(li(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}if(t=gt.current,el(n))gm(n);else{switch(c=Su(Tt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Te]=n,t[me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return ae(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,el(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Ip(t.nodeValue,r)),t||Jr(n)}else t=Su(t).createTextNode(l),t[Te]=n,n.stateNode=t}return ae(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=el(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Te]=n}else nl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),c=!1}else c=ym(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),hu(n,n.updateQueue),ae(n),null;case 4:return jn(),t===null&&uf(n.stateNode.containerInfo),ae(n),null;case 10:return Si(n.type),ae(n),null;case 19:if(nt(we),c=n.memoizedState,c===null)return ae(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)vl(c,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=su(t),f!==null){for(n.flags|=128,vl(c,!1),t=f.updateQueue,n.updateQueue=t,hu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)dm(r,t),r=r.sibling;return tt(we,we.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>mu&&(n.flags|=128,l=!0,vl(c,!1),n.lanes=4194304)}else{if(!l)if(t=su(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,hu(n,t),vl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ae(n),null}else 2*dn()-c.renderingStartTime>mu&&r!==536870912&&(n.flags|=128,l=!0,vl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=we.current,tt(we,l?t&1|2:t&1),n):(ae(n),null);case 22:case 23:return Ri(n),ch(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),r=n.updateQueue,r!==null&&hu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(ea),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Se),ae(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Q_(t,n){switch(Zc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Se),jn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));nl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(we),null;case 4:return jn(),null;case 10:return Si(n.type),null;case 22:case 23:return Ri(n),ch(),t!==null&&nt(ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Se),null;case 25:return null;default:return null}}function Pg(t,n){switch(Zc(n),n.tag){case 3:Si(Se),jn();break;case 26:case 27:case 5:li(n);break;case 4:jn();break;case 13:Ri(n);break;case 19:nt(we);break;case 10:Si(n.type);break;case 22:case 23:Ri(n),ch(),t!==null&&nt(ea);break;case 24:Si(Se)}}function _l(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Jt(n,n.return,E)}}function $i(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var C=r,z=E;try{z()}catch(F){Jt(c,C,F)}}}l=l.next}while(l!==f)}}catch(F){Jt(n,n.return,F)}}function Bg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Cm(n,r)}catch(l){Jt(t,t.return,l)}}}function qg(t,n,r){r.props=ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Jt(t,n,l)}}function El(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Jt(t,n,c)}}function $n(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Jt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Jt(t,n,c)}else r.current=null}function Hg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Jt(t,t.return,c)}}function Lh(t,n,r){try{var l=t.stateNode;d1(l,t.type,r,n),l[me]=n}catch(c){Jt(t,t.return,c)}}function Gg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Gg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ph(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Au));else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Ph(t,n,r),t=t.sibling;t!==null;)Ph(t,n,r),t=t.sibling}function fu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(fu(t,n,r),t=t.sibling;t!==null;)fu(t,n,r),t=t.sibling}function Fg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[Te]=t,n[me]=r}catch(f){Jt(t,t.return,f)}}var Di=!1,fe=!1,Bh=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Y_(t,n){if(t=t.containerInfo,ff=Nu,t=im(t),zc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,C=-1,z=0,F=0,Z=t,P=null;e:for(;;){for(var B;Z!==r||c!==0&&Z.nodeType!==3||(E=y+c),Z!==f||l!==0&&Z.nodeType!==3||(C=y+l),Z.nodeType===3&&(y+=Z.nodeValue.length),(B=Z.firstChild)!==null;)P=Z,Z=B;for(;;){if(Z===t)break e;if(P===r&&++z===c&&(E=y),P===f&&++F===l&&(C=y),(B=Z.nextSibling)!==null)break;Z=P,P=Z.parentNode}Z=B}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(df={focusedElem:t,selectionRange:r},Nu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Et=ia(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Jt(r,r.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)pf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Yg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(t,r),l&4&&_l(5,r);break;case 1:if(Ji(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Jt(r,r.return,y)}else{var c=ia(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Jt(r,r.return,y)}}l&64&&Bg(r),l&512&&El(r,r.return);break;case 3:if(Ji(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Cm(t,n)}catch(y){Jt(r,r.return,y)}}break;case 27:n===null&&l&4&&Fg(r);case 26:case 5:Ji(t,r),n===null&&l&4&&Hg(r),l&512&&El(r,r.return);break;case 12:Ji(t,r);break;case 13:Ji(t,r),l&4&&Zg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=n1.bind(null,r),E1(t,r))));break;case 22:if(l=r.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||fe,c=Di;var f=fe;Di=l,(fe=n)&&!f?Wi(t,r,(r.subtreeFlags&8772)!==0):Ji(t,r),Di=c,fe=f}break;case 30:break;default:Ji(t,r)}}function Kg(t){var n=t.alternate;n!==null&&(t.alternate=null,Kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,tn=!1;function Ni(t,n,r){for(r=r.child;r!==null;)Xg(t,n,r),r=r.sibling}function Xg(t,n,r){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(le,r)}catch{}switch(r.tag){case 26:fe||$n(r,n),Ni(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||$n(r,n);var l=re,c=tn;ar(r.type)&&(re=r.stateNode,tn=!1),Ni(t,n,r),Dl(r.stateNode),re=l,tn=c;break;case 5:fe||$n(r,n);case 6:if(l=re,c=tn,re=null,Ni(t,n,r),re=l,tn=c,re!==null)if(tn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(r.stateNode)}catch(f){Jt(r,n,f)}else try{re.removeChild(r.stateNode)}catch(f){Jt(r,n,f)}break;case 18:re!==null&&(tn?(t=re,jp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),jl(t)):jp(re,r.stateNode));break;case 4:l=re,c=tn,re=r.stateNode.containerInfo,tn=!0,Ni(t,n,r),re=l,tn=c;break;case 0:case 11:case 14:case 15:fe||$i(2,r,n),fe||$i(4,r,n),Ni(t,n,r);break;case 1:fe||($n(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&qg(r,n,l)),Ni(t,n,r);break;case 21:Ni(t,n,r);break;case 22:fe=(l=fe)||r.memoizedState!==null,Ni(t,n,r),fe=l;break;default:Ni(t,n,r)}}function Zg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(r){Jt(n,n.return,r)}}function K_(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Qg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Qg),n;default:throw Error(s(435,t.tag))}}function qh(t,n){var r=K_(t);n.forEach(function(l){var c=i1.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ar(E.type)){re=E.stateNode,tn=!1;break t}break;case 5:re=E.stateNode,tn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(re===null)throw Error(s(160));Xg(f,y,c),re=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)$g(n,t),n=n.sibling}var On=null;function $g(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&($i(3,t,t.return),_l(3,t),$i(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(fe||r===null||$n(r,r.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=On;if(on(n,t),un(t),l&512&&(fe||r===null||$n(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ir]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[Te]=t,ce(f),l=f;break t;case"link":var y=Fp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Fp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=t,ce(f),l=f}t.stateNode=l}else Qp(c,t.type,t.stateNode);else t.stateNode=Gp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Qp(c,t.type,t.stateNode):Gp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Lh(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(fe||r===null||$n(r,r.return)),r!==null&&l&4&&Lh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(fe||r===null||$n(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(B){Jt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Lh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Bh=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Jt(t,t.return,B)}}break;case 3:if(xu=null,c=On,On=wu(n.containerInfo),on(n,t),On=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(B){Jt(t,t.return,B)}Bh&&(Bh=!1,Jg(t));break;case 4:l=On,On=wu(t.stateNode.containerInfo),on(n,t),un(t),On=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Kh=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qh(t,l)));break;case 22:c=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,z=Di,F=fe;if(Di=z||c,fe=F||C,on(n,t),fe=F,Di=z,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||C||Di||fe||ra(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var Z=C.memoizedProps.style,P=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(B){Jt(C,C.return,B)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(B){Jt(C,C.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,qh(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qh(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Gg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=zh(t);fu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(gn(y,""),r.flags&=-33);var E=zh(t);fu(t,E,y);break;case 3:case 4:var C=r.stateNode.containerInfo,z=zh(t);Ph(t,z,C);break;default:throw Error(s(161))}}catch(F){Jt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Jg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yg(t,n.alternate,n),n=n.sibling}function ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),ra(n);break;case 1:$n(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&qg(n,n.return,r),ra(n);break;case 27:Dl(n.stateNode);case 26:case 5:$n(n,n.return),ra(n);break;case 22:n.memoizedState===null&&ra(n);break;case 30:ra(n);break;default:ra(n)}t=t.sibling}}function Wi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,r),_l(4,f);break;case 1:if(Wi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Jt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)xm(C[c],E)}catch(z){Jt(l,l.return,z)}}r&&y&64&&Bg(f),El(f,f.return);break;case 27:Fg(f);case 26:case 5:Wi(c,f,r),r&&l===null&&y&4&&Hg(f),El(f,f.return);break;case 12:Wi(c,f,r);break;case 13:Wi(c,f,r),r&&y&4&&Zg(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,r),El(f,f.return);break;case 30:break;default:Wi(c,f,r)}n=n.sibling}}function Hh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&al(r))}function Gh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wg(t,n,r,l),n=n.sibling}function Wg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),c&2048&&_l(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Jt(n,n.return,C)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):Tl(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,Ja(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Hh(y,n);break;case 24:Jn(t,n,r,l),c&2048&&Gh(n.alternate,n);break;default:Jn(t,n,r,l)}}function Ja(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,C=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ja(f,y,E,C,c),_l(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Ja(f,y,E,C,c):Tl(f,y):(F._visibility|=2,Ja(f,y,E,C,c)),c&&z&2048&&Hh(y.alternate,y);break;case 24:Ja(f,y,E,C,c),c&&z&2048&&Gh(y.alternate,y);break;default:Ja(f,y,E,C,c)}n=n.sibling}}function Tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Tl(r,l),c&2048&&Hh(l.alternate,l);break;case 24:Tl(r,l),c&2048&&Gh(l.alternate,l);break;default:Tl(r,l)}n=n.sibling}}var bl=8192;function Wa(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)tp(t),t=t.sibling}function tp(t){switch(t.tag){case 26:Wa(t),t.flags&bl&&t.memoizedState!==null&&O1(On,t.memoizedState,t.memoizedProps);break;case 5:Wa(t);break;case 3:case 4:var n=On;On=wu(t.stateNode.containerInfo),Wa(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=bl,bl=16777216,Wa(t),bl=n):Wa(t));break;default:Wa(t)}}function ep(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,ip(l,t)}ep(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)np(t),t=t.sibling}function np(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,du(t)):Al(t);break;default:Al(t)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,ip(l,t)}ep(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),du(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,du(n));break;default:du(n)}t=t.sibling}}function ip(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:$i(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Kg(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var X_={getCacheForType:function(t){var n=Ge(Se),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},Z_=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,Vt=null,jt=0,Qt=0,cn=null,tr=!1,ts=!1,Fh=!1,Vi=0,ue=0,er=0,aa=0,Qh=0,Sn=0,es=0,Sl=null,en=null,Yh=!1,Kh=0,mu=1/0,gu=null,nr=null,Le=0,ir=null,ns=null,is=0,Xh=0,Zh=null,rp=null,wl=0,$h=null;function hn(){if((Ft&2)!==0&&jt!==0)return jt&-jt;if(q.T!==null){var t=Ga;return t!==0?t:af()}return Li()}function ap(){Sn===0&&(Sn=(jt&536870912)===0||Bt?Ms():536870912);var t=An.current;return t!==null&&(t.flags|=32),Sn}function fn(t,n,r){(t===te&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(rs(t,0),rr(t,jt,Sn,!1)),ui(t,r),((Ft&2)===0||t!==te)&&(t===te&&((Ft&2)===0&&(aa|=r),ue===4&&rr(t,jt,Sn,!1)),Wn(t))}function sp(t,n,r){if((Ft&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Vr(t,n),c=l?W_(t,n):tf(t,n,!0),f=l;do{if(c===0){ts&&!l&&rr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!$_(r)){c=tf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Sl;var C=E.current.memoizedState.isDehydrated;if(C&&(rs(E,y).flags|=256),y=tf(E,y,!1),y!==2){if(Fh&&!C){E.errorRecoveryDisabledLanes|=f,aa|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){rs(t,0),rr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:rr(l,n,Sn,!tr);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Kh+300-dn(),10<c)){if(rr(l,n,Sn,!tr),Ta(l,0,!0)!==0)break t;l.timeoutHandle=kp(lp.bind(null,l,r,en,gu,Yh,n,Sn,aa,es,tr,f,2,-0,0),c);break t}lp(l,r,en,gu,Yh,n,Sn,aa,es,tr,f,0,-0,0)}}break}while(!0);Wn(t)}function lp(t,n,r,l,c,f,y,E,C,z,F,Z,P,B){if(t.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:I1},tp(n),Z=M1(),Z!==null)){t.cancelPendingCommit=Z(mp.bind(null,t,n,f,r,l,c,y,E,C,F,1,P,B)),rr(t,f,y,!z);return}mp(t,n,f,r,l,c,y,E,C)}function $_(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(t,n,r,l){n&=~Qh,n&=~aa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-He(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Ln(t,r,n)}function pu(){return(Ft&6)===0?(Rl(0),!1):!0}function Jh(){if(Vt!==null){if(Qt===0)var t=Vt.return;else t=Vt,Ai=Wr=null,gh(t),Za=null,pl=0,t=Vt;for(;t!==null;)Pg(t.alternate,t),t=t.return;Vt=null}}function rs(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,g1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Jh(),te=t,Vt=r=Ei(t.current,null),jt=n,Qt=0,cn=null,tr=!1,ts=Vr(t,n),Fh=!1,es=Sn=Qh=aa=er=ue=0,en=Sl=null,Yh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-He(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Lo(),r}function op(t,n){Rt=null,q.H=iu,n===ll||n===Yo?(n=wm(),Qt=3):n===bm?(n=wm(),Qt=4):Qt=n===Rg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Vt===null&&(ue=1,ou(t,_n(n,t.current)))}function up(){var t=q.H;return q.H=iu,t===null?iu:t}function cp(){var t=q.A;return q.A=X_,t}function Wh(){ue=4,tr||(jt&4194048)!==jt&&An.current!==null||(ts=!0),(er&134217727)===0&&(aa&134217727)===0||te===null||rr(te,jt,Sn,!1)}function tf(t,n,r){var l=Ft;Ft|=2;var c=up(),f=cp();(te!==t||jt!==n)&&(gu=null,rs(t,n)),n=!1;var y=ue;t:do try{if(Qt!==0&&Vt!==null){var E=Vt,C=cn;switch(Qt){case 8:Jh(),y=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var z=Qt;if(Qt=0,cn=null,as(t,E,C,z),r&&ts){y=0;break t}break;default:z=Qt,Qt=0,cn=null,as(t,E,C,z)}}J_(),y=ue;break}catch(F){op(t,F)}while(!0);return n&&t.shellSuspendCounter++,Ai=Wr=null,Ft=l,q.H=c,q.A=f,Vt===null&&(te=null,jt=0,Lo()),y}function J_(){for(;Vt!==null;)hp(Vt)}function W_(t,n){var r=Ft;Ft|=2;var l=up(),c=cp();te!==t||jt!==n?(gu=null,mu=dn()+500,rs(t,n)):ts=Vr(t,n);t:do try{if(Qt!==0&&Vt!==null){n=Vt;var f=cn;e:switch(Qt){case 1:Qt=0,cn=null,as(t,n,f,1);break;case 2:case 9:if(Am(f)){Qt=0,cn=null,fp(n);break}n=function(){Qt!==2&&Qt!==9||te!==t||(Qt=7),Wn(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Am(f)?(Qt=0,cn=null,fp(n)):(Qt=0,cn=null,as(t,n,f,7));break;case 5:var y=null;switch(Vt.tag){case 26:y=Vt.memoizedState;case 5:case 27:var E=Vt;if(!y||Yp(y)){Qt=0,cn=null;var C=E.sibling;if(C!==null)Vt=C;else{var z=E.return;z!==null?(Vt=z,yu(z)):Vt=null}break e}}Qt=0,cn=null,as(t,n,f,5);break;case 6:Qt=0,cn=null,as(t,n,f,6);break;case 8:Jh(),ue=6;break t;default:throw Error(s(462))}}t1();break}catch(F){op(t,F)}while(!0);return Ai=Wr=null,q.H=l,q.A=c,Ft=r,Vt!==null?0:(te=null,jt=0,Lo(),ue)}function t1(){for(;Vt!==null&&!Ns();)hp(Vt)}function hp(t){var n=Lg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?yu(t):Vt=n}function fp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Ig(r,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=Ig(r,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:gh(n);default:Pg(r,n),n=Vt=dm(n,Vi),n=Lg(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?yu(t):Vt=n}function as(t,n,r,l){Ai=Wr=null,gh(n),Za=null,pl=0;var c=n.return;try{if(H_(t,c,n,r,jt)){ue=1,ou(t,_n(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;ue=1,ou(t,_n(r,t.current)),Vt=null;return}n.flags&32768?(Bt||l===1?t=!0:ts||(jt&536870912)!==0?t=!1:(tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),dp(n,t)):yu(n)}function yu(t){var n=t;do{if((n.flags&32768)!==0){dp(n,tr);return}t=n.return;var r=F_(n.alternate,n,Vi);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);ue===0&&(ue=5)}function dp(t,n){do{var r=Q_(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);ue=6,Vt=null}function mp(t,n,r,l,c,f,y,E,C){t.cancelPendingCommit=null;do vu();while(Le!==0);if((Ft&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Gc,Us(t,r,f,y,E,C),t===te&&(Vt=te=null,jt=0),ns=n,ir=t,is=r,Xh=f,Zh=c,rp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,r1(xr,function(){return _p(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=et.p,et.p=2,y=Ft,Ft|=4;try{Y_(t,n,r)}finally{Ft=y,et.p=c,q.T=l}}Le=1,gp(),pp(),yp()}}function gp(){if(Le===1){Le=0;var t=ir,n=ns,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var l=et.p;et.p=2;var c=Ft;Ft|=4;try{$g(n,t);var f=df,y=im(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&nm(E.ownerDocument.documentElement,E)){if(C!==null&&zc(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Z=E.ownerDocument||document,P=Z&&Z.defaultView||window;if(P.getSelection){var B=P.getSelection(),Et=E.textContent.length,pt=Math.min(C.start,Et),$t=C.end===void 0?pt:Math.min(C.end,Et);!B.extend&&pt>$t&&(y=$t,$t=pt,pt=y);var U=em(E,pt),I=em(E,$t);if(U&&I&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==I.node||B.focusOffset!==I.offset)){var L=Z.createRange();L.setStart(U.node,U.offset),B.removeAllRanges(),pt>$t?(B.addRange(L),B.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),B.addRange(L))}}}}for(Z=[],B=E;B=B.parentNode;)B.nodeType===1&&Z.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var Y=Z[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Nu=!!ff,df=ff=null}finally{Ft=c,et.p=l,q.T=r}}t.current=n,Le=2}}function pp(){if(Le===2){Le=0;var t=ir,n=ns,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var l=et.p;et.p=2;var c=Ft;Ft|=4;try{Yg(t,n.alternate,n)}finally{Ft=c,et.p=l,q.T=r}}Le=3}}function yp(){if(Le===4||Le===3){Le=0,fo();var t=ir,n=ns,r=is,l=rp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,ns=ir=null,vp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(nr=null),ba(r),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,c=et.p,et.p=2,q.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{q.T=n,et.p=c}}(is&3)!==0&&vu(),Wn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===$h?wl++:(wl=0,$h=t):wl=0,Rl(0)}}function vp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function vu(t){return gp(),pp(),yp(),_p()}function _p(){if(Le!==5)return!1;var t=ir,n=Xh;Xh=0;var r=ba(is),l=q.T,c=et.p;try{et.p=32>r?32:r,q.T=null,r=Zh,Zh=null;var f=ir,y=is;if(Le=0,ns=ir=null,is=0,(Ft&6)!==0)throw Error(s(331));var E=Ft;if(Ft|=4,np(f.current),Wg(f,f.current,y,r),Ft=E,Rl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(le,f)}catch{}return!0}finally{et.p=c,q.T=l,vp(t,n)}}function Ep(t,n,r){n=_n(r,n),n=Dh(t.stateNode,n,2),t=Yi(t,n,2),t!==null&&(ui(t,2),Wn(t))}function Jt(t,n,r){if(t.tag===3)Ep(t,t,r);else for(;n!==null;){if(n.tag===3){Ep(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){t=_n(r,t),r=Sg(2),l=Yi(n,r,2),l!==null&&(wg(r,l,n,t),ui(l,2),Wn(l));break}}n=n.return}}function ef(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new Z_;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Fh=!0,c.add(r),t=e1.bind(null,t,n,r),n.then(t,t))}function e1(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,te===t&&(jt&r)===r&&(ue===4||ue===3&&(jt&62914560)===jt&&300>dn()-Kh?(Ft&2)===0&&rs(t,0):Qh|=r,es===jt&&(es=0)),Wn(t)}function Tp(t,n){n===0&&(n=ks()),t=Pa(t,n),t!==null&&(ui(t,n),Wn(t))}function n1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Tp(t,r)}function i1(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Tp(t,r)}function r1(t,n){return wr(t,n)}var _u=null,ss=null,nf=!1,Eu=!1,rf=!1,sa=0;function Wn(t){t!==ss&&t.next===null&&(ss===null?_u=ss=t:ss=ss.next=t),Eu=!0,nf||(nf=!0,s1())}function Rl(t,n){if(!rf&&Eu){rf=!0;do for(var r=!1,l=_u;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,wp(l,f))}else f=jt,f=Ta(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Vr(l,f)||(r=!0,wp(l,f));l=l.next}while(r);rf=!1}}function a1(){bp()}function bp(){Eu=nf=!1;var t=0;sa!==0&&(m1()&&(t=sa),sa=0);for(var n=dn(),r=null,l=_u;l!==null;){var c=l.next,f=Ap(l,n);f===0?(l.next=null,r===null?_u=c:r.next=c,c===null&&(ss=r)):(r=l,(t!==0||(f&3)!==0)&&(Eu=!0)),l=c}Rl(t)}function Ap(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-He(f),E=1<<y,C=c[y];C===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Os(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=te,r=jt,r=Ta(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Rr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Vr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Rr(l),ba(r)){case 2:case 8:r=_a;break;case 32:r=xr;break;case 268435456:r=Ea;break;default:r=xr}return l=Sp.bind(null,t),r=wr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Rr(l),t.callbackPriority=2,t.callbackNode=null,2}function Sp(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(vu()&&t.callbackNode!==r)return null;var l=jt;return l=Ta(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sp(t,l,n),Ap(t,dn()),t.callbackNode!=null&&t.callbackNode===r?Sp.bind(null,t):null)}function wp(t,n){if(vu())return null;sp(t,n,!0)}function s1(){p1(function(){(Ft&6)!==0?wr(Vs,a1):bp()})}function af(){return sa===0&&(sa=Ms()),sa}function Rp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ca(""+t)}function xp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function l1(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Rp((c[me]||null).action),y=l.submitter;y&&(n=(n=y[me]||null)?Rp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Da("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sa!==0){var C=y?xp(c,y):new FormData(c);Sh(r,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=y?xp(c,y):new FormData(c),Sh(r,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var sf=0;sf<Hc.length;sf++){var lf=Hc[sf],o1=lf.toLowerCase(),u1=lf[0].toUpperCase()+lf.slice(1);In(o1,"on"+u1)}In(sm,"onAnimationEnd"),In(lm,"onAnimationIteration"),In(om,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(R_,"onTransitionRun"),In(x_,"onTransitionStart"),In(C_,"onTransitionCancel"),In(um,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function Cp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){lu(F)}c.currentTarget=null,f=C}else for(y=0;y<l.length;y++){if(E=l[y],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){lu(F)}c.currentTarget=null,f=C}}}}function It(t,n){var r=n[Ls];r===void 0&&(r=n[Ls]=new Set);var l=t+"__bubble";r.has(l)||(Dp(n,t,2,!1),r.add(l))}function of(t,n,r){var l=0;n&&(l|=4),Dp(r,t,l,n)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function uf(t){if(!t[Tu]){t[Tu]=!0,zs.forEach(function(r){r!=="selectionchange"&&(c1.has(r)||of(r,!1,t),of(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tu]||(n[Tu]=!0,of("selectionchange",!1,n))}}function Dp(t,n,r,l){switch(Wp(n)){case 2:var c=j1;break;case 8:c=L1;break;default:c=Af}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function cf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Ao(function(){var z=f,F=pn(r),Z=[];t:{var P=cm.get(t);if(P!==void 0){var B=Da,Et=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":B=ka;break;case"focusin":Et="focus",B=Ia;break;case"focusout":Et="blur",B=Ia;break;case"beforeblur":case"afterblur":B=Ia;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Vo;break;case sm:case lm:case om:B=Oa;break;case um:B=Oo;break;case"scroll":case"scrollend":B=So;break;case"wheel":B=Ua;break;case"copy":case"cut":case"paste":B=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=$s;break;case"toggle":case"beforetoggle":B=ko}var pt=(n&4)!==0,$t=!pt&&(t==="scroll"||t==="scrollend"),U=pt?P!==null?P+"Capture":null:P;pt=[];for(var I=z,L;I!==null;){var Y=I;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||U===null||(Y=zr(I,U),Y!=null&&pt.push(Cl(I,Y,L))),$t)break;I=I.return}0<pt.length&&(P=new B(P,Et,null,r,F),Z.push({event:P,listeners:pt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",P&&r!==mi&&(Et=r.relatedTarget||r.fromElement)&&(ci(Et)||Et[mn]))break t;if((B||P)&&(P=F.window===F?F:(P=F.ownerDocument)?P.defaultView||P.parentWindow:window,B?(Et=r.relatedTarget||r.toElement,B=z,Et=Et?ci(Et):null,Et!==null&&($t=h(Et),pt=Et.tag,Et!==$t||pt!==5&&pt!==27&&pt!==6)&&(Et=null)):(B=null,Et=z),B!==Et)){if(pt=vn,Y="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(pt=$s,Y="onPointerLeave",U="onPointerEnter",I="pointer"),$t=B==null?P:Pn(B),L=Et==null?P:Pn(Et),P=new pt(Y,I+"leave",B,r,F),P.target=$t,P.relatedTarget=L,Y=null,ci(F)===z&&(pt=new pt(U,I+"enter",Et,r,F),pt.target=L,pt.relatedTarget=$t,Y=pt),$t=Y,B&&Et)e:{for(pt=B,U=Et,I=0,L=pt;L;L=ls(L))I++;for(L=0,Y=U;Y;Y=ls(Y))L++;for(;0<I-L;)pt=ls(pt),I--;for(;0<L-I;)U=ls(U),L--;for(;I--;){if(pt===U||U!==null&&pt===U.alternate)break e;pt=ls(pt),U=ls(U)}pt=null}else pt=null;B!==null&&Np(Z,P,B,pt,!1),Et!==null&&$t!==null&&Np(Z,$t,Et,pt,!0)}}t:{if(P=z?Pn(z):window,B=P.nodeName&&P.nodeName.toLowerCase(),B==="select"||B==="input"&&P.type==="file")var ct=Xd;else if(Ae(P))if(Zd)ct=A_;else{ct=T_;var Dt=E_}else B=P.nodeName,!B||B.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&Gs(z.elementType)&&(ct=Xd):ct=b_;if(ct&&(ct=ct(t,z))){_i(Z,ct,r,F);break t}Dt&&Dt(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&qi(P,"number",P.value)}switch(Dt=z?Pn(z):window,t){case"focusin":(Ae(Dt)||Dt.contentEditable==="true")&&(ja=Dt,Pc=z,tl=null);break;case"focusout":tl=Pc=ja=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,rm(Z,r,F);break;case"selectionchange":if(w_)break;case"keydown":case"keyup":rm(Z,r,F)}var dt;if(Yn)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else kt?H(t,r)&&(vt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(vt="onCompositionStart");vt&&(p&&r.locale!=="ko"&&(kt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&kt&&(dt=Qs()):(Hn=F,Hi="value"in Hn?Hn.value:Hn.textContent,kt=!0)),Dt=bu(z,vt),0<Dt.length&&(vt=new Xs(vt,t,null,r,F),Z.push({event:vt,listeners:Dt}),dt?vt.data=dt:(dt=at(r),dt!==null&&(vt.data=dt)))),(dt=m?be(t,r):Ut(t,r))&&(vt=bu(z,"onBeforeInput"),0<vt.length&&(Dt=new Xs("onBeforeInput","beforeinput",null,r,F),Z.push({event:Dt,listeners:vt}),Dt.data=dt)),l1(Z,t,z,r,F)}Cp(Z,n)})}function Cl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function bu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zr(t,r),c!=null&&l.unshift(Cl(t,c,f)),c=zr(t,n),c!=null&&l.push(Cl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Np(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||z===null||(C=z,c?(z=zr(r,f),z!=null&&y.unshift(Cl(r,z,C))):c||(z=zr(r,f),z!=null&&y.push(Cl(r,z,C)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var h1=/\r\n?/g,f1=/\u0000|\uFFFD/g;function Vp(t){return(typeof t=="string"?t:""+t).replace(h1,`
`).replace(f1,"")}function Ip(t,n){return n=Vp(n),Vp(t)===n}function Au(){}function Zt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,l);break;case"style":Hs(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ca(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Zt(t,n,"name",c.name,c,null),Zt(t,n,"formEncType",c.formEncType,c,null),Zt(t,n,"formMethod",c.formMethod,c,null),Zt(t,n,"formTarget",c.formTarget,c,null)):(Zt(t,n,"encType",c.encType,c,null),Zt(t,n,"method",c.method,c,null),Zt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ca(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Au);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Bi(t,"popover",l);break;case"xlinkActuate":ke(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Oc.get(r)||r,Bi(t,r,l))}}function hf(t,n,r,l,c,f){switch(r){case"style":Hs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Au);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Bi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(t,n,f,y,r,null)}}c&&Zt(t,n,"srcSet",r.srcSet,r,null),l&&Zt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=y=c=null,C=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":c=F;break;case"type":y=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Zt(t,n,l,F,r,null)}}Ur(t,f,E,C,z,y,c,!1),xa(t);return;case"select":It("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Zt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?di(t,!!l,n,!1):r!=null&&di(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(t,n,y,E,r,null)}jr(t,l,c,f),xa(t);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(t,n,C,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)It(xl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(t,n,z,l,r,null)}return;default:if(Gs(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&hf(t,n,F,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Zt(t,n,E,l,r,null))}function d1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,C=null,z=null,F=null;for(B in r){var Z=r[B];if(r.hasOwnProperty(B)&&Z!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(B)||Zt(t,n,B,null,l,Z)}}for(var P in l){var B=l[P];if(Z=r[P],l.hasOwnProperty(P)&&(B!=null||Z!=null))switch(P){case"type":f=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":F=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Z&&Zt(t,n,P,B,l,Z)}}an(t,y,E,C,z,F,f,c);return;case"select":B=y=E=P=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":B=C;default:l.hasOwnProperty(f)||Zt(t,n,f,null,l,C)}for(c in l)if(f=l[c],C=r[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==C&&Zt(t,n,c,f,l,C)}n=E,r=y,l=B,P!=null?di(t,!!r,P,!1):!!l!=!!r&&(n!=null?di(t,!!r,n,!0):di(t,!!r,r?[]:"",!1));return;case"textarea":B=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Zt(t,n,y,c,l,f)}Kt(t,P,B);return;case"option":for(var Et in r)if(P=r[Et],r.hasOwnProperty(Et)&&P!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:Zt(t,n,Et,null,l,P)}for(C in l)if(P=l[C],B=r[C],l.hasOwnProperty(C)&&P!==B&&(P!=null||B!=null))switch(C){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Zt(t,n,C,P,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)P=r[pt],r.hasOwnProperty(pt)&&P!=null&&!l.hasOwnProperty(pt)&&Zt(t,n,pt,null,l,P);for(z in l)if(P=l[z],B=r[z],l.hasOwnProperty(z)&&P!==B&&(P!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Zt(t,n,z,P,l,B)}return;default:if(Gs(n)){for(var $t in r)P=r[$t],r.hasOwnProperty($t)&&P!==void 0&&!l.hasOwnProperty($t)&&hf(t,n,$t,void 0,l,P);for(F in l)P=l[F],B=r[F],!l.hasOwnProperty(F)||P===B||P===void 0&&B===void 0||hf(t,n,F,P,l,B);return}}for(var U in r)P=r[U],r.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&Zt(t,n,U,null,l,P);for(Z in l)P=l[Z],B=r[Z],!l.hasOwnProperty(Z)||P===B||P==null&&B==null||Zt(t,n,Z,P,l,B)}var ff=null,df=null;function Su(t){return t.nodeType===9?t:t.ownerDocument}function Op(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function mf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gf=null;function m1(){var t=window.event;return t&&t.type==="popstate"?t===gf?!1:(gf=t,!0):(gf=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,p1=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(t){return Up.resolve(null).then(t).catch(y1)}:kp;function y1(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function jp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Dl(y.documentElement),r&2&&Dl(y.body),r&4)for(r=y.head,Dl(r),y=r.firstChild;y;){var E=y.nextSibling,C=y.nodeName;y[Ir]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),jl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);jl(n)}function pf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":pf(r),Pi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function v1(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ir])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function _1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Mn(t.nextSibling),t===null))return null;return t}function yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function E1(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var vf=null;function Lp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function zp(t,n,r){switch(n=Su(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pi(t)}var wn=new Map,Pp=new Set;function wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ii=et.d;et.d={f:T1,r:b1,D:A1,C:S1,L:w1,m:R1,X:C1,S:x1,M:D1};function T1(){var t=Ii.f(),n=pu();return t||n}function b1(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?sg(n):Ii.r(t)}var os=typeof document>"u"?null:document;function Bp(t,n,r){var l=os;if(l&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Pp.has(c)||(Pp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),ce(n),l.head.appendChild(n)))}}function A1(t){Ii.D(t),Bp("dns-prefetch",t,null)}function S1(t,n){Ii.C(t,n),Bp("preconnect",t,n)}function w1(t,n,r){Ii.L(t,n,r);var l=os;if(l&&t&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ge(r.imageSizes)+'"]')):c+='[href="'+ge(t)+'"]';var f=c;switch(n){case"style":f=us(t);break;case"script":f=cs(t)}wn.has(f)||(t=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Nl(f))||n==="script"&&l.querySelector(Vl(f))||(n=l.createElement("link"),ze(n,"link",t),ce(n),l.head.appendChild(n)))}}function R1(t,n){Ii.m(t,n);var r=os;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cs(t)}if(!wn.has(f)&&(t=b({rel:"modulepreload",href:t},n),wn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Vl(f)))return}l=r.createElement("link"),ze(l,"link",t),ce(l),r.head.appendChild(l)}}}function x1(t,n,r){Ii.S(t,n,r);var l=os;if(l&&t){var c=Xe(l).hoistableStyles,f=us(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Nl(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wn.get(f))&&_f(t,r);var C=y=l.createElement("link");ce(C),ze(C,"link",t),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ru(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function C1(t,n){Ii.X(t,n);var r=os;if(r&&t){var l=Xe(r).hoistableScripts,c=cs(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=b({src:t,async:!0},n),(n=wn.get(c))&&Ef(t,n),f=r.createElement("script"),ce(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function D1(t,n){Ii.M(t,n);var r=os;if(r&&t){var l=Xe(r).hoistableScripts,c=cs(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&Ef(t,n),f=r.createElement("script"),ce(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function qp(t,n,r,l){var c=(c=Tt.current)?wu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=us(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=us(r.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Nl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(t,r),f||N1(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cs(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function us(t){return'href="'+ge(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function Hp(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function N1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),ce(n),t.head.appendChild(n))}function cs(t){return'[src="'+ge(t)+'"]'}function Vl(t){return"script[async]"+t}function Gp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(r.href)+'"]');if(l)return n.instance=l,ce(l),l;var c=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),ze(l,"style",c),Ru(l,r.precedence,t),n.instance=l;case"stylesheet":c=us(r.href);var f=t.querySelector(Nl(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=Hp(r),(c=wn.get(c))&&_f(l,c),f=(t.ownerDocument||t).createElement("link"),ce(f);var y=f;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),ze(f,"link",l),n.state.loading|=4,Ru(f,r.precedence,t),n.instance=f;case"script":return f=cs(r.src),(c=t.querySelector(Vl(f)))?(n.instance=c,ce(c),c):(l=r,(c=wn.get(f))&&(l=b({},r),Ef(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ce(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ru(l,r.precedence,t));return n.instance}function Ru(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xu=null;function Fp(t,n,r){if(xu===null){var l=new Map,c=xu=new Map;c.set(r,l)}else c=xu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Ir]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Qp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function V1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Yp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function I1(){}function O1(t,n,r){if(Il===null)throw Error(s(475));var l=Il;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=us(r.href),f=t.querySelector(Nl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,r=Hp(r),(c=wn.get(c))&&_f(r,c),f=f.createElement("link"),ce(f);var y=f;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Cu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function M1(){if(Il===null)throw Error(s(475));var t=Il;return t.stylesheets&&t.count===0&&Tf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Tf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)Tf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Du=null;function Tf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Du=new Map,n.forEach(k1,t),Du=null,Cu.call(t))}function k1(t,n){if(!(n.state.loading&4)){var r=Du.get(t);if(r)var l=r.get(null);else{r=new Map,Du.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Cu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function U1(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Kp(t,n,r,l,c,f,y,E,C,z,F,Z){return t=new U1(t,n,r,y,E,C,z,Z),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=eh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ah(f),t}function Xp(t){return t?(t=Ba,t):Ba}function Zp(t,n,r,l,c,f){c=Xp(c),l.context===null?l.context=c:l.pendingContext=c,l=Qi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Yi(t,l,n),r!==null&&(fn(r,t,n),ul(r,t,n))}function $p(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function bf(t,n){$p(t,n),(t=t.alternate)&&$p(t,n)}function Jp(t){if(t.tag===13){var n=Pa(t,67108864);n!==null&&fn(n,t,67108864),bf(t,67108864)}}var Nu=!0;function j1(t,n,r,l){var c=q.T;q.T=null;var f=et.p;try{et.p=2,Af(t,n,r,l)}finally{et.p=f,q.T=c}}function L1(t,n,r,l){var c=q.T;q.T=null;var f=et.p;try{et.p=8,Af(t,n,r,l)}finally{et.p=f,q.T=c}}function Af(t,n,r,l){if(Nu){var c=Sf(l);if(c===null)cf(t,n,l,Vu,r),ty(t,l);else if(P1(c,t,n,r,l))l.stopPropagation();else if(ty(t,l),n&4&&-1<z1.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Dn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-He(y);E.entanglements[1]|=C,y&=~C}Wn(f),(Ft&6)===0&&(mu=dn()+500,Rl(0))}}break;case 13:E=Pa(f,2),E!==null&&fn(E,f,2),pu(),bf(f,2)}if(f=Sf(l),f===null&&cf(t,n,l,Vu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else cf(t,n,l,null,r)}}function Sf(t){return t=pn(t),wf(t)}var Vu=null;function wf(t){if(Vu=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vu=t,null}function Wp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xc()){case Vs:return 2;case _a:return 8;case xr:case Cc:return 32;case Ea:return 268435456;default:return 32}default:return 32}}var Rf=!1,sr=null,lr=null,or=null,Ml=new Map,kl=new Map,ur=[],z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ty(t,n){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Ul(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&Jp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function P1(t,n,r,l,c){switch(n){case"focusin":return sr=Ul(sr,t,n,r,l,c),!0;case"dragenter":return lr=Ul(lr,t,n,r,l,c),!0;case"mouseover":return or=Ul(or,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,Ul(Ml.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,kl.set(f,Ul(kl.get(f)||null,t,n,r,l,c)),!0}return!1}function ey(t){var n=ci(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,po(t.priority,function(){if(r.tag===13){var l=hn();l=ji(l);var c=Pa(r,l);c!==null&&fn(c,r,l),bf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Sf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);mi=l,r.target.dispatchEvent(l),mi=null}else return n=zn(r),n!==null&&Jp(n),t.blockedOn=r,!1;n.shift()}return!0}function ny(t,n,r){Iu(t)&&r.delete(n)}function B1(){Rf=!1,sr!==null&&Iu(sr)&&(sr=null),lr!==null&&Iu(lr)&&(lr=null),or!==null&&Iu(or)&&(or=null),Ml.forEach(ny),kl.forEach(ny)}function Ou(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,B1)))}var Mu=null;function iy(t){Mu!==t&&(Mu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Mu===t&&(Mu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(wf(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,Sh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function jl(t){function n(C){return Ou(C,t)}sr!==null&&Ou(sr,t),lr!==null&&Ou(lr,t),or!==null&&Ou(or,t),Ml.forEach(n),kl.forEach(n);for(var r=0;r<ur.length;r++){var l=ur[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)ey(r),r.blockedOn===null&&ur.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[me]||null;if(typeof f=="function")y||iy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[me]||null)E=y.formAction;else if(wf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),iy(r)}}}function xf(t){this._internalRoot=t}ku.prototype.render=xf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=hn();Zp(r,l,t,n,null,null)},ku.prototype.unmount=xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Zp(t.current,2,null,t,null,null),pu(),n[mn]=null}};function ku(t){this._internalRoot=t}ku.prototype.unstable_scheduleHydration=function(t){if(t){var n=Li();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ur.length&&n!==0&&n<ur[r].priority;r++);ur.splice(r,0,t),r===0&&ey(t)}};var ry=e.version;if(ry!=="19.1.0")throw Error(s(527,ry,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var q1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{le=Uu.inject(q1),Gt=Uu}catch{}}return zl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=Eg,f=Tg,y=bg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Kp(t,1,!1,null,null,r,l,c,f,y,E,null),t[mn]=n.current,uf(t),new xf(n)},zl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=Eg,y=Tg,E=bg,C=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=Kp(t,1,!0,n,r??null,l,c,f,y,E,C,z),n.context=Xp(null),r=n.current,l=hn(),l=ji(l),c=Qi(l),c.callback=null,Yi(r,c,l),r=l,n.current.lanes=r,ui(n,r),Wn(n),t[mn]=n.current,uf(t),new ku(n)},zl.version="19.1.0",zl}var my;function W1(){if(my)return Nf.exports;my=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nf.exports=J1(),Nf.exports}var tE=W1();const eE=C0(tE),nE=()=>{};var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},iE=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},N0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,b=h>>2,w=(h&3)<<4|g>>4;let O=(g&15)<<2|_>>6,G=_&63;v||(G=64,d||(O=64)),s.push(i[b],i[w],i[O],i[G])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(D0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):iE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const w=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||_==null||w==null)throw new rE;const O=h<<2|g>>4;if(s.push(O),_!==64){const G=g<<4&240|_>>2;if(s.push(G),w!==64){const J=_<<6&192|w;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class rE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aE=function(a){const e=D0(a);return N0.encodeByteArray(e,!0)},Wu=function(a){return aE(a).replace(/\./g,"")},sE=function(a){try{return N0.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=()=>lE().__FIREBASE_DEFAULTS__,uE=()=>{if(typeof process>"u"||typeof gy>"u")return;const a=gy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},cE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&sE(a[1]);return e&&JSON.parse(e)},fd=()=>{try{return nE()||oE()||uE()||cE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},hE=a=>{var e,i;return(i=(e=fd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},fE=a=>{const e=hE(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},V0=()=>{var a;return(a=fd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Wu(JSON.stringify(i)),Wu(JSON.stringify(d)),""].join(".")}const Ql={};function pE(){const a={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?a.emulator.push(e):a.prod.push(e);return a}function yE(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let py=!1;function vE(a,e){if(typeof window>"u"||typeof document>"u"||!dd(window.location.host)||Ql[a]===e||Ql[a]||py)return;Ql[a]=e;function i(O){return`__firebase__banner__${O}`}const s="__firebase__banner",h=pE().prod.length>0;function d(){const O=document.getElementById(s);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{py=!0,d()},O}function b(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function w(){const O=yE(s),G=i("text"),J=document.getElementById(G)||document.createElement("span"),st=i("learnmore"),K=document.getElementById(st)||document.createElement("a"),rt=i("preprendIcon"),ut=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ft=O.element;g(ft),b(K,st);const St=_();v(ut,rt),ft.append(ut,J,K,St),document.body.appendChild(ft)}h?(J.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EE(){var a;const e=(a=fd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TE(){return!EE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bE(){try{return typeof indexedDB=="object"}catch{return!1}}function AE(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="FirebaseError";class Ss extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=SE,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I0.prototype.create)}}class I0{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?wE(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ss(o,g,s)}}function wE(a,e){return a.replace(RE,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const RE=/\{\$([^}]+)}/g;function tc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(yy(h)&&yy(d)){if(!tc(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function yy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(a){return a&&a._delegate?a._delegate:a}class $l{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new dE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DE(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CE(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CE(a){return a===la?void 0:a}function DE(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new xE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(zt||(zt={}));const VE={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},IE=zt.INFO,OE={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},ME=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=OE[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O0{constructor(e){this.name=e,this._logLevel=IE,this._logHandler=ME,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const kE=(a,e)=>e.some(i=>a instanceof i);let vy,_y;function UE(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jE(){return _y||(_y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M0=new WeakMap,Hf=new WeakMap,k0=new WeakMap,Mf=new WeakMap,md=new WeakMap;function LE(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(dr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&M0.set(i,a)}).catch(()=>{}),md.set(e,a),e}function zE(a){if(Hf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Hf.set(a,e)}let Gf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Hf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||k0.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return dr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function PE(a){Gf=a(Gf)}function BE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(kf(this),e,...i);return k0.set(s,e.sort?e.sort():[e]),dr(s)}:jE().includes(a)?function(...e){return a.apply(kf(this),e),dr(M0.get(this))}:function(...e){return dr(a.apply(kf(this),e))}}function qE(a){return typeof a=="function"?BE(a):(a instanceof IDBTransaction&&zE(a),kE(a,UE())?new Proxy(a,Gf):a)}function dr(a){if(a instanceof IDBRequest)return LE(a);if(Mf.has(a))return Mf.get(a);const e=qE(a);return e!==a&&(Mf.set(a,e),md.set(e,a)),e}const kf=a=>md.get(a);function HE(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=dr(d);return s&&d.addEventListener("upgradeneeded",v=>{s(dr(d.result),v.oldVersion,v.newVersion,dr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const GE=["get","getKey","getAll","getAllKeys","count"],FE=["put","add","delete","clear"],Uf=new Map;function Ey(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=FE.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GE.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return Uf.set(e,h),h}PE(a=>({...a,get:(e,i,s)=>Ey(e,i)||a.get(e,i,s),has:(e,i)=>!!Ey(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(YE(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function YE(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ff="@firebase/app",Ty="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new O0("@firebase/app"),KE="@firebase/app-compat",XE="@firebase/analytics-compat",ZE="@firebase/analytics",$E="@firebase/app-check-compat",JE="@firebase/app-check",WE="@firebase/auth",tT="@firebase/auth-compat",eT="@firebase/database",nT="@firebase/data-connect",iT="@firebase/database-compat",rT="@firebase/functions",aT="@firebase/functions-compat",sT="@firebase/installations",lT="@firebase/installations-compat",oT="@firebase/messaging",uT="@firebase/messaging-compat",cT="@firebase/performance",hT="@firebase/performance-compat",fT="@firebase/remote-config",dT="@firebase/remote-config-compat",mT="@firebase/storage",gT="@firebase/storage-compat",pT="@firebase/firestore",yT="@firebase/ai",vT="@firebase/firestore-compat",_T="firebase",ET="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="[DEFAULT]",TT={[Ff]:"fire-core",[KE]:"fire-core-compat",[ZE]:"fire-analytics",[XE]:"fire-analytics-compat",[JE]:"fire-app-check",[$E]:"fire-app-check-compat",[WE]:"fire-auth",[tT]:"fire-auth-compat",[eT]:"fire-rtdb",[nT]:"fire-data-connect",[iT]:"fire-rtdb-compat",[rT]:"fire-fn",[aT]:"fire-fn-compat",[sT]:"fire-iid",[lT]:"fire-iid-compat",[oT]:"fire-fcm",[uT]:"fire-fcm-compat",[cT]:"fire-perf",[hT]:"fire-perf-compat",[fT]:"fire-rc",[dT]:"fire-rc-compat",[mT]:"fire-gcs",[gT]:"fire-gcs-compat",[pT]:"fire-fst",[vT]:"fire-fst-compat",[yT]:"fire-vertex","fire-js":"fire-js",[_T]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Map,bT=new Map,Yf=new Map;function by(a,e){try{a.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function nc(a){const e=a.name;if(Yf.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,a);for(const i of ec.values())by(i,a);for(const i of bT.values())by(i,a);return!0}function AT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function ST(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new I0("app","Firebase",wT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=ET;function U0(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Qf,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw mr.create("bad-app-name",{appName:String(o)});if(i||(i=V0()),!i)throw mr.create("no-options");const h=ec.get(o);if(h){if(tc(i,h.options)&&tc(s,h.config))return h;throw mr.create("duplicate-app",{appName:o})}const d=new NE(o);for(const v of Yf.values())d.addComponent(v);const g=new RT(i,s,d);return ec.set(o,g),g}function CT(a=Qf){const e=ec.get(a);if(!e&&a===Qf&&V0())return U0();if(!e)throw mr.create("no-app",{appName:a});return e}function gs(a,e,i){var s;let o=(s=TT[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(g.join(" "));return}nc(new $l(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firebase-heartbeat-database",NT=1,Jl="firebase-heartbeat-store";let jf=null;function j0(){return jf||(jf=HE(DT,NT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Jl)}catch(i){console.warn(i)}}}}).catch(a=>{throw mr.create("idb-open",{originalErrorMessage:a.message})})),jf}async function VT(a){try{const i=(await j0()).transaction(Jl),s=await i.objectStore(Jl).get(L0(a));return await i.done,s}catch(e){if(e instanceof Ss)Oi.warn(e.message);else{const i=mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function Ay(a,e){try{const s=(await j0()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,L0(a)),await s.done}catch(i){if(i instanceof Ss)Oi.warn(i.message);else{const s=mr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(s.message)}}}function L0(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=1024,OT=30;class MT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new UT(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Sy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>OT){const d=jT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Oi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Sy(),{heartbeatsToSend:s,unsentEntries:o}=kT(this._heartbeatsCache.heartbeats),h=Wu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Oi.warn(i),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function kT(a,e=IT){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),wy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),wy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class UT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bE()?AE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await VT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function wy(a){return Wu(JSON.stringify({version:2,heartbeats:a})).length}function jT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(a){nc(new $l("platform-logger",e=>new QE(e),"PRIVATE")),nc(new $l("heartbeat",e=>new MT(e),"PRIVATE")),gs(Ff,Ty,a),gs(Ff,Ty,"esm2017"),gs("fire-js","")}LT("");var Ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gr,z0;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function R(){}R.prototype=A.prototype,M.D=A.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(N,V,k){for(var D=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)D[Yt-2]=arguments[Yt];return A.prototype[V].apply(N,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,A,R){R||(R=0);var N=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)N[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;16>V;++V)N[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=M.g[0],R=M.g[1],V=M.g[2];var k=M.g[3],D=A+(k^R&(V^k))+N[0]+3614090360&4294967295;A=R+(D<<7&4294967295|D>>>25),D=k+(V^A&(R^V))+N[1]+3905402710&4294967295,k=A+(D<<12&4294967295|D>>>20),D=V+(R^k&(A^R))+N[2]+606105819&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(A^V&(k^A))+N[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(k^R&(V^k))+N[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=k+(V^A&(R^V))+N[5]+1200080426&4294967295,k=A+(D<<12&4294967295|D>>>20),D=V+(R^k&(A^R))+N[6]+2821735955&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(A^V&(k^A))+N[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(k^R&(V^k))+N[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=k+(V^A&(R^V))+N[9]+2336552879&4294967295,k=A+(D<<12&4294967295|D>>>20),D=V+(R^k&(A^R))+N[10]+4294925233&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(A^V&(k^A))+N[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(k^R&(V^k))+N[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=k+(V^A&(R^V))+N[13]+4254626195&4294967295,k=A+(D<<12&4294967295|D>>>20),D=V+(R^k&(A^R))+N[14]+2792965006&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(A^V&(k^A))+N[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(V^k&(R^V))+N[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(A^R))+N[6]+3225465664&4294967295,k=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(k^A))+N[11]+643717713&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(V^k))+N[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^k&(R^V))+N[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(A^R))+N[10]+38016083&4294967295,k=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(k^A))+N[15]+3634488961&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(V^k))+N[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^k&(R^V))+N[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(A^R))+N[14]+3275163606&4294967295,k=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(k^A))+N[3]+4107603335&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(V^k))+N[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^k&(R^V))+N[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(A^R))+N[2]+4243563512&4294967295,k=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(k^A))+N[7]+1735328473&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(V^k))+N[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(R^V^k)+N[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^V)+N[8]+2272392833&4294967295,k=A+(D<<11&4294967295|D>>>21),D=V+(k^A^R)+N[11]+1839030562&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^A)+N[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^k)+N[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^V)+N[4]+1272893353&4294967295,k=A+(D<<11&4294967295|D>>>21),D=V+(k^A^R)+N[7]+4139469664&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^A)+N[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^k)+N[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^V)+N[0]+3936430074&4294967295,k=A+(D<<11&4294967295|D>>>21),D=V+(k^A^R)+N[3]+3572445317&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^A)+N[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^k)+N[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^V)+N[12]+3873151461&4294967295,k=A+(D<<11&4294967295|D>>>21),D=V+(k^A^R)+N[15]+530742520&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^A)+N[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(V^(R|~k))+N[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~V))+N[7]+1126891415&4294967295,k=A+(D<<10&4294967295|D>>>22),D=V+(A^(k|~R))+N[14]+2878612391&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~A))+N[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~k))+N[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~V))+N[3]+2399980690&4294967295,k=A+(D<<10&4294967295|D>>>22),D=V+(A^(k|~R))+N[10]+4293915773&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~A))+N[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~k))+N[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~V))+N[15]+4264355552&4294967295,k=A+(D<<10&4294967295|D>>>22),D=V+(A^(k|~R))+N[6]+2734768916&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~A))+N[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~k))+N[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~V))+N[11]+3174756917&4294967295,k=A+(D<<10&4294967295|D>>>22),D=V+(A^(k|~R))+N[2]+718787259&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~A))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+k&4294967295}s.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var R=A-this.blockSize,N=this.B,V=this.h,k=0;k<A;){if(V==0)for(;k<=R;)o(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<A;)if(N[V++]=M.charCodeAt(k++),V==this.blockSize){o(this,N),V=0;break}}else for(;k<A;)if(N[V++]=M[k++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=A},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var R=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=R&255,R/=256;for(this.u(M),M=Array(16),A=R=0;4>A;++A)for(var N=0;32>N;N+=8)M[R++]=this.g[A]>>>N&255;return M};function h(M,A){var R=g;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=A(M)}function d(M,A){this.h=A;for(var R=[],N=!0,V=M.length-1;0<=V;V--){var k=M[V]|0;N&&k==A||(R[V]=k,N=!1)}this.g=R}var g={};function v(M){return-128<=M&&128>M?h(M,function(A){return new d([A|0],0>A?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return K(_(-M));for(var A=[],R=1,N=0;M>=R;N++)A[N]=M/R|0,R*=4294967296;return new d(A,0)}function b(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return K(b(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(A,8)),N=w,V=0;V<M.length;V+=8){var k=Math.min(8,M.length-V),D=parseInt(M.substring(V,V+k),A);8>k?(k=_(Math.pow(A,k)),N=N.j(k).add(_(D))):(N=N.j(R),N=N.add(_(D)))}return N}var w=v(0),O=v(1),G=v(16777216);a=d.prototype,a.m=function(){if(st(this))return-K(this).m();for(var M=0,A=1,R=0;R<this.g.length;R++){var N=this.i(R);M+=(0<=N?N:4294967296+N)*A,A*=4294967296}return M},a.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(J(this))return"0";if(st(this))return"-"+K(this).toString(M);for(var A=_(Math.pow(M,6)),R=this,N="";;){var V=St(R,A).g;R=rt(R,V.j(A));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=V,J(R))return k+N;for(;6>k.length;)k="0"+k;N=k+N}},a.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function J(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function st(M){return M.h==-1}a.l=function(M){return M=rt(this,M),st(M)?-1:J(M)?0:1};function K(M){for(var A=M.g.length,R=[],N=0;N<A;N++)R[N]=~M.g[N];return new d(R,~M.h).add(O)}a.abs=function(){return st(this)?K(this):this},a.add=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],N=0,V=0;V<=A;V++){var k=N+(this.i(V)&65535)+(M.i(V)&65535),D=(k>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);N=D>>>16,k&=65535,D&=65535,R[V]=D<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function rt(M,A){return M.add(K(A))}a.j=function(M){if(J(this)||J(M))return w;if(st(this))return st(M)?K(this).j(K(M)):K(K(this).j(M));if(st(M))return K(this.j(K(M)));if(0>this.l(G)&&0>M.l(G))return _(this.m()*M.m());for(var A=this.g.length+M.g.length,R=[],N=0;N<2*A;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<M.g.length;V++){var k=this.i(N)>>>16,D=this.i(N)&65535,Yt=M.i(V)>>>16,W=M.i(V)&65535;R[2*N+2*V]+=D*W,ut(R,2*N+2*V),R[2*N+2*V+1]+=k*W,ut(R,2*N+2*V+1),R[2*N+2*V+1]+=D*Yt,ut(R,2*N+2*V+1),R[2*N+2*V+2]+=k*Yt,ut(R,2*N+2*V+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new d(R,0)};function ut(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function ft(M,A){this.g=M,this.h=A}function St(M,A){if(J(A))throw Error("division by zero");if(J(M))return new ft(w,w);if(st(M))return A=St(K(M),A),new ft(K(A.g),K(A.h));if(st(A))return A=St(M,K(A)),new ft(K(A.g),A.h);if(30<M.g.length){if(st(M)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var R=O,N=A;0>=N.l(M);)R=yt(R),N=yt(N);var V=Nt(R,1),k=Nt(N,1);for(N=Nt(N,2),R=Nt(R,2);!J(N);){var D=k.add(N);0>=D.l(M)&&(V=V.add(R),k=D),N=Nt(N,1),R=Nt(R,1)}return A=rt(M,V.j(A)),new ft(V,A)}for(V=w;0<=M.l(A);){for(R=Math.max(1,Math.floor(M.m()/A.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),k=_(R),D=k.j(A);st(D)||0<D.l(M);)R-=N,k=_(R),D=k.j(A);J(k)&&(k=O),V=V.add(k),M=rt(M,D)}return new ft(V,M)}a.A=function(M){return St(this,M).h},a.and=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)&M.i(N);return new d(R,this.h&M.h)},a.or=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)|M.i(N);return new d(R,this.h|M.h)},a.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)^M.i(N);return new d(R,this.h^M.h)};function yt(M){for(var A=M.g.length+1,R=[],N=0;N<A;N++)R[N]=M.i(N)<<1|M.i(N-1)>>>31;return new d(R,M.h)}function Nt(M,A){var R=A>>5;A%=32;for(var N=M.g.length-R,V=[],k=0;k<N;k++)V[k]=0<A?M.i(k+R)>>>A|M.i(k+R+1)<<32-A:M.i(k+R);return new d(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,z0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,gr=d}).apply(typeof Ry<"u"?Ry:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P0,Pl,B0,Yu,Kf,q0,H0,G0;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in p))break t;p=p[j]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,j={next:function(){if(!T&&p<u.length){var H=p++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,p){return u.call.apply(u.bind,arguments)}function w(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,T),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function O(u,m,p){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:w,O.apply(null,arguments)}function G(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,j,H){for(var at=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)at[kt-2]=arguments[kt];return m.prototype[j].apply(T,at)}}function st(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function K(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const j=u.length||0,H=T.length||0;u.length=j+H;for(let at=0;at<H;at++)u[j+at]=T[at]}else u.push(T)}}class rt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ut(u){return/^[\s\xa0]*$/.test(u)}function ft(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function St(u){return St[" "](u),u}St[" "]=function(){};var yt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Nt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function M(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function A(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let p,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(p in T)u[p]=T[p];for(let H=0;H<R.length;H++)p=R[H],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function V(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function k(u){g.setTimeout(()=>{throw u},0)}function D(){var u=it;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Yt{constructor(){this.h=this.g=null}add(m,p){const T=W.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var W=new rt(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ht=!1,it=new Yt,S=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(Q)}};var Q=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(p){k(p)}var m=W;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Ct(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(yt){t:{try{St(m.nodeName);var j=!0;break t}catch{}j=!1}j||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}J(Ct,tt);var Tt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function jn(u,m,p,T,j){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=j,this.key=++Wt,this.da=this.fa=!1}function Ui(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function li(u){this.src=u,this.g={},this.h=0}li.prototype.add=function(u,m,p,T,j){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var at=wr(u,m,T,j);return-1<at?(m=u[at],p||(m.fa=!1)):(m=new jn(m,this.src,H,!!T,j),m.fa=p,u.push(m)),m};function Sr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],j=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=j)&&Array.prototype.splice.call(T,j,1),H&&(Ui(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function wr(u,m,p,T){for(var j=0;j<u.length;++j){var H=u[j];if(!H.da&&H.listener==m&&H.capture==!!p&&H.ha==T)return j}return-1}var Rr="closure_lm_"+(1e6*Math.random()|0),Ns={};function fo(u,m,p,T,j){if(Array.isArray(m)){for(var H=0;H<m.length;H++)fo(u,m[H],p,T,j);return null}return p=mo(p),u&&u[Ce]?u.K(m,p,_(T)?!!T.capture:!1,j):dn(u,m,p,!1,T,j)}function dn(u,m,p,T,j,H){if(!m)throw Error("Invalid event type");var at=_(j)?!!j.capture:!!j,kt=Ea(u);if(kt||(u[Rr]=kt=new li(u)),p=kt.add(m,p,T,at,H),p.proxy)return p;if(T=xc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)gt||(j=at),j===void 0&&(j=!1),u.addEventListener(m.toString(),T,j);else if(u.attachEvent)u.attachEvent(xr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function xc(){function u(p){return m.call(u.src,u.listener,p)}const m=Cc;return u}function Vs(u,m,p,T,j){if(Array.isArray(m))for(var H=0;H<m.length;H++)Vs(u,m[H],p,T,j);else T=_(T)?!!T.capture:!!T,p=mo(p),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],p=wr(H,p,T,j),-1<p&&(Ui(H[p]),Array.prototype.splice.call(H,p,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ea(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wr(m,p,T,j)),(p=-1<u?m[u]:null)&&_a(p))}function _a(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Sr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(xr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ea(m))?(Sr(p,u),p.h==0&&(p.src=null,m[Rr]=null)):Ui(u)}}}function xr(u){return u in Ns?Ns[u]:Ns[u]="on"+u}function Cc(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&_a(u),u=p.call(T,m)}return u}function Ea(u){return u=u[Rr],u instanceof li?u:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function mo(u){return typeof u=="function"?u:(u[Is]||(u[Is]=function(m){return u.handleEvent(m)}),u[Is])}function le(){nt.call(this),this.i=new li(this),this.M=this,this.F=null}J(le,nt),le.prototype[Ce]=!0,le.prototype.removeEventListener=function(u,m,p,T){Vs(this,u,m,p,T)};function Gt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var j=m;m=new tt(T,u),N(m,j)}if(j=!0,p)for(var H=p.length-1;0<=H;H--){var at=m.g=p[H];j=rn(at,T,!0,m)&&j}if(at=m.g=u,j=rn(at,T,!0,m)&&j,j=rn(at,T,!1,m)&&j,p)for(H=0;H<p.length;H++)at=m.g=p[H],j=rn(at,T,!1,m)&&j}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ui(p[T]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},le.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function rn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,H=0;H<m.length;++H){var at=m[H];if(at&&!at.da&&at.capture==p){var kt=at.listener,be=at.ha||at.src;at.fa&&Sr(u.i,at),j=kt.call(be,T)!==!1&&j}}return j&&!T.defaultPrevented}function He(u,m,p){if(typeof u=="function")p&&(u=O(u,p));else if(u&&typeof u.handleEvent=="function")u=O(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function go(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,go(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Dc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:go(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(u){nt.call(this),this.h=u,this.g={}}J(Cr,nt);var Dr=[];function Nr(u){Nt(u.g,function(m,p){this.g.hasOwnProperty(p)&&_a(m)},u),u.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),Nr(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,Ta=g.JSON.parse,Vr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Os(){}Os.prototype.h=null;function Ms(u){return u.h||(u.h=u.i())}function ks(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){tt.call(this,"d")}J(ui,tt);function Us(){tt.call(this,"c")}J(Us,tt);var Ln={},js=null;function ji(){return js=js||new le}Ln.La="serverreachability";function ba(u){tt.call(this,Ln.La,u)}J(ba,tt);function Li(u){const m=ji();Gt(m,new ba(m))}Ln.STAT_EVENT="statevent";function po(u,m){tt.call(this,Ln.STAT_EVENT,u),this.stat=m}J(po,tt);function ie(u){const m=ji();Gt(m,new po(m,u))}Ln.Ma="timingevent";function Te(u,m){tt.call(this,Ln.Ma,u),this.size=m}J(Te,tt);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Ls(u,m,p,T,j,H){u.info(function(){if(u.g)if(H)for(var at="",kt=H.split("&"),be=0;be<kt.length;be++){var Ut=kt[be].split("=");if(1<Ut.length){var Ne=Ut[0];Ut=Ut[1];var Ae=Ne.split("_");at=2<=Ae.length&&Ae[1]=="type"?at+(Ne+"="+Ut+"&"):at+(Ne+"=redacted&")}}else at=null;else at=H;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+p+`
`+at})}function Nc(u,m,p,T,j,H,at){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+p+`
`+H+" "+at})}function zi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ir(u,p)+(T?" "+T:"")})}function yo(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Ir(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var j=T[1];if(Array.isArray(j)&&!(1>j.length)){var H=j[0];if(H!="noop"&&H!="stop"&&H!="close")for(var at=1;at<j.length;at++)j[at]=""}}}}return Dn(p)}catch{return m}}var Pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Pn(){}J(Pn,Os),Pn.prototype.g=function(){return new XMLHttpRequest},Pn.prototype.i=function(){return{}},zn=new Pn;function Xe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var zs={},Aa={};function Nn(u,m,p){u.L=1,u.v=jr(an(m)),u.m=p,u.P=!0,hi(u,null)}function hi(u,m){u.F=Date.now(),Or(u),u.A=an(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Fs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ce,u.g=Oo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Dc(O(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Dr[0]=j.toString()),j=Dr);for(var H=0;H<j.length;H++){var at=fo(p,j[H],T||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Li(),Ls(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=vn(this.g);var m=this.g.Ba();const _i=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||wo(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=_i?Li(3):Li(2)),Bi(this);var p=this.g.Z();this.X=p;e:if(vo(this)){var T=wo(this.g);u="";var j=T.length,H=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),Bn(this);var at="";break e}this.h.i=new g.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==j-1)});T.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=p==200,Nc(this.i,this.u,this.A,this.l,this.R,Ae,p),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,be=this.g;if((kt=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(kt)){var Ut=kt;break e}}Ut=null}if(p=Ut)zi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,p);else{this.o=!1,this.s=3,ie(12),ke(this),Bn(this);break t}}if(this.P){p=!0;let Ue;for(;!this.J&&this.C<at.length;)if(Ue=_o(this,at),Ue==Aa){Ae==4&&(this.s=4,ie(14),p=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==zs){this.s=4,ie(15),zi(this.i,this.l,at,"[Invalid Chunk]"),p=!1;break}else zi(this.i,this.l,Ue,null),Mr(this,Ue);if(vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||at.length!=0||this.h.h||(this.s=1,ie(16),p=!1),this.o=this.o&&p,!p)zi(this.i,this.l,at,"[Invalid Chunked Response]"),ke(this),Bn(this);else if(0<at.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Fr(Ne),Ne.M=!0,ie(11))}}else zi(this.i,this.l,at,null),Mr(this,at);Ae==4&&ke(this),this.o&&!this.J&&(Ae==4?No(this.j,this):(this.o=!1,Or(this)))}else kc(this.g),p==400&&0<at.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),ke(this),Bn(this)}}}catch{}finally{}};function vo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function _o(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Aa:(p=Number(m.substring(p,T)),isNaN(p)?zs:(T+=1,T+p>m.length?Aa:(m=m.slice(T,T+p),u.C=T+p,m)))}Xe.prototype.cancel=function(){this.J=!0,ke(this)};function Or(u){u.S=Date.now()+u.I,Eo(u,u.I)}function Eo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(O(u.ba,u),m)}function Bi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(yo(this.i,this.A),this.L!=2&&(Li(),ie(17)),ke(this),this.s=2,Bn(this)):Eo(this,this.S-u)};function Bn(u){u.j.G==0||u.J||No(u.j,u)}function ke(u){Bi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Nr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Mr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Ps(p.h,u))){if(!u.K&&Ps(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)ka(p),Oa(p);else break t;Zs(p),ie(18)}}else p.za=j[1],0<p.za-p.T&&37500>j[2]&&p.F&&p.v==0&&!p.C&&(p.C=me(O(p.Za,p),6e3));if(1>=wa(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else vi(p,11)}else if((u.K||p.g==u)&&ka(p),!ut(m))for(j=p.Da.g.parse(m),m=0;m<j.length;m++){let Ut=j[m];if(p.T=Ut[0],Ut=Ut[1],p.G==2)if(Ut[0]=="c"){p.K=Ut[1],p.ia=Ut[2];const Ne=Ut[3];Ne!=null&&(p.la=Ne,p.j.info("VER="+p.la));const Ae=Ut[4];Ae!=null&&(p.Aa=Ae,p.j.info("SVER="+p.Aa));const _i=Ut[5];_i!=null&&typeof _i=="number"&&0<_i&&(T=1.5*_i,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ue=u.g;if(Ue){const Kn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var H=T.h;H.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ra(H,H.h),H.h=null))}if(T.D){const Js=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(T.ya=Js,Kt(T.I,T.D,Js))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var at=u;if(T.qa=Io(T,T.J?T.ia:null,T.W),at.K){Ze(T.h,at);var kt=at,be=T.L;be&&(kt.I=be),kt.B&&(Bi(kt),Or(kt)),T.g=at}else Co(T);0<p.i.length&&Ma(p)}else Ut[0]!="stop"&&Ut[0]!="close"||vi(p,7);else p.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?vi(p,7):Ks(p):Ut[0]!="noop"&&p.l&&p.l.ta(Ut),p.v=0)}}Li(4)}catch{}}var To=class{constructor(u,m){this.g=u,this.map=m}};function fi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wa(u){return u.h?1:u.g?u.g.size:0}function Ps(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ra(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fi.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return st(u.i)}function Vc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function xa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function qs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=xa(u),T=Vc(u),j=T.length,H=0;H<j;H++)m.call(void 0,T[H],p&&p[H],u)}var kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ic(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),j=null;if(0<=T){var H=u[p].substring(0,T);j=u[p].substring(T+1)}else H=u[p];m(H,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,Ur(this,u.j),this.o=u.o,this.g=u.g,qi(this,u.s),this.l=u.l;var m=u.i,p=new mi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),di(this,p),this.m=u.m}else u&&(m=String(u).match(kr))?(this.h=!1,Ur(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),qi(this,m[4]),this.l=gn(m[5]||"",!0),di(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Lr(m,Hs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Lr(m,Hs,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Lr(p,p.charAt(0)=="/"?Oc:Gs,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Lr(p,Ca)),u.join("")};function an(u){return new ge(u)}function Ur(u,m,p){u.j=p?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function di(u,m,p){m instanceof mi?(u.i=m,Ao(u.i,u.h)):(p||(m=Lr(m,Mc)),u.i=new mi(m,u.h))}function Kt(u,m,p){u.i.set(m,p)}function jr(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,bo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,Gs=/[#\?:]/g,Oc=/[#\?]/g,Mc=/[#\?@]/g,Ca=/#/g;function mi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ic(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=mi.prototype,a.add=function(u,m){pn(this),this.i=null,u=qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function gi(u,m){pn(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return pn(u),m=qn(u,m),u.g.has(m)}a.forEach=function(u,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(j){u.call(m,j,T,this)},this)},this)},a.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const j=u[T];for(let H=0;H<j.length;H++)p.push(m[T])}return p},a.V=function(u){pn(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return pn(this),this.i=null,u=qn(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Fs(u,m,p){gi(u,m),0<p.length&&(u.i=null,u.g.set(qn(u,m),st(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const H=encodeURIComponent(String(T)),at=this.V(T);for(T=0;T<at.length;T++){var j=H;at[T]!==""&&(j+="="+encodeURIComponent(String(at[T]))),u.push(j)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ao(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(p,T){var j=T.toLowerCase();T!=j&&(gi(this,T),Fs(this,j,p))},u)),u.j=m}function zr(u,m){const p=new mn;if(g.Image){const T=new Image;T.onload=G(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=G(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=G(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vn(u,m){const p=new mn,T=new AbortController,j=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(j),H.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),yn(p,"TestPingServer: error",!1,m)})}function yn(u,m,p,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(p)}catch{}}function Pr(){this.g=new Vr}function Hn(u,m,p){const T=p||"";try{qs(u,function(j,H){let at=j;_(j)&&(at=Dn(j)),m.push(T+H+"="+encodeURIComponent(at))})}catch(j){throw m.push(T+"type="+encodeURIComponent("_badmap")),j}}function Hi(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Hi,Os),Hi.prototype.g=function(){return new yi(this.l,this.j)},Hi.prototype.i=function(u){return function(){return u}}({});function yi(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(yi,le),a=yi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Fn(this),this.readyState==3&&Qs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},a.Qa=function(u){this.g&&(this.response=u,Gn(this))},a.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ys(u){let m="";return Nt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ys(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Kt(u,m,p))}function qt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(qt,le);var Da=/^https?$/i,Br=["POST","PUT"];a=qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Ms(this.o):Ms(zn),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){So(this,H);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)p.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())p.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(H=>H.toLowerCase()=="content-type"),j=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Br,m,void 0))||T||j||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,at]of p)this.g.setRequestHeader(H,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qr(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){So(this,H)}};function So(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Na(u),Qn(u)}function Na(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Gt(this,"complete"),Gt(this,"abort"),Qn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},a.bb=function(){Va(this)};function Va(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)He(u.Ea,0,u);else if(Gt(u,"readystatechange"),vn(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=at===0){var j=String(u.D).match(kr)[1]||null;!j&&g.self&&g.self.location&&(j=g.self.location.protocol.slice(0,-1)),T=!Da.test(j?j.toLowerCase():"")}p=T}if(p)Gt(u,"complete"),Gt(u,"success");else{u.m=6;try{var H=2<vn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Na(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){qr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Gt(u,"ready");try{p.onreadystatechange=T}catch{}}}function qr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ta(m)}};function wo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function kc(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ut(u[T]))continue;var p=V(u[T]);const j=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const H=m[j]||[];m[j]=H,H.push(p)}M(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ia(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,u),this.cb=Hr("retryDelaySeedMs",1e4,u),this.Wa=Hr("forwardChannelMaxRetries",2,u),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(u&&u.concurrentRequestLimit),this.Da=new Pr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ia.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){ie(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Io(this,null,this.W),Ma(this)};function Ks(u){if(Ro(u),u.G==3){var m=u.U++,p=an(u.I);if(Kt(p,"SID",u.K),Kt(p,"RID",m),Kt(p,"TYPE","terminate"),Gr(u,p),m=new Xe(u,u.j,m),m.L=2,m.v=jr(an(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Oo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Or(m)}Vo(u)}function Oa(u){u.g&&(Fr(u),u.g.cancel(),u.g=null)}function Ro(u){Oa(u),u.u&&(g.clearTimeout(u.u),u.u=null),ka(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ma(u){if(!Sa(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||S(),ht||(et(),ht=!0),it.add(m,u),u.B=0}}function Uc(u,m){return wa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(O(u.Ga,u,m),$s(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Xe(this,this.j,u);let H=this.o;if(this.S&&(H?(H=A(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(j.H=H,H=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=xo(this,j,m),p=an(this.I),Kt(p,"RID",u),Kt(p,"CVER",22),this.D&&Kt(p,"X-HTTP-Session-Id",this.D),Gr(this,p),H&&(this.O?m="headers="+encodeURIComponent(String(Ys(H)))+"&"+m:this.m&&De(p,this.m,H)),Ra(this.h,j),this.Ua&&Kt(p,"TYPE","init"),this.P?(Kt(p,"$req",m),Kt(p,"SID","null"),j.T=!0,Nn(j,p,null)):Nn(j,p,m),this.G=2}}else this.G==3&&(u?Xs(this,u):this.i.length==0||Sa(this.h)||Xs(this))};function Xs(u,m){var p;m?p=m.l:p=u.U++;const T=an(u.I);Kt(T,"SID",u.K),Kt(T,"RID",p),Kt(T,"AID",u.T),Gr(u,T),u.m&&u.o&&De(T,u.m,u.o),p=new Xe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=xo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ra(u.h,p),Nn(p,T,m)}function Gr(u,m){u.H&&Nt(u.H,function(p,T){Kt(m,T,p)}),u.l&&qs({},function(p,T){Kt(m,T,p)})}function xo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?O(u.l.Na,u.l,u):null;t:{var j=u.i;let H=-1;for(;;){const at=["count="+p];H==-1?0<p?(H=j[0].g,at.push("ofs="+H)):H=0:at.push("ofs="+H);let kt=!0;for(let be=0;be<p;be++){let Ut=j[be].g;const Ne=j[be].map;if(Ut-=H,0>Ut)H=Math.max(0,j[be].g-100),kt=!1;else try{Hn(Ne,at,"req"+Ut+"_")}catch{T&&T(Ne)}}if(kt){T=at.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Co(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||S(),ht||(et(),ht=!0),it.add(m,u),u.v=0}}function Zs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(O(u.Fa,u),$s(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Do(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(O(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),Oa(this),Do(this))};function Fr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Do(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Kt(m,"RID","rpc"),Kt(m,"SID",u.K),Kt(m,"AID",u.T),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(m,"TO",u.ja),Kt(m,"TYPE","xmlhttp"),Gr(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=jr(an(m)),p.m=null,p.P=!0,hi(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Oa(this),Zs(this),ie(19))};function ka(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function No(u,m){var p=null;if(u.g==m){ka(u),Fr(u),u.g=null;var T=2}else if(Ps(u.h,m))p=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;T=ji(),Gt(T,new Te(T,p)),Ma(u)}else Co(u);else if(j=m.s,j==3||j==0&&0<m.X||!(T==1&&Uc(u,m)||T==2&&Zs(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),j){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function $s(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var p=O(u.fb,u),T=u.Xa;const j=!T;T=new ge(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ur(T,"https"),jr(T),j?zr(T.toString(),p):Vn(T.toString(),p)}else ie(2);u.G=0,u.l&&u.l.sa(m),Vo(u),Ro(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Vo(u){if(u.G=0,u.ka=[],u.l){const m=Bs(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ka,m),K(u.ka,u.i),u.h.i.length=0,st(u.i),u.i.length=0),u.l.ra()}}function Io(u,m,p){var T=p instanceof ge?an(p):new ge(p);if(T.g!="")m&&(T.g=m+"."+T.g),qi(T,T.s);else{var j=g.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var H=new ge(null);T&&Ur(H,T),m&&(H.g=m),j&&qi(H,j),p&&(H.l=p),T=H}return p=u.D,m=u.ya,p&&m&&Kt(T,p,m),Kt(T,"VER",u.la),Gr(u,T),T}function Oo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Hi({eb:p})):new qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mo(){}a=Mo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ua(){}Ua.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){le.call(this),this.g=new Ia(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ut(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ut(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}J($e,le),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ks(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Dn(u),u=p);m.i.push(new To(m.Ya++,u)),m.G==3&&Ma(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,$e.aa.N.call(this)};function ko(u){ui.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(ko,ui);function Uo(){Us.call(this),this.status=1}J(Uo,Us);function Yn(u){this.g=u}J(Yn,Mo),Yn.prototype.ua=function(){Gt(this.g,"a")},Yn.prototype.ta=function(u){Gt(this.g,new ko(u))},Yn.prototype.sa=function(u){Gt(this.g,new Uo)},Yn.prototype.ra=function(){Gt(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,G0=function(){return new Ua},H0=function(){return ji()},q0=Ln,Kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,Yu=Pi,ci.COMPLETE="complete",B0=ci,ks.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",le.prototype.listen=le.prototype.K,Pl=ks,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,P0=qt}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const xy="@firebase/firestore",Cy="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ws="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new O0("@firebase/firestore");function hs(){return fa.logLevel}function lt(a,...e){if(fa.logLevel<=zt.DEBUG){const i=e.map(gd);fa.debug(`Firestore (${ws}): ${a}`,...i)}}function Mi(a,...e){if(fa.logLevel<=zt.ERROR){const i=e.map(gd);fa.error(`Firestore (${ws}): ${a}`,...i)}}function yr(a,...e){if(fa.logLevel<=zt.WARN){const i=e.map(gd);fa.warn(`Firestore (${ws}): ${a}`,...i)}}function gd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,F0(a,s,i)}function F0(a,e,i){let s=`FIRESTORE (${ws}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Mi(s),new Error(s)}function Ht(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||F0(e,o,s)}function At(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class PT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class BT{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ua,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},g=v=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ua)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new Q0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class qT{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HT{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new qT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ST(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const s=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Dy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=FT(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function xt(a,e){return a<e?-1:a>e?1:0}function Xf(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return xt(s,o);{const h=Y0(),d=QT(h.encode(Ny(a,i)),h.encode(Ny(e,i)));return d!==0?d:xt(s,o)}}i+=s>65535?2:1}return xt(a.length,e.length)}function Ny(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function QT(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return xt(a[i],e[i]);return xt(a.length,e.length)}function _s(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&_t(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return xt(e.length,i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),o=ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):Xf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class ee extends ti{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const YT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ti{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return YT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vy}static keyField(){return new Be([Vy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(ee.fromString(e))}static fromName(e){return new mt(ee.fromString(e).popFirst(5))}static empty(){return new mt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(a,e,i){if(!i)throw new ot(X.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function KT(a,e,i,s){if(e===!0&&s===!0)throw new ot(X.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Iy(a){if(!mt.isDocumentKey(a))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Oy(a){if(mt.isDocumentKey(a))throw new ot(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function X0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function mc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":_t(12329,{type:typeof a})}function ps(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mc(a);throw new ot(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(a,e){const i={typeString:a};return e&&(i.value=e),i}function lo(a,e){if(!X0(a))throw new ot(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new ot(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-62135596800,ky=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*ky);return new ne(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<My)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ky}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lo(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-My;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ee("string",ne._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new ne(0,0))}static max(){return new bt(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function XT(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new vr(o,mt.empty(),e)}function ZT(a){return new vr(a.readTime,a.key,Wl)}class vr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new vr(bt.min(),mt.empty(),Wl)}static max(){return new vr(bt.max(),mt.empty(),Wl)}}function $T(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(a.documentKey,e.documentKey),i!==0?i:xt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(a){if(a.code!==X.FAILED_PRECONDITION||a.message!==JT)throw a;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):$.reject(i)}static resolve(e){return new $((i,s)=>{i(e)})}static reject(e){return new $((i,s)=>{s(e)})}static waitFor(e){return new $((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},v=>s(v))}),d=!0,h===o&&i()})}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next(o=>o?$.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new $((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(b=>{d[_]=b,++g,g===h&&s(d)},b=>o(b))}})}static doWhile(e,i){return new $((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function tb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xs(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}gc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=-1;function pc(a){return a==null}function ic(a){return a===0&&1/a==-1/0}function eb(a){return typeof a=="number"&&Number.isInteger(a)&&!ic(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="";function nb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Uy(e)),e=ib(a.get(i),e);return Uy(e)}function ib(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case Z0:i+="";break;default:i+=h}}return i}function Uy(a){return a+Z0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function ma(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function $0(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Pe.RED,this.left=o??Pe.EMPTY,this.right=h??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Pe(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Pe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(e){return new Ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new xe(this.comparator);return i.data=e,i}}class Ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new kn([])}unionWith(e){let i=new xe(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new J0("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const rb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(a){if(Ht(!!a,39018),typeof a=="string"){let e=0;const i=rb.exec(a);if(Ht(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Er(a){return typeof a=="string"?qe.fromBase64String(a):qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="server_timestamp",tv="__type__",ev="__previous_value__",nv="__local_write_time__";function vd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[tv])===null||i===void 0?void 0:i.stringValue)===W0}function yc(a){const e=a.mapValue.fields[ev];return vd(e)?yc(e):e}function to(a){const e=_r(a.mapValue.fields[nv].timestampValue);return new ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,i,s,o,h,d,g,v,_,b){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=b}}const rc="(default)";class eo{constructor(e,i){this.projectId=e,this.database=i||rc}static empty(){return new eo("","")}get isDefaultDatabase(){return this.database===rc}isEqual(e){return e instanceof eo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="__type__",sb="__max__",zu={mapValue:{}},rv="__vector__",ac="value";function Tr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?vd(a)?4:ob(a)?9007199254740991:lb(a)?10:11:_t(28295,{value:a})}function si(a,e){if(a===e)return!0;const i=Tr(a);if(i!==Tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return to(a).isEqual(to(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=_r(o.timestampValue),g=_r(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Er(o.bytesValue).isEqual(Er(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return de(o.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return de(o.integerValue)===de(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=de(o.doubleValue),g=de(h.doubleValue);return d===g?ic(d)===ic(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return _s(a.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(jy(d)!==jy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!si(d[v],g[v])))return!1;return!0}(a,e);default:return _t(52216,{left:a})}}function no(a,e){return(a.values||[]).find(i=>si(i,e))!==void 0}function Es(a,e){if(a===e)return 0;const i=Tr(a),s=Tr(e);if(i!==s)return xt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=de(h.integerValue||h.doubleValue),v=de(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(a,e);case 3:return zy(a.timestampValue,e.timestampValue);case 4:return zy(to(a),to(e));case 5:return Xf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Er(h),v=Er(d);return g.compareTo(v)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const b=xt(g[_],v[_]);if(b!==0)return b}return xt(g.length,v.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=xt(de(h.latitude),de(d.latitude));return g!==0?g:xt(de(h.longitude),de(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Py(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,v,_,b;const w=h.fields||{},O=d.fields||{},G=(g=w[ac])===null||g===void 0?void 0:g.arrayValue,J=(v=O[ac])===null||v===void 0?void 0:v.arrayValue,st=xt(((_=G==null?void 0:G.values)===null||_===void 0?void 0:_.length)||0,((b=J==null?void 0:J.values)===null||b===void 0?void 0:b.length)||0);return st!==0?st:Py(G,J)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===zu.mapValue&&d===zu.mapValue)return 0;if(h===zu.mapValue)return 1;if(d===zu.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},b=Object.keys(_);v.sort(),b.sort();for(let w=0;w<v.length&&w<b.length;++w){const O=Xf(v[w],b[w]);if(O!==0)return O;const G=Es(g[v[w]],_[b[w]]);if(G!==0)return G}return xt(v.length,b.length)}(a.mapValue,e.mapValue);default:throw _t(23264,{le:i})}}function zy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return xt(a,e);const i=_r(a),s=_r(e),o=xt(i.seconds,s.seconds);return o!==0?o:xt(i.nanos,s.nanos)}function Py(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Es(i[o],s[o]);if(h)return h}return xt(i.length,s.length)}function Ts(a){return Zf(a)}function Zf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=_r(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Er(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return mt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Zf(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Zf(i.fields[d])}`;return o+"}"}(a.mapValue):_t(61005,{value:a})}function Ku(a){switch(Tr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yc(a);return e?16+Ku(e):16;case 5:return 2*a.stringValue.length;case 6:return Er(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Ku(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return ma(s.fields,(h,d)=>{o+=h.length+Ku(d)}),o}(a.mapValue);default:throw _t(13486,{value:a})}}function By(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function $f(a){return!!a&&"integerValue"in a}function _d(a){return!!a&&"arrayValue"in a}function qy(a){return!!a&&"nullValue"in a}function Hy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Xu(a){return!!a&&"mapValue"in a}function lb(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[iv])===null||i===void 0?void 0:i.stringValue)===rv}function Yl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return ma(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Yl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Yl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function ob(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===sb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Xu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Yl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Xu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ma(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new xn(Yl(this.value))}}function av(a){const e=[];return ma(a.fields,(i,s)=>{const o=new Be([i]);if(Xu(s)){const h=av(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,bt.min(),bt.min(),bt.min(),xn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,bt.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,bt.min(),bt.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,bt.min(),bt.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.position=e,this.inclusive=i}}function Gy(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=Es(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Fy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!si(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,i="asc"){this.field=e,this.dir=i}}function ub(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{}class _e extends sv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new hb(e,i,s):i==="array-contains"?new mb(e,s):i==="in"?new gb(e,s):i==="not-in"?new pb(e,s):i==="array-contains-any"?new yb(e,s):new _e(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new fb(e,s):new db(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Es(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(Es(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends sv{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new Un(e,i)}matches(e){return lv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function lv(a){return a.op==="and"}function ov(a){return cb(a)&&lv(a)}function cb(a){for(const e of a.filters)if(e instanceof Un)return!1;return!0}function Jf(a){if(a instanceof _e)return a.field.canonicalString()+a.op.toString()+Ts(a.value);if(ov(a))return a.filters.map(e=>Jf(e)).join(",");{const e=a.filters.map(i=>Jf(i)).join(",");return`${a.op}(${e})`}}function uv(a,e){return a instanceof _e?function(s,o){return o instanceof _e&&s.op===o.op&&s.field.isEqual(o.field)&&si(s.value,o.value)}(a,e):a instanceof Un?function(s,o){return o instanceof Un&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&uv(d,o.filters[g]),!0):!1}(a,e):void _t(19439)}function cv(a){return a instanceof _e?function(i){return`${i.field.canonicalString()} ${i.op} ${Ts(i.value)}`}(a):a instanceof Un?function(i){return i.op.toString()+" {"+i.getFilters().map(cv).join(" ,")+"}"}(a):"Filter"}class hb extends _e{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class fb extends _e{constructor(e,i){super(e,"in",i),this.keys=hv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class db extends _e{constructor(e,i){super(e,"not-in",i),this.keys=hv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function hv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>mt.fromName(s.referenceValue))}class mb extends _e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return _d(i)&&no(i.arrayValue,this.value)}}class gb extends _e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&no(this.value.arrayValue,i)}}class pb extends _e{constructor(e,i){super(e,"not-in",i)}matches(e){if(no(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!no(this.value.arrayValue,i)}}class yb extends _e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!_d(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>no(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Pe=null}}function Qy(a,e=null,i=[],s=[],o=null,h=null,d=null){return new vb(a,e,i,s,o,h,d)}function Ed(a){const e=At(a);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Jf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ts(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ts(s)).join(",")),e.Pe=i}return e.Pe}function Td(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!ub(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!uv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Fy(a.startAt,e.startAt)&&Fy(a.endAt,e.endAt)}function Wf(a){return mt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function _b(a,e,i,s,o,h,d,g){return new Cs(a,e,i,s,o,h,d,g)}function bd(a){return new Cs(a)}function Yy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function fv(a){return a.collectionGroup!==null}function Kl(a){const e=At(a);if(e.Te===null){e.Te=[];const i=new Set;for(const h of e.explicitOrderBy)e.Te.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new xe(Be.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Te.push(new io(h,s))}),i.has(Be.keyField().canonicalString())||e.Te.push(new io(Be.keyField(),s))}return e.Te}function ei(a){const e=At(a);return e.Ie||(e.Ie=Eb(e,Kl(a))),e.Ie}function Eb(a,e){if(a.limitType==="F")return Qy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new io(o.field,h)});const i=a.endAt?new sc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new sc(a.startAt.position,a.startAt.inclusive):null;return Qy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function td(a,e){const i=a.filters.concat([e]);return new Cs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function ed(a,e,i){return new Cs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function vc(a,e){return Td(ei(a),ei(e))&&a.limitType===e.limitType}function dv(a){return`${Ed(ei(a))}|lt:${a.limitType}`}function fs(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>cv(o)).join(", ")}]`),pc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ts(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ts(o)).join(",")),`Target(${s})`}(ei(a))}; limitType=${a.limitType})`}function _c(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):mt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Kl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,v){const _=Gy(d,g,v);return d.inclusive?_<=0:_<0}(s.startAt,Kl(s),o)||s.endAt&&!function(d,g,v){const _=Gy(d,g,v);return d.inclusive?_>=0:_>0}(s.endAt,Kl(s),o))}(a,e)}function Tb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function mv(a){return(e,i)=>{let s=!1;for(const o of Kl(a)){const h=bb(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function bb(a,e,i){const s=a.field.isKeyField()?mt.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?Es(v,_):_t(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return $0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new se(mt.comparator);function ki(){return Ab}const gv=new se(mt.comparator);function Bl(...a){let e=gv;for(const i of a)e=e.insert(i.key,i);return e}function pv(a){let e=gv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function oa(){return Xl()}function yv(){return Xl()}function Xl(){return new ga(a=>a.toString(),(a,e)=>a.isEqual(e))}const Sb=new se(mt.comparator),wb=new xe(mt.comparator);function Mt(...a){let e=wb;for(const i of a)e=e.add(i);return e}const Rb=new xe(xt);function xb(){return Rb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function vv(a){return{integerValue:""+a}}function Cb(a,e){return eb(e)?vv(e):Ad(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this._=void 0}}function Db(a,e,i){return a instanceof lc?function(o,h){const d={fields:{[tv]:{stringValue:W0},[nv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&vd(h)&&(h=yc(h)),h&&(d.fields[ev]=h),{mapValue:d}}(i,e):a instanceof ro?Ev(a,e):a instanceof ao?Tv(a,e):function(o,h){const d=_v(o,h),g=Ky(d)+Ky(o.Ee);return $f(d)&&$f(o.Ee)?vv(g):Ad(o.serializer,g)}(a,e)}function Nb(a,e,i){return a instanceof ro?Ev(a,e):a instanceof ao?Tv(a,e):i}function _v(a,e){return a instanceof oc?function(s){return $f(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class lc extends Ec{}class ro extends Ec{constructor(e){super(),this.elements=e}}function Ev(a,e){const i=bv(e);for(const s of a.elements)i.some(o=>si(o,s))||i.push(s);return{arrayValue:{values:i}}}class ao extends Ec{constructor(e){super(),this.elements=e}}function Tv(a,e){let i=bv(e);for(const s of a.elements)i=i.filter(o=>!si(o,s));return{arrayValue:{values:i}}}class oc extends Ec{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function Ky(a){return de(a.integerValue||a.doubleValue)}function bv(a){return _d(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Vb(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof ro&&o instanceof ro||s instanceof ao&&o instanceof ao?_s(s.elements,o.elements,si):s instanceof oc&&o instanceof oc?si(s.Ee,o.Ee):s instanceof lc&&o instanceof lc}(a.transform,e.transform)}class Ib{constructor(e,i){this.version=e,this.transformResults=i}}class ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Tc{}function Av(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Sd(a.key,ni.none()):new oo(a.key,a.data,ni.none());{const i=a.data,s=xn.empty();let o=new xe(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new pa(a.key,s,new kn(o.toArray()),ni.none())}}function Ob(a,e,i){a instanceof oo?function(o,h,d){const g=o.value.clone(),v=Zy(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof pa?function(o,h,d){if(!Zu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Zy(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Sv(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Zl(a,e,i,s){return a instanceof oo?function(h,d,g,v){if(!Zu(h.precondition,d))return g;const _=h.value.clone(),b=$y(h.fieldTransforms,v,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(a,e,i,s):a instanceof pa?function(h,d,g,v){if(!Zu(h.precondition,d))return g;const _=$y(h.fieldTransforms,v,d),b=d.data;return b.setAll(Sv(h)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(w=>w.field))}(a,e,i,s):function(h,d,g){return Zu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function Mb(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=_v(s.transform,o||null);h!=null&&(i===null&&(i=xn.empty()),i.set(s.field,h))}return i||null}function Xy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_s(s,o,(h,d)=>Vb(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class oo extends Tc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pa extends Tc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Sv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Zy(a,e,i){const s=new Map;Ht(a.length===i.length,32656,{Ae:i.length,Re:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,Nb(d,g,i[o]))}return s}function $y(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,Db(h,d,e))}return s}class Sd extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kb extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Ob(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=yv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=Av(d,g);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Mt())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(i,s)=>Xy(i,s))&&_s(this.baseMutations,e.baseMutations,(i,s)=>Xy(i,s))}}class wd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ht(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return Sb}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new wd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Lt;function zb(a){switch(a){case X.OK:return _t(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _t(15467,{code:a})}}function wv(a){if(a===void 0)return Mi("GRPC error has no .code"),X.UNKNOWN;switch(a){case ve.OK:return X.OK;case ve.CANCELLED:return X.CANCELLED;case ve.UNKNOWN:return X.UNKNOWN;case ve.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ve.INTERNAL:return X.INTERNAL;case ve.UNAVAILABLE:return X.UNAVAILABLE;case ve.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ve.NOT_FOUND:return X.NOT_FOUND;case ve.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ve.ABORTED:return X.ABORTED;case ve.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ve.DATA_LOSS:return X.DATA_LOSS;default:return _t(39323,{code:a})}}(Lt=ve||(ve={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=new gr([4294967295,4294967295],0);function Jy(a){const e=Y0().encode(a),i=new z0;return i.update(e),new Uint8Array(i.digest())}function Wy(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new gr([i,s],0),new gr([o,h],0)]}class Rd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=gr.fromNumber(this.fe)}pe(e,i,s){let o=e.add(i.multiply(gr.fromNumber(s)));return o.compare(Pb)===1&&(o=new gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=Jy(e),[s,o]=Wy(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);if(!this.ye(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Rd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const i=Jy(e),[s,o]=Wy(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);this.we(d)}}we(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,uo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new bc(bt.min(),o,new se(xt),ki(),Mt())}}class uo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new uo(s,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.be=o}}class Rv{constructor(e,i){this.targetId=e,this.De=i}}class xv{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class t0{constructor(){this.ve=0,this.Ce=e0(),this.Fe=qe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Mt(),i=Mt(),s=Mt();return this.Ce.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:h})}}),new uo(this.Fe,this.Me,e,i,s)}ke(){this.xe=!1,this.Ce=e0()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Bb{constructor(e){this.We=e,this.Ge=new Map,this.ze=ki(),this.je=Pu(),this.Je=Pu(),this.He=new se(xt)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const s=this.tt(i);switch(e.state){case 0:this.nt(i)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(e.resumeToken));break;default:_t(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((s,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,s=e.De.count,o=this.st(i);if(o){const h=o.target;if(Wf(h))if(s===0){const d=new mt(h.path);this.Xe(i,d,Ke.newNoDocument(d,bt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const g=this._t(e),v=g?this.ut(g,e,d):1;if(v!==0){this.rt(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,_)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Er(s).toUint8Array()}catch(v){if(v instanceof J0)return yr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Rd(d,o,h)}catch(v){return yr(v instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.fe===0?null:g}ut(e,i,s){return i.De.count===s-this.ht(e,i.targetId)?0:2}ht(e,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,h,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((h,d)=>{const g=this.st(d);if(g){if(h.current&&Wf(g.target)){const v=new mt(g.target.path);this.Tt(v).has(d)||this.It(d,v)||this.Xe(d,v,Ke.newNoDocument(v,e))}h.Ne&&(i.set(d,h.Le()),h.ke())}});let s=Mt();this.Je.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this.st(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.ze.forEach((h,d)=>d.setReadTime(e));const o=new bc(e,i,this.He,this.ze,s);return this.ze=ki(),this.je=Pu(),this.Je=Pu(),this.He=new se(xt),o}Ze(e,i){if(!this.nt(e))return;const s=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new t0,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new xe(xt),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new xe(xt),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new t0),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function Pu(){return new se(mt.comparator)}function e0(){return new se(mt.comparator)}const qb={asc:"ASCENDING",desc:"DESCENDING"},Hb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gb={and:"AND",or:"OR"};class Fb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(a,e){return a.useProto3Json||pc(e)?e:{value:e}}function uc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Qb(a,e){return uc(a,e.toTimestamp())}function ii(a){return Ht(!!a,49232),bt.fromTimestamp(function(i){const s=_r(i);return new ne(s.seconds,s.nanos)}(a))}function xd(a,e){return id(a,e).canonicalString()}function id(a,e){const i=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function Dv(a){const e=ee.fromString(a);return Ht(Mv(e),10190,{key:e.toString()}),e}function rd(a,e){return xd(a.databaseId,e.path)}function Lf(a,e){const i=Dv(e);if(i.get(1)!==a.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new mt(Vv(i))}function Nv(a,e){return xd(a.databaseId,e)}function Yb(a){const e=Dv(a);return e.length===4?ee.emptyPath():Vv(e)}function ad(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Vv(a){return Ht(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function n0(a,e,i){return{name:rd(a,e),fields:i.value.mapValue.fields}}function Kb(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,b){return _.useProto3Json?(Ht(b===void 0||typeof b=="string",58123),qe.fromBase64String(b||"")):(Ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),qe.fromUint8Array(b||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const b=_.code===void 0?X.UNKNOWN:wv(_.code);return new ot(b,_.message||"")}(d);i=new xv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Lf(a,s.document.name),h=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):bt.min(),g=new xn({mapValue:{fields:s.document.fields}}),v=Ke.newFoundDocument(o,h,d,g),_=s.targetIds||[],b=s.removedTargetIds||[];i=new $u(_,b,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Lf(a,s.document),h=s.readTime?ii(s.readTime):bt.min(),d=Ke.newNoDocument(o,h),g=s.removedTargetIds||[];i=new $u([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Lf(a,s.document),h=s.removedTargetIds||[];i=new $u([],h,o,null)}else{if(!("filter"in e))return _t(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new Lb(o,h),g=s.targetId;i=new Rv(g,d)}}return i}function Xb(a,e){let i;if(e instanceof oo)i={update:n0(a,e.key,e.value)};else if(e instanceof Sd)i={delete:rd(a,e.key)};else if(e instanceof pa)i={update:n0(a,e.key,e.data),updateMask:rA(e.fieldMask)};else{if(!(e instanceof kb))return _t(16599,{Rt:e.type});i={verify:rd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof lc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ao)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof oc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw _t(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:Qb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t(27497)}(a,e.precondition)),i}function Zb(a,e){return a&&a.length>0?(Ht(e!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(bt.min())&&(d=ii(h)),new Ib(d,o.transformResults||[])}(i,e))):[]}function $b(a,e){return{documents:[Nv(a,e.path)]}}function Jb(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Nv(a,o);const h=function(_){if(_.length!==0)return Ov(Un.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(b=>function(O){return{field:ds(O.field),direction:eA(O.dir)}}(b))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=nd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{Vt:i,parent:o}}function Wb(a){let e=Yb(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=function(w){const O=Iv(w);return O instanceof Un&&ov(O)?O.getFilters():[O]}(i.where));let d=[];i.orderBy&&(d=function(w){return w.map(O=>function(J){return new io(ms(J.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(O))}(i.orderBy));let g=null;i.limit&&(g=function(w){let O;return O=typeof w=="object"?w.value:w,pc(O)?null:O}(i.limit));let v=null;i.startAt&&(v=function(w){const O=!!w.before,G=w.values||[];return new sc(G,O)}(i.startAt));let _=null;return i.endAt&&(_=function(w){const O=!w.before,G=w.values||[];return new sc(G,O)}(i.endAt)),_b(e,o,d,h,g,"F",v,_)}function tA(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Iv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ms(i.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ms(i.unaryFilter.field);return _e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ms(i.unaryFilter.field);return _e.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ms(i.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(a):a.fieldFilter!==void 0?function(i){return _e.create(ms(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Un.create(i.compositeFilter.filters.map(s=>Iv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(i.compositeFilter.op))}(a):_t(30097,{filter:a})}function eA(a){return qb[a]}function nA(a){return Hb[a]}function iA(a){return Gb[a]}function ds(a){return{fieldPath:a.canonicalString()}}function ms(a){return Be.fromServerFormat(a.fieldPath)}function Ov(a){return a instanceof _e?function(i){if(i.op==="=="){if(Hy(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NAN"}};if(qy(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Hy(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NOT_NAN"}};if(qy(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(i.field),op:nA(i.op),value:i.value}}}(a):a instanceof Un?function(i){const s=i.getFilters().map(o=>Ov(o));return s.length===1?s[0]:{compositeFilter:{op:iA(i.op),filters:s}}}(a):_t(54877,{filter:a})}function rA(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Mv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,i,s,o,h=bt.min(),d=bt.min(),g=qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.gt=e}}function sA(a){const e=Wb({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.Dn=new oA}addToCollectionParentIndex(e,i){return this.Dn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(vr.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class oA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new xe(ee.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kv=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(kv,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new bs(0)}static ur(){return new bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="LruGarbageCollector",uA=1048576;function a0([a,e],[i,s]){const o=xt(a,i);return o===0?xt(e,s):o}class cA{constructor(e){this.Tr=e,this.buffer=new xe(a0),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();a0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){lt(r0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xs(i)?lt(r0,"Ignoring IndexedDB error during garbage collection: ",i):await Rs(i)}await this.Rr(3e5)})}}class fA{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return $.resolve(gc.ue);const s=new cA(i);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(i0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i0):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let s,o,h,d,g,v,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,g=Date.now(),this.removeTargets(e,s,i))).next(w=>(h=w,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(_=Date.now(),hs()<=zt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:w})))}}function dA(a,e){return new fA(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.changes=new ga(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Zl(s.mutation,o,kn.empty(),ne.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Mt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Mt()){const o=oa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Bl();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=oa();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Mt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=ki();const d=Xl(),g=function(){return Xl()}();return i.forEach((v,_)=>{const b=s.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof pa)?h=h.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Zl(b.mutation,_,b.mutation.getFieldMask(),ne.now())):d.set(_.key,kn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,b)=>d.set(_,b)),i.forEach((_,b)=>{var w;return g.set(_,new gA(b,(w=d.get(_))!==null&&w!==void 0?w:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Xl();let o=new se((d,g)=>d-g),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let b=s.get(v)||kn.empty();b=g.applyToLocalView(_,b),s.set(v,b);const w=(o.get(g.batchId)||Mt()).add(v);o=o.insert(g.batchId,w)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,b=v.value,w=yv();b.forEach(O=>{if(!h.has(O)){const G=Av(i.get(O),s.get(O));G!==null&&w.set(O,G),h=h.add(O)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return $.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):fv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):$.resolve(oa());let g=Wl,v=h;return d.next(_=>$.forEach(_,(b,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),h.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next(O=>{v=v.insert(b,O)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Mt())).next(b=>({batchId:g,changes:pv(b)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next(g=>$.forEach(g,v=>{const _=function(w,O){return new Cs(O,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(b=>{b.forEach((w,O)=>{d=d.insert(w,O)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((v,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Ke.newInvalidDocument(b)))});let g=Bl();return d.forEach((v,_)=>{const b=h.get(v);b!==void 0&&Zl(b.mutation,_,kn.empty(),ne.now()),_c(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return $.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:sA(o.bundledQuery),readTime:ii(o.readTime)}}(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.overlays=new se(mt.comparator),this.kr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=oa();return $.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.wt(e,i,h)}),$.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.kr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const o=oa(),h=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new se((_,b)=>_-b);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let b=h.get(_.largestBatchId);b===null&&(b=oa(),h=h.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=oa(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,b)=>g.set(_,b)),!(g.size()>=o)););return $.resolve(g)}wt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new jb(i,s));let h=this.kr.get(i);h===void 0&&(h=Mt(),this.kr.set(i,h)),this.kr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.qr=new xe(Me.Qr),this.$r=new xe(Me.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Wr(new Me(e,i))}Gr(e,i){e.forEach(s=>this.removeReference(s,i))}zr(e){const i=new mt(new ee([])),s=new Me(i,e),o=new Me(i,e+1),h=[];return this.$r.forEachInRange([s,o],d=>{this.Wr(d),h.push(d.key)}),h}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new mt(new ee([])),s=new Me(i,e),o=new Me(i,e+1);let h=Mt();return this.$r.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return mt.comparator(e.key,i.key)||xt(e.Hr,i.Hr)}static Ur(e,i){return xt(e.Hr,i.Hr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new xe(Me.Qr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ub(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?yd:this.er-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([s,o],d=>{const g=this.Zr(d.Hr);h.push(g)}),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new xe(xt);return i.forEach(o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,d],g=>{s=s.add(g.Hr)})}),$.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;mt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new mt(h),0);let g=new xe(xt);return this.Yr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Hr)),!0)},d),$.resolve(this.ei(g))}ei(e){const i=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Ht(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return $.forEach(i.mutations,o=>{const h=new Me(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,i){const s=new Me(i,0),o=this.Yr.firstAfterOrEqual(s);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.ni=e,this.docs=function(){return new se(mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=ki();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=ki();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:b}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||$T(ZT(b),s)<=0||(o.has(b.key)||_c(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,s,o){_t(9500)}ri(e,i){return $.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new bA(this)}getSize(e){return $.resolve(this.size)}}class bA extends mA{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),$.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.persistence=e,this.ii=new ga(i=>Ed(i),Td),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.si=0,this.oi=new Cd,this.targetCount=0,this._i=bs.ar()}forEachTarget(e,i){return this.ii.forEach((s,o)=>i(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),$.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new bs(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.hr(i),$.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ii.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),$.waitFor(h).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.ii.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this.oi.Kr(i,s),$.resolve()}removeMatchingKeys(e,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this.oi.Jr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,i){this.ai={},this.overlays={},this.ui=new gc(0),this.ci=!1,this.ci=!0,this.li=new _A,this.referenceDelegate=e(this),this.hi=new AA(this),this.indexManager=new lA,this.remoteDocumentCache=function(o){return new TA(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new aA(i),this.Ti=new yA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new vA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ai[e.toKey()];return s||(s=new EA(i,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const o=new SA(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ei(e,i){return $.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,i)))}}class SA extends WT{constructor(e){super(),this.currentSequenceNumber=e}}class Dd{constructor(e){this.persistence=e,this.Ai=new Cd,this.Ri=null}static Vi(e){return new Dd(e)}get mi(){if(this.Ri)return this.Ri;throw _t(60996)}addReference(e,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.mi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.mi,s=>{const o=mt.fromPath(s);return this.fi(e,o).next(h=>{h||i.removeEntry(o,bt.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return $.or([()=>$.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class cc{constructor(e,i){this.persistence=e,this.gi=new ga(s=>nb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=dA(this,i)}static Vi(e,i){return new cc(e,i)}Ii(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}yr(e){let i=0;return this.gr(e,s=>{i++}).next(()=>i)}gr(e,i){return $.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(h=>h?$.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,bt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),$.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ku(e.data.value)),i}Sr(e,i,s){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Is=s,this.ds=o}static Es(e,i){let s=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Nd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return TE()?8:tb(_E())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ps(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ys(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new wA;return this.ws(e,i,d).next(g=>{if(h.result=g,this.Rs)return this.Ss(e,i,d,g.size)})}).next(()=>h.result)}Ss(e,i,s,o){return s.documentReadCount<this.Vs?(hs()<=zt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",fs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(hs()<=zt.DEBUG&&lt("QueryEngine","Query:",fs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(hs()<=zt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",fs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):$.resolve())}ps(e,i){if(Yy(i))return $.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=ed(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Mt(...h);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(v=>{const _=this.bs(i,g);return this.Ds(i,_,d,v.readTime)?this.ps(e,ed(i,null,"F")):this.vs(e,_,i,v)}))})))}ys(e,i,s,o){return Yy(i)||o.isEqual(bt.min())?$.resolve(null):this.gs.getDocuments(e,s).next(h=>{const d=this.bs(i,h);return this.Ds(i,d,s,o)?$.resolve(null):(hs()<=zt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fs(i)),this.vs(e,d,i,XT(o,Wl)).next(g=>g))})}bs(e,i){let s=new xe(mv(e));return i.forEach((o,h)=>{_c(e,h)&&(s=s.add(h))}),s}Ds(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ws(e,i,s){return hs()<=zt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",fs(i)),this.gs.getDocumentsMatchingQuery(e,i,vr.min(),s)}vs(e,i,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="LocalStore",xA=3e8;class CA{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new se(xt),this.Ms=new ga(h=>Ed(h),Td),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pA(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function DA(a,e,i,s){return new CA(a,e,i,s)}async function jv(a,e){const i=At(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Ns(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let v=Mt();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}for(const _ of h){g.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(s,v).next(_=>({Bs:_,removedBatchIds:d,addedBatchIds:g}))})})}function NA(a,e){const i=At(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,v,_,b){const w=_.batch,O=w.keys();let G=$.resolve();return O.forEach(J=>{G=G.next(()=>b.getEntry(v,J)).next(st=>{const K=_.docVersions.get(J);Ht(K!==null,48541),st.version.compareTo(K)<0&&(w.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),b.addEntry(st)))})}),G.next(()=>g.mutationQueue.removeMutationBatch(v,w))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let v=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function Lv(a){const e=At(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function VA(a,e){const i=At(a),s=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];e.targetChanges.forEach((b,w)=>{const O=o.get(w);if(!O)return;g.push(i.hi.removeMatchingKeys(h,b.removedDocuments,w).next(()=>i.hi.addMatchingKeys(h,b.addedDocuments,w)));let G=O.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(w)!==null?G=G.withResumeToken(qe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,s)),o=o.insert(w,G),function(st,K,rt){return st.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=xA?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0}(O,G,b)&&g.push(i.hi.updateTargetData(h,G))});let v=ki(),_=Mt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))}),g.push(IA(h,d,e.documentUpdates).next(b=>{v=b.Ls,_=b.ks})),!s.isEqual(bt.min())){const b=i.hi.getLastRemoteSnapshotVersion(h).next(w=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(b)}return $.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Fs=o,h))}function IA(a,e,i){let s=Mt(),o=Mt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=ki();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(bt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):lt(Vd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{Ls:d,ks:o}})}function OA(a,e){const i=At(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=yd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function MA(a,e){const i=At(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.hi.getTargetData(s,e).next(h=>h?(o=h,$.resolve(o)):i.hi.allocateTargetId(s).next(d=>(o=new fr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(e,s.targetId)),s})}async function sd(a,e,i){const s=At(a),o=s.Fs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!xs(d))throw d;lt(Vd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function s0(a,e,i){const s=At(a);let o=bt.min(),h=Mt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,b){const w=At(v),O=w.Ms.get(b);return O!==void 0?$.resolve(w.Fs.get(O)):w.hi.getTargetData(_,b)}(s,d,ei(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:bt.min(),i?h:Mt())).next(g=>(kA(s,Tb(e),g),{documents:g,qs:h})))}function kA(a,e,i){let s=a.xs.get(e)||bt.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.xs.set(e,s)}class l0{constructor(){this.activeTargetIds=xb()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UA{constructor(){this.Fo=new l0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,s){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new l0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="ConnectivityMonitor";class u0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){lt(o0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){lt(o0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=null;function ld(){return Bu===null?Bu=function(){return 268435456+Math.round(2147483648*Math.random())}():Bu++,"0x"+Bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="RestConnection",LA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zA{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===rc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,h){const d=ld(),g=this.Go(e,i.toUriEncodedString());lt(zf,`Sending RPC '${e}' ${d}:`,g,s);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(v,o,h);const{host:_}=new URL(g),b=dd(_);return this.jo(e,g,v,s,b).then(w=>(lt(zf,`Received RPC '${e}' ${d}: `,w),w),w=>{throw yr(zf,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",s),w})}Jo(e,i,s,o,h,d){return this.Wo(e,i,s,o,h)}zo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ws}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}Go(e,i){const s=LA[e];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class BA extends zA{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,s,o,h){const d=ld();return new Promise((g,v)=>{const _=new P0;_.setWithCredentials(!0),_.listenOnce(B0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Yu.NO_ERROR:const w=_.getResponseJson();lt(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Yu.TIMEOUT:lt(Qe,`RPC '${e}' ${d} timed out`),v(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const O=_.getStatus();if(lt(Qe,`RPC '${e}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G==null?void 0:G.error;if(J&&J.status&&J.message){const st=function(rt){const ut=rt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ut)>=0?ut:X.UNKNOWN}(J.status);v(new ot(st,J.message))}else v(new ot(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ot(X.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{c_:e,streamId:d,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{lt(Qe,`RPC '${e}' ${d} completed.`)}});const b=JSON.stringify(o);lt(Qe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",b,s,15)})}P_(e,i,s){const o=ld(),h=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=G0(),g=H0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.zo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const b=h.join("");lt(Qe,`Creating RPC '${e}' stream ${o}: ${b}`,v);const w=d.createWebChannel(b,v);this.T_(w);let O=!1,G=!1;const J=new PA({Ho:K=>{G?lt(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(O||(lt(Qe,`Opening RPC '${e}' stream ${o} transport.`),w.open(),O=!0),lt(Qe,`RPC '${e}' stream ${o} sending:`,K),w.send(K))},Yo:()=>w.close()}),st=(K,rt,ut)=>{K.listen(rt,ft=>{try{ut(ft)}catch(St){setTimeout(()=>{throw St},0)}})};return st(w,Pl.EventType.OPEN,()=>{G||(lt(Qe,`RPC '${e}' stream ${o} transport opened.`),J.s_())}),st(w,Pl.EventType.CLOSE,()=>{G||(G=!0,lt(Qe,`RPC '${e}' stream ${o} transport closed`),J.__(),this.I_(w))}),st(w,Pl.EventType.ERROR,K=>{G||(G=!0,yr(Qe,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),J.__(new ot(X.UNAVAILABLE,"The operation could not be completed")))}),st(w,Pl.EventType.MESSAGE,K=>{var rt;if(!G){const ut=K.data[0];Ht(!!ut,16349);const ft=ut,St=(ft==null?void 0:ft.error)||((rt=ft[0])===null||rt===void 0?void 0:rt.error);if(St){lt(Qe,`RPC '${e}' stream ${o} received error:`,St);const yt=St.status;let Nt=function(R){const N=ve[R];if(N!==void 0)return wv(N)}(yt),M=St.message;Nt===void 0&&(Nt=X.INTERNAL,M="Unknown error status: "+yt+" with message "+St.message),G=!0,J.__(new ot(Nt,M)),w.close()}else lt(Qe,`RPC '${e}' stream ${o} received:`,ut),J.a_(ut)}}),st(g,q0.STAT_EVENT,K=>{K.stat===Kf.PROXY?lt(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===Kf.NOPROXY&&lt(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.o_()},0),J}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function Pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(a){return new Fb(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Fi=e,this.timerId=i,this.d_=s,this.E_=o,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="PersistentStream";class Pv{constructor(e,i,s,o,h,d,g,v){this.Fi=e,this.w_=s,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new zv(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===i&&this.W_(s,o)},s=>{e(()=>{const o=new ot(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,i){const s=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return lt(c0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(lt(c0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qA extends Pv{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=Kb(this.serializer,e),s=function(h){if(!("targetChange"in h))return bt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?ii(d.readTime):bt.min()}(e);return this.listener.J_(i,s)}H_(e){const i={};i.database=ad(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=Wf(v)?{documents:$b(h,v)}:{query:Jb(h,v).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Cv(h,d.resumeToken);const _=nd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=uc(h,d.snapshotVersion.toTimestamp());const _=nd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const s=tA(this.serializer,e);s&&(i.labels=s),this.k_(i)}Y_(e){const i={};i.database=ad(this.serializer),i.removeTarget=e,this.k_(i)}}class HA extends Pv{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=Zb(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.ta(s,i)}na(){const e={};e.database=ad(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>Xb(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{}class FA extends GA{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(e,id(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(X.UNKNOWN,h.toString())})}Jo(e,i,s,o,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,id(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(X.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class QA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Mi(i),this._a=!1):lt("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class YA{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{ya(this)&&(lt(da,"Restarting streams for network reachability change."),await async function(v){const _=At(v);_.Ia.add(4),await co(_),_.Aa.set("Unknown"),_.Ia.delete(4),await Sc(_)}(this))})}),this.Aa=new QA(s,o)}}async function Sc(a){if(ya(a))for(const e of a.da)await e(!0)}async function co(a){for(const e of a.da)await e(!1)}function Bv(a,e){const i=At(a);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),kd(i)?Md(i):Ds(i).x_()&&Od(i,e))}function Id(a,e){const i=At(a),s=Ds(i);i.Ta.delete(e),s.x_()&&qv(i,e),i.Ta.size===0&&(s.x_()?s.B_():ya(i)&&i.Aa.set("Unknown"))}function Od(a,e){if(a.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ds(a).H_(e)}function qv(a,e){a.Ra.$e(e),Ds(a).Y_(e)}function Md(a){a.Ra=new Bb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>a.Ta.get(e)||null,lt:()=>a.datastore.serializer.databaseId}),Ds(a).start(),a.Aa.aa()}function kd(a){return ya(a)&&!Ds(a).M_()&&a.Ta.size>0}function ya(a){return At(a).Ia.size===0}function Hv(a){a.Ra=void 0}async function KA(a){a.Aa.set("Online")}async function XA(a){a.Ta.forEach((e,i)=>{Od(a,e)})}async function ZA(a,e){Hv(a),kd(a)?(a.Aa.la(e),Md(a)):a.Aa.set("Unknown")}async function $A(a,e,i){if(a.Aa.set("Online"),e instanceof xv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(a,e)}catch(s){lt(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hc(a,s)}else if(e instanceof $u?a.Ra.Ye(e):e instanceof Rv?a.Ra.it(e):a.Ra.et(e),!i.isEqual(bt.min()))try{const s=await Lv(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Ra.Pt(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const b=h.Ta.get(_);b&&h.Ta.set(_,b.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const b=h.Ta.get(v);if(!b)return;h.Ta.set(v,b.withResumeToken(qe.EMPTY_BYTE_STRING,b.snapshotVersion)),qv(h,v);const w=new fr(b.target,v,_,b.sequenceNumber);Od(h,w)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){lt(da,"Failed to raise snapshot:",s),await hc(a,s)}}async function hc(a,e,i){if(!xs(e))throw e;a.Ia.add(1),await co(a),a.Aa.set("Offline"),i||(i=()=>Lv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{lt(da,"Retrying IndexedDB access"),await i(),a.Ia.delete(1),await Sc(a)})}function Gv(a,e){return e().catch(i=>hc(a,i,e))}async function wc(a){const e=At(a),i=br(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:yd;for(;JA(e);)try{const o=await OA(e.localStore,s);if(o===null){e.Pa.length===0&&i.B_();break}s=o.batchId,WA(e,o)}catch(o){await hc(e,o)}Fv(e)&&Qv(e)}function JA(a){return ya(a)&&a.Pa.length<10}function WA(a,e){a.Pa.push(e);const i=br(a);i.x_()&&i.Z_&&i.X_(e.mutations)}function Fv(a){return ya(a)&&!br(a).M_()&&a.Pa.length>0}function Qv(a){br(a).start()}async function t2(a){br(a).na()}async function e2(a){const e=br(a);for(const i of a.Pa)e.X_(i.mutations)}async function n2(a,e,i){const s=a.Pa.shift(),o=wd.from(s,e,i);await Gv(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await wc(a)}async function i2(a,e){e&&br(a).Z_&&await async function(s,o){if(function(d){return zb(d)&&d!==X.ABORTED}(o.code)){const h=s.Pa.shift();br(s).N_(),await Gv(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await wc(s)}}(a,e),Fv(a)&&Qv(a)}async function h0(a,e){const i=At(a);i.asyncQueue.verifyOperationInProgress(),lt(da,"RemoteStore received new credentials");const s=ya(i);i.Ia.add(3),await co(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await Sc(i)}async function r2(a,e){const i=At(a);e?(i.Ia.delete(2),await Sc(i)):e||(i.Ia.add(2),await co(i),i.Aa.set("Unknown"))}function Ds(a){return a.Va||(a.Va=function(i,s,o){const h=At(i);return h.ia(),new qA(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Zo:KA.bind(null,a),e_:XA.bind(null,a),n_:ZA.bind(null,a),J_:$A.bind(null,a)}),a.da.push(async e=>{e?(a.Va.N_(),kd(a)?Md(a):a.Aa.set("Unknown")):(await a.Va.stop(),Hv(a))})),a.Va}function br(a){return a.ma||(a.ma=function(i,s,o){const h=At(i);return h.ia(),new HA(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),e_:t2.bind(null,a),n_:i2.bind(null,a),ea:e2.bind(null,a),ta:n2.bind(null,a)}),a.da.push(async e=>{e?(a.ma.N_(),await wc(a)):(await a.ma.stop(),a.Pa.length>0&&(lt(da,`Stopping write stream with ${a.Pa.length} pending writes`),a.Pa=[]))})),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Ud(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jd(a,e){if(Mi("AsyncQueue",`${e}: ${a}`),xs(a))return new ot(X.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{static emptySet(e){return new ys(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=Bl(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ys;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.fa=new se(mt.comparator)}track(e){const i=e.doc.key,s=this.fa.get(i);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(i,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(i):e.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):_t(63341,{At:e,ga:s}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,s)=>{e.push(s)}),e}}class As{constructor(e,i,s,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new As(e,i,ys.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class s2{constructor(){this.queries=d0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=At(i),h=o.queries;o.queries=d0(),h.forEach((d,g)=>{for(const v of g.wa)v.onError(s)})})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function d0(){return new ga(a=>dv(a),vc)}async function l2(a,e){const i=At(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.ba()&&(s=2):(h=new a2,s=e.ba()?0:1);try{switch(s){case 0:h.ya=await i.onListen(o,!0);break;case 1:h.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=jd(d,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.wa.push(e),e.va(i.onlineState),h.ya&&e.Ca(h.ya)&&Ld(i)}async function o2(a,e){const i=At(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.wa.indexOf(e);d>=0&&(h.wa.splice(d,1),h.wa.length===0?o=e.ba()?0:1:!h.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function u2(a,e){const i=At(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.wa)g.Ca(o)&&(s=!0);d.ya=o}}s&&Ld(i)}function c2(a,e,i){const s=At(a),o=s.queries.get(e);if(o)for(const h of o.wa)h.onError(i);s.queries.delete(e)}function Ld(a){a.Da.forEach(e=>{e.next()})}var od,m0;(m0=od||(od={})).Fa="default",m0.Cache="cache";class h2{constructor(e,i,s){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new As(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e){this.key=e}}class Kv{constructor(e){this.key=e}}class f2{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Mt(),this.mutatedKeys=Mt(),this.Xa=mv(e),this.eu=new ys(this.Xa)}get tu(){return this.Ha}nu(e,i){const s=i?i.ru:new f0,o=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,w)=>{const O=o.get(b),G=_c(this.query,w)?w:null,J=!!O&&this.mutatedKeys.has(O.key),st=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let K=!1;O&&G?O.data.isEqual(G.data)?J!==st&&(s.track({type:3,doc:G}),K=!0):this.iu(O,G)||(s.track({type:2,doc:G}),K=!0,(v&&this.Xa(G,v)>0||_&&this.Xa(G,_)<0)&&(g=!0)):!O&&G?(s.track({type:0,doc:G}),K=!0):O&&!G&&(s.track({type:1,doc:O}),K=!0,(v||_)&&(g=!0)),K&&(G?(d=d.add(G),h=st?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),s.track({type:1,doc:b})}return{eu:d,ru:s,Ds:g,mutatedKeys:h}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((b,w)=>function(G,J){const st=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{At:K})}};return st(G)-st(J)}(b.type,w.type)||this.Xa(b.doc,w.doc)),this.su(s),o=o!=null&&o;const g=i&&!o?this.ou():[],v=this.Za.size===0&&this.current&&!o?1:0,_=v!==this.Ya;return this.Ya=v,d.length!==0||_?{snapshot:new As(this.query,e.eu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new f0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Mt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return e.forEach(s=>{this.Za.has(s)||i.push(new Kv(s))}),this.Za.forEach(s=>{e.has(s)||i.push(new Yv(s))}),i}uu(e){this.Ha=e.qs,this.Za=Mt();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return As.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const zd="SyncEngine";class d2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class m2{constructor(e){this.key=e,this.lu=!1}}class g2{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new ga(g=>dv(g),vc),this.Tu=new Map,this.Iu=new Set,this.du=new se(mt.comparator),this.Eu=new Map,this.Au=new Cd,this.Ru={},this.Vu=new Map,this.mu=bs.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function p2(a,e,i=!0){const s=t_(a);let o;const h=s.Pu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.cu()):o=await Xv(s,e,i,!0),o}async function y2(a,e){const i=t_(a);await Xv(i,e,!0,!1)}async function Xv(a,e,i,s){const o=await MA(a.localStore,ei(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await v2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Bv(a.remoteStore,o),g}async function v2(a,e,i,s,o){a.gu=(w,O,G)=>async function(st,K,rt,ut){let ft=K.view.nu(rt);ft.Ds&&(ft=await s0(st.localStore,K.query,!1).then(({documents:M})=>K.view.nu(M,ft)));const St=ut&&ut.targetChanges.get(K.targetId),yt=ut&&ut.targetMismatches.get(K.targetId)!=null,Nt=K.view.applyChanges(ft,st.isPrimaryClient,St,yt);return p0(st,K.targetId,Nt._u),Nt.snapshot}(a,w,O,G);const h=await s0(a.localStore,e,!0),d=new f2(e,h.qs),g=d.nu(h.documents),v=uo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),_=d.applyChanges(g,a.isPrimaryClient,v);p0(a,i,_._u);const b=new d2(e,i,d);return a.Pu.set(e,b),a.Tu.has(i)?a.Tu.get(i).push(e):a.Tu.set(i,[e]),_.snapshot}async function _2(a,e,i){const s=At(a),o=s.Pu.get(e),h=s.Tu.get(o.targetId);if(h.length>1)return s.Tu.set(o.targetId,h.filter(d=>!vc(d,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Id(s.remoteStore,o.targetId),ud(s,o.targetId)}).catch(Rs)):(ud(s,o.targetId),await sd(s.localStore,o.targetId,!0))}async function E2(a,e){const i=At(a),s=i.Pu.get(e),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Id(i.remoteStore,s.targetId))}async function T2(a,e,i){const s=C2(a);try{const o=await function(d,g){const v=At(d),_=ne.now(),b=g.reduce((G,J)=>G.add(J.key),Mt());let w,O;return v.persistence.runTransaction("Locally write mutations","readwrite",G=>{let J=ki(),st=Mt();return v.Os.getEntries(G,b).next(K=>{J=K,J.forEach((rt,ut)=>{ut.isValidDocument()||(st=st.add(rt))})}).next(()=>v.localDocuments.getOverlayedDocuments(G,J)).next(K=>{w=K;const rt=[];for(const ut of g){const ft=Mb(ut,w.get(ut.key).overlayedDocument);ft!=null&&rt.push(new pa(ut.key,ft,av(ft.value.mapValue),ni.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,rt,g)}).next(K=>{O=K;const rt=K.applyToLocalDocumentSet(w,st);return v.documentOverlayCache.saveOverlays(G,K.batchId,rt)})}).then(()=>({batchId:O.batchId,changes:pv(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,v){let _=d.Ru[d.currentUser.toKey()];_||(_=new se(xt)),_=_.insert(g,v),d.Ru[d.currentUser.toKey()]=_}(s,o.batchId,i),await ho(s,o.changes),await wc(s.remoteStore)}catch(o){const h=jd(o,"Failed to persist write");i.reject(h)}}async function Zv(a,e){const i=At(a);try{const s=await VA(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Eu.get(h);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?Ht(d.lu,14607):o.removedDocuments.size>0&&(Ht(d.lu,42227),d.lu=!1))}),await ho(i,s,e)}catch(s){await Rs(s)}}function g0(a,e,i){const s=At(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const v=At(d);v.onlineState=g;let _=!1;v.queries.forEach((b,w)=>{for(const O of w.wa)O.va(g)&&(_=!0)}),_&&Ld(v)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function b2(a,e,i){const s=At(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),h=o&&o.key;if(h){let d=new se(mt.comparator);d=d.insert(h,Ke.newNoDocument(h,bt.min()));const g=Mt().add(h),v=new bc(bt.min(),new Map,new se(xt),d,g);await Zv(s,v),s.du=s.du.remove(h),s.Eu.delete(e),Pd(s)}else await sd(s.localStore,e,!1).then(()=>ud(s,e,i)).catch(Rs)}async function A2(a,e){const i=At(a),s=e.batch.batchId;try{const o=await NA(i.localStore,e);Jv(i,s,null),$v(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ho(i,o)}catch(o){await Rs(o)}}async function S2(a,e,i){const s=At(a);try{const o=await function(d,g){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return v.mutationQueue.lookupMutationBatch(_,g).next(w=>(Ht(w!==null,37113),b=w.keys(),v.mutationQueue.removeMutationBatch(_,w))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,b,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>v.localDocuments.getDocuments(_,b))})}(s.localStore,e);Jv(s,e,i),$v(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ho(s,o)}catch(o){await Rs(o)}}function $v(a,e){(a.Vu.get(e)||[]).forEach(i=>{i.resolve()}),a.Vu.delete(e)}function Jv(a,e,i){const s=At(a);let o=s.Ru[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function ud(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Tu.get(e))a.Pu.delete(s),i&&a.hu.pu(s,i);a.Tu.delete(e),a.isPrimaryClient&&a.Au.zr(e).forEach(s=>{a.Au.containsKey(s)||Wv(a,s)})}function Wv(a,e){a.Iu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Id(a.remoteStore,i),a.du=a.du.remove(e),a.Eu.delete(i),Pd(a))}function p0(a,e,i){for(const s of i)s instanceof Yv?(a.Au.addReference(s.key,e),w2(a,s)):s instanceof Kv?(lt(zd,"Document no longer in limbo: "+s.key),a.Au.removeReference(s.key,e),a.Au.containsKey(s.key)||Wv(a,s.key)):_t(19791,{yu:s})}function w2(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Iu.has(s)||(lt(zd,"New document in limbo: "+i),a.Iu.add(s),Pd(a))}function Pd(a){for(;a.Iu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Iu.values().next().value;a.Iu.delete(e);const i=new mt(ee.fromString(e)),s=a.mu.next();a.Eu.set(s,new m2(i)),a.du=a.du.insert(i,s),Bv(a.remoteStore,new fr(ei(bd(i.path)),s,"TargetPurposeLimboResolution",gc.ue))}}async function ho(a,e,i){const s=At(a),o=[],h=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((g,v)=>{d.push(s.gu(v,e,i).then(_=>{var b;if((_||i)&&s.isPrimaryClient){const w=_?!_.fromCache:(b=i==null?void 0:i.targetChanges.get(v.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(v.targetId,w?"current":"not-current")}if(_){o.push(_);const w=Nd.Es(v.targetId,_);h.push(w)}}))}),await Promise.all(d),s.hu.J_(o),await async function(v,_){const b=At(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>$.forEach(_,O=>$.forEach(O.Is,G=>b.persistence.referenceDelegate.addReference(w,O.targetId,G)).next(()=>$.forEach(O.ds,G=>b.persistence.referenceDelegate.removeReference(w,O.targetId,G)))))}catch(w){if(!xs(w))throw w;lt(Vd,"Failed to update sequence numbers: "+w)}for(const w of _){const O=w.targetId;if(!w.fromCache){const G=b.Fs.get(O),J=G.snapshotVersion,st=G.withLastLimboFreeSnapshotVersion(J);b.Fs=b.Fs.insert(O,st)}}}(s.localStore,h))}async function R2(a,e){const i=At(a);if(!i.currentUser.isEqual(e)){lt(zd,"User change. New user:",e.toKey());const s=await jv(i.localStore,e);i.currentUser=e,function(h,d){h.Vu.forEach(g=>{g.forEach(v=>{v.reject(new ot(X.CANCELLED,d))})}),h.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ho(i,s.Bs)}}function x2(a,e){const i=At(a),s=i.Eu.get(e);if(s&&s.lu)return Mt().add(s.key);{let o=Mt();const h=i.Tu.get(e);if(!h)return o;for(const d of h){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function t_(a){const e=At(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b2.bind(null,e),e.hu.J_=u2.bind(null,e.eventManager),e.hu.pu=c2.bind(null,e.eventManager),e}function C2(a){const e=At(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S2.bind(null,e),e}class fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ac(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return DA(this.persistence,new RA,e.initialUser,this.serializer)}Du(e){return new Uv(Dd.Vi,this.serializer)}bu(e){return new UA}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fc.provider={build:()=>new fc};class D2 extends fc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){Ht(this.persistence.referenceDelegate instanceof cc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hA(s,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Uv(s=>cc.Vi(s,i),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>g0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=R2.bind(null,this.syncEngine),await r2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s2}()}createDatastore(e){const i=Ac(e.databaseInfo.databaseId),s=function(h){return new BA(h)}(e.databaseInfo);return function(h,d,g,v){return new FA(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new YA(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>g0(this.syncEngine,i,0),function(){return u0.C()?new u0:new jA}())}createSyncEngine(e,i){return function(o,h,d,g,v,_,b){const w=new g2(o,h,d,g,v,_);return b&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=At(o);lt(da,"RemoteStore shutting down."),h.Ia.add(5),await co(h),h.Ea.shutdown(),h.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}cd.provider={build:()=>new cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="FirestoreClient";class V2{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=pd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{lt(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(lt(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=jd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bf(a,e){a.asyncQueue.verifyOperationInProgress(),lt(Ar,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await jv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{yr("Terminating Firestore due to IndexedDb database deletion"),a.terminate().then(()=>{lt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{yr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),a._offlineComponents=e}async function y0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await I2(a);lt(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>h0(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>h0(e.remoteStore,o)),a._onlineComponents=e}async function I2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){lt(Ar,"Using user provided OfflineComponentProvider");try{await Bf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;yr("Error using user provided cache. Falling back to memory cache: "+i),await Bf(a,new fc)}}else lt(Ar,"Using default OfflineComponentProvider"),await Bf(a,new D2(void 0));return a._offlineComponents}async function e_(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(lt(Ar,"Using user provided OnlineComponentProvider"),await y0(a,a._uninitializedComponentsProvider._online)):(lt(Ar,"Using default OnlineComponentProvider"),await y0(a,new cd))),a._onlineComponents}function O2(a){return e_(a).then(e=>e.syncEngine)}async function v0(a){const e=await e_(a),i=e.eventManager;return i.onListen=p2.bind(null,e.syncEngine),i.onUnlisten=_2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=y2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=E2.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="firestore.googleapis.com",E0=!0;class T0{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i_,this.ssl=E0}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:E0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uA)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new zT;switch(s.type){case"firstParty":return new HT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=_0.get(i);s&&(lt("ComponentProvider","Removing Datastore"),_0.delete(i),s.terminate())}(this),Promise.resolve()}}function M2(a,e,i,s={}){var o;a=ps(a,Rc);const h=dd(e),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),v=`${e}:${i}`;h&&(mE(`https://${v}`),vE("Firestore",!0)),d.host!==i_&&d.host!==v&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:s});if(!tc(_,g)&&(a._setSettings(_),s.mockUserToken)){let b,w;if(typeof s.mockUserToken=="string")b=s.mockUserToken,w=Ye.MOCK_USER;else{b=gE(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ye(O)}a._authCredentials=new PT(new Q0(b,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class Re{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Re(this.firestore,e,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(lo(i,Re._jsonSchema))return new Re(e,s||null,new mt(ee.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:Ee("string",Re._jsonSchemaVersion),referencePath:Ee("string")};class pr extends va{constructor(e,i,s){super(e,i,bd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Re(this.firestore,null,new mt(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function hr(a,e,...i){if(a=ha(a),K0("collection","path",e),a instanceof Rc){const s=ee.fromString(e,...i);return Oy(s),new pr(a,null,s)}{if(!(a instanceof Re||a instanceof pr))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(e,...i));return Oy(s),new pr(a.firestore,null,s)}}function Hl(a,e,...i){if(a=ha(a),arguments.length===1&&(e=pd.newId()),K0("doc","path",e),a instanceof Rc){const s=ee.fromString(e,...i);return Iy(s),new Re(a,null,new mt(s))}{if(!(a instanceof Re||a instanceof pr))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(e,...i));return Iy(s),new Re(a.firestore,a instanceof pr?a.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="AsyncQueue";class A0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new zv(this,"async_queue_retry"),this.oc=()=>{const s=Pf();s&&lt(b0,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const i=Pf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=Pf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new ua;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!xs(e))throw e;lt(b0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Mi("INTERNAL UNHANDLED ERROR: ",S0(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(e,i,s){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=Ud.createAndSchedule(this,e,i,s,h=>this.lc(h));return this.ec.push(o),o}ac(){this.tc&&_t(47125,{hc:S0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function S0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1}(a,["next","error","complete"])}class so extends Rc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new A0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A0(e),this._firestoreClient=void 0,await e}}}function k2(a,e){const i=typeof a=="object"?a:CT(),s=typeof a=="string"?a:rc,o=AT(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=fE("firestore");h&&M2(o,...h)}return o}function r_(a){if(a._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||U2(a),a._firestoreClient}function U2(a){var e,i,s;const o=a._freezeSettings(),h=function(g,v,_,b){return new ab(g,v,_,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,n_(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new V2(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(qe.fromBase64String(e))}catch(i){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lo(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:Ee("string",Cn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(lo(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:Ee("string",ri._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lo(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ai(e.vectorValues);throw new ot(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Ee("string",ai._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=/^__.*__$/;class L2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,i,this.fieldTransforms):new oo(e,this.data,i,this.fieldTransforms)}}function s_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ec:a})}}class qd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new qd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return dc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(s_(this.Ec)&&j2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class z2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ac(e)}Dc(e,i,s,o=!1){return new qd({Ec:e,methodName:i,bc:s,path:Be.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l_(a){const e=a._freezeSettings(),i=Ac(a._databaseId);return new z2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function P2(a,e,i,s,o,h={}){const d=a.Dc(h.merge||h.mergeFields?2:0,e,i,o);c_("Data must be an object, but it was:",d,s);const g=o_(s,d);let v,_;if(h.merge)v=new kn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const w of h.mergeFields){const O=q2(e,w,i);if(!d.contains(O))throw new ot(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);G2(b,O)||b.push(O)}v=new kn(b),_=d.fieldTransforms.filter(w=>v.covers(w.field))}else v=null,_=d.fieldTransforms;return new L2(new xn(g),v,_)}function B2(a,e,i,s=!1){return Hd(i,a.Dc(s?4:3,e))}function Hd(a,e){if(u_(a=ha(a)))return c_("Unsupported field value:",e,a),o_(a,e);if(a instanceof a_)return function(s,o){if(!s_(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let v=Hd(g,o.yc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=ha(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Cb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ne.fromDate(s);return{timestampValue:uc(o.serializer,h)}}if(s instanceof ne){const h=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uc(o.serializer,h)}}if(s instanceof ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cn)return{bytesValue:Cv(o.serializer,s._byteString)};if(s instanceof Re){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:xd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ai)return function(d,g){return{mapValue:{fields:{[iv]:{stringValue:rv},[ac]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.wc("VectorValues must only contain numeric values.");return Ad(g.serializer,_)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${mc(s)}`)}(a,e)}function o_(a,e){const i={};return $0(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(a,(s,o)=>{const h=Hd(o,e.Vc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function u_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof ri||a instanceof Cn||a instanceof Re||a instanceof a_||a instanceof ai)}function c_(a,e,i){if(!u_(i)||!X0(i)){const s=mc(i);throw s==="an object"?e.wc(a+" a custom object"):e.wc(a+" "+s)}}function q2(a,e,i){if((e=ha(e))instanceof Bd)return e._internalPath;if(typeof e=="string")return h_(a,e);throw dc("Field path arguments must be of type string or ",a,!1,void 0,i)}const H2=new RegExp("[~\\*/\\[\\]]");function h_(a,e,i){if(e.search(H2)>=0)throw dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Bd(...e.split("."))._internalPath}catch{throw dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function dc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new ot(X.INVALID_ARGUMENT,g+a+v)}function G2(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Gd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class F2 extends f_{data(){return super.data()}}function Gd(a,e){return typeof e=="string"?h_(a,e):e instanceof Bd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fd{}class d_ extends Fd{}function qu(a,e,...i){let s=[];e instanceof Fd&&s.push(e),s=s.concat(i),function(h){const d=h.filter(v=>v instanceof Yd).length,g=h.filter(v=>v instanceof Qd).length;if(d>1||d>0&&g>0)throw new ot(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class Qd extends d_{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Qd(e,i,s)}_apply(e){const i=this._parse(e);return m_(e._query,i),new va(e.firestore,e.converter,td(e._query,i))}_parse(e){const i=l_(e.firestore);return function(h,d,g,v,_,b,w){let O;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ot(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){x0(w,b);const J=[];for(const st of w)J.push(R0(v,h,st));O={arrayValue:{values:J}}}else O=R0(v,h,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||x0(w,b),O=B2(g,d,w,b==="in"||b==="not-in");return _e.create(_,b,O)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Yd extends Fd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Yd(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Un.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const v of g)m_(d,v),d=td(d,v)}(e._query,i),new va(e.firestore,e.converter,td(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kd extends d_{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Kd(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new ot(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new io(h,d)}(e._query,this._field,this._direction);return new va(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Cs(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function Hu(a,e="asc"){const i=e,s=Gd("orderBy",a);return Kd._create(s,i)}function R0(a,e,i){if(typeof(i=ha(i))=="string"){if(i==="")throw new ot(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fv(e)&&i.indexOf("/")!==-1)throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ee.fromString(i));if(!mt.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return By(a,new mt(s))}if(i instanceof Re)return By(a,i._key);throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mc(i)}.`)}function x0(a,e){if(!Array.isArray(a)||a.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function m_(a,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ot(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Y2{convertValue(e,i="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ma(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[ac].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>de(d.doubleValue));return new ai(h)}convertGeoPoint(e){return new ri(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=yc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(to(e));default:return null}}convertTimestamp(e){const i=_r(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);Ht(Mv(s),9688,{name:e});const o=new eo(s.get(1),s.get(3)),h=new mt(s.popFirst(5));return o.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class Gl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends f_{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Gd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Ee("string",ca._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class Ju extends ca{data(e={}){return super.data(e)}}class vs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Ju(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const v=new Ju(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Gl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Ju(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Gl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:X2(g.type),doc:v,oldIndex:_,newIndex:b}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:a})}}vs._jsonSchemaVersion="firestore/querySnapshot/1.0",vs._jsonSchema={type:Ee("string",vs._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class g_ extends Y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function Gu(a){return p_(ps(a.firestore,so),[new Sd(a._key,ni.none())])}function Fu(a,e){const i=ps(a.firestore,so),s=Hl(a),o=K2(a.converter,e);return p_(i,[P2(l_(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,ni.exists(!1))]).then(()=>s)}function Qu(a,...e){var i,s,o;a=ha(a);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||w0(e[d])||(h=e[d++]);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(w0(e[d])){const w=e[d];e[d]=(i=w.next)===null||i===void 0?void 0:i.bind(w),e[d+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[d+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let v,_,b;if(a instanceof Re)_=ps(a.firestore,so),b=bd(a._key.path),v={next:w=>{e[d]&&e[d](Z2(_,a,w))},error:e[d+1],complete:e[d+2]};else{const w=ps(a,va);_=ps(w.firestore,so),b=w._query;const O=new g_(_);v={next:G=>{e[d]&&e[d](new vs(_,O,w,G))},error:e[d+1],complete:e[d+2]},Q2(a._query)}return function(O,G,J,st){const K=new N2(st),rt=new h2(G,K,J);return O.asyncQueue.enqueueAndForget(async()=>l2(await v0(O),rt)),()=>{K.Ou(),O.asyncQueue.enqueueAndForget(async()=>o2(await v0(O),rt))}}(r_(_),b,g,v)}function p_(a,e){return function(s,o){const h=new ua;return s.asyncQueue.enqueueAndForget(async()=>T2(await O2(s),o,h)),h.promise}(r_(a),e)}function Z2(a,e,i){const s=i.docs.get(e._key),o=new g_(a);return new ca(a,o,e._key,s,new Gl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){ws=o})(xT),nc(new $l("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new so(new BT(s.getProvider("auth-internal")),new GT(d,s.getProvider("app-check-internal")),function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eo(_.options.projectId,b)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),gs(xy,Cy,e),gs(xy,Cy,"esm2017")})();const $2=({className:a})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),J2=({className:a})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),qf=({className:a})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),Fl=({className:a})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),W2=({className:a})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,viewBox:"0 0 24 24",fill:"currentColor",children:x.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.519 1.36h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),tS=({className:a})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),y_=({className:a})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),eS=({className:a})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),v_=a=>{let i=a.replace(/[^a-zA-Z0-9]/g,"").toUpperCase().slice(0,7);return i.length>3&&(i=`${i.slice(0,3)}-${i.slice(3)}`),i},nS=({isOpen:a,onClose:e,onAddDriver:i})=>{const[s,o]=Ot.useState(""),h=async()=>{s.trim()&&await i(s.trim())&&(o(""),e())};return a?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",onClick:e,children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",onClick:d=>d.stopPropagation(),children:[x.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Adicionar Novo Motorista"}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"modal-new-driver",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Nome do Motorista"}),x.jsx("input",{type:"text",id:"modal-new-driver",value:s,onChange:d=>o(d.target.value),placeholder:"Nome completo",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",autoFocus:!0})]}),x.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[x.jsx("button",{type:"button",onClick:e,className:"py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Cancelar"}),x.jsx("button",{type:"button",onClick:h,className:"py-2 px-4 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-800",children:"Adicionar"})]})]})}):null},iS=({isOpen:a,onClose:e,onAddVehicle:i})=>{const[s,o]=Ot.useState(""),h=async()=>{s.trim()&&await i(s.trim())&&(o(""),e())};return a?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",onClick:e,children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",onClick:d=>d.stopPropagation(),children:[x.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Adicionar Novo Veículo"}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"modal-new-vehicle",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Nome do Veículo"}),x.jsx("input",{type:"text",id:"modal-new-vehicle",value:s,onChange:d=>o(d.target.value),placeholder:"Nome do veículo",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",autoFocus:!0})]}),x.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[x.jsx("button",{type:"button",onClick:e,className:"py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Cancelar"}),x.jsx("button",{type:"button",onClick:h,className:"py-2 px-4 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-800",children:"Adicionar"})]})]})}):null},rS=({isOpen:a,onClose:e,onAddPlate:i})=>{const[s,o]=Ot.useState(""),h=g=>{const v=g.target.value;o(v_(v))},d=async()=>{s.replace(/[^a-zA-Z0-9]/g,"").length===7?await i(s.trim())&&(o(""),e()):alert("A placa deve ter exatamente 7 caracteres (3 letras + 4 números).")};return a?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",onClick:e,children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",onClick:g=>g.stopPropagation(),children:[x.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Adicionar Nova Placa"}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"modal-new-plate",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Número da Placa"}),x.jsx("input",{type:"text",id:"modal-new-plate",value:s,onChange:h,placeholder:"ABC-1234 (7 caracteres)",maxLength:8,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",autoFocus:!0})]}),x.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[x.jsx("button",{type:"button",onClick:e,className:"py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Cancelar"}),x.jsx("button",{type:"button",onClick:d,disabled:s.replace(/[^a-zA-Z0-9]/g,"").length!==7,className:"py-2 px-4 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Adicionar"})]})]})}):null},aS=({drivers:a,vehicles:e,plates:i,onAddTrip:s,onAddDriver:o,onRemoveDriver:h,onAddVehicle:d,onRemoveVehicle:g,onAddPlate:v,onRemovePlate:_})=>{const b=()=>{const it=new Date;return it.setMinutes(it.getMinutes()-it.getTimezoneOffset()),it.toISOString().slice(0,16)},[w,O]=Ot.useState({driver:"",vehicle:"",plate:"",km:"",origin:"",destination:"",departureTime:b()}),[G,J]=Ot.useState(!1),[st,K]=Ot.useState(!1),[rt,ut]=Ot.useState(!1),[ft,St]=Ot.useState(!1),[yt,Nt]=Ot.useState(!1),[M,A]=Ot.useState([{id:"1",text:"Verificar combustível",checked:!1},{id:"2",text:"Verificar pneus",checked:!1},{id:"3",text:"Verificar óleo",checked:!1},{id:"4",text:"Documentos do veículo",checked:!1},{id:"5",text:"CNH do motorista",checked:!1},{id:"6",text:"Rota planejada",checked:!1},{id:"7",text:"Meios de comunicação",checked:!1}]),[R,N]=Ot.useState("");Ot.useEffect(()=>{(!a.some(S=>S.name===w.driver)||!w.driver)&&a.length>0?O(S=>({...S,driver:a[0].name})):a.length===0&&O(S=>({...S,driver:""}))},[a,w.driver]),Ot.useEffect(()=>{(!e.some(S=>S.name===w.vehicle)||!w.vehicle)&&e.length>0?O(S=>({...S,vehicle:e[0].name})):e.length===0&&O(S=>({...S,vehicle:""}))},[e,w.vehicle]),Ot.useEffect(()=>{(!i.some(S=>S.number===w.plate)||!w.plate)&&i.length>0?O(S=>({...S,plate:i[0].number})):i.length===0&&O(S=>({...S,plate:""}))},[i,w.plate]);const V=it=>{const{name:S,value:Q}=it.target;O(S==="km"?nt=>({...nt,km:Q.replace(/\D/g,"")}):S==="plate"?nt=>({...nt,plate:v_(Q)}):nt=>({...nt,[S]:Q}))},k=()=>{if(w.driver){const it=a.find(S=>S.name===w.driver);it&&h(it.id)}},D=()=>{if(w.vehicle){const it=e.find(S=>S.name===w.vehicle);it&&g(it.id)}},Yt=()=>{if(w.plate){const it=i.find(S=>S.number===w.plate);it&&_(it.id)}},W=(it,S)=>{A(Q=>Q.map(nt=>nt.id===it?{...nt,checked:S}:nt))},q=()=>{if(R.trim()){const it={id:Date.now().toString(),text:R.trim(),checked:!1};A(S=>[...S,it]),N("")}},et=it=>{A(S=>S.filter(Q=>Q.id!==it))},ht=it=>{if(it.preventDefault(),!w.driver){alert("Por favor, selecione um motorista. Se não houver nenhum, adicione um primeiro.");return}if(!w.vehicle){alert("Por favor, selecione um veículo. Se não houver nenhum, adicione um primeiro.");return}if(!w.plate){alert("Por favor, selecione uma placa. Se não houver nenhuma, adicione uma primeiro.");return}s({...w,km:Number(w.km),checklist:M}),O(S=>({...S,vehicle:"",plate:"",km:"",origin:"",destination:"",departureTime:b()})),A(S=>S.map(Q=>({...Q,checked:!1})))};return x.jsxs(x.Fragment,{children:[x.jsx(nS,{isOpen:G,onClose:()=>J(!1),onAddDriver:o}),x.jsx(iS,{isOpen:st,onClose:()=>K(!1),onAddVehicle:d}),x.jsx(rS,{isOpen:rt,onClose:()=>ut(!1),onAddPlate:v}),ft&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-80 max-h-96 overflow-y-auto",children:x.jsxs("div",{className:"p-4",children:[x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Checklist de Viagem"}),x.jsx("button",{onClick:()=>Nt(!yt),className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","aria-label":"Editar checklist",children:x.jsx(eS,{className:"w-4 h-4"})})]}),yt&&x.jsx("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:R,onChange:it=>N(it.target.value),placeholder:"Adicionar novo item...",className:"flex-1 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white",onKeyPress:it=>it.key==="Enter"&&q()}),x.jsx("button",{onClick:q,className:"px-2 py-1 text-xs font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700",children:"+"})]})}),x.jsx("div",{className:"space-y-3",children:M.map(it=>x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",id:`checklist-${it.id}`,checked:it.checked,onChange:S=>W(it.id,S.target.checked),className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),x.jsx("label",{htmlFor:`checklist-${it.id}`,className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:it.text})]}),yt&&x.jsx("button",{onClick:()=>et(it.id),className:"p-1 text-red-500 hover:text-red-700","aria-label":"Remover item",children:x.jsx(Fl,{className:"w-3 h-3"})})]},it.id))}),x.jsxs("div",{className:"mt-4 flex justify-between",children:[x.jsx("button",{onClick:()=>St(!1),className:"px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Fechar"}),x.jsx("button",{onClick:()=>{St(!1)},className:"px-3 py-1.5 text-xs font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700",children:"Salvar Checklist"})]})]})})}),x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-8",children:x.jsxs("form",{onSubmit:ht,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"driver",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Motorista"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("select",{id:"driver",name:"driver",value:w.driver,onChange:V,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[a.length===0&&x.jsx("option",{value:"",disabled:!0,children:"Adicione um motorista..."}),a.map(it=>x.jsx("option",{value:it.name,children:it.name},it.id))]}),x.jsx("button",{type:"button",onClick:()=>J(!0),className:"p-2.5 text-primary-600 bg-primary-100 dark:bg-primary-900 dark:text-primary-300 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors flex-shrink-0","aria-label":"Adicionar motorista",children:x.jsx(qf,{className:"w-5 h-5"})}),x.jsx("button",{type:"button",onClick:k,className:"p-2.5 text-red-600 bg-red-100 dark:bg-red-900 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-800 transition-colors flex-shrink-0","aria-label":"Remover motorista",children:x.jsx(Fl,{className:"w-5 h-5"})})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"vehicle",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Veículo"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("select",{id:"vehicle",name:"vehicle",value:w.vehicle,onChange:V,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[e.length===0&&x.jsx("option",{value:"",disabled:!0,children:"Adicione um veículo..."}),e.map(it=>x.jsx("option",{value:it.name,children:it.name},it.id))]}),x.jsx("button",{type:"button",onClick:()=>K(!0),className:"p-2.5 text-primary-600 bg-primary-100 dark:bg-primary-900 dark:text-primary-300 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors flex-shrink-0","aria-label":"Adicionar veículo",children:x.jsx(qf,{className:"w-5 h-5"})}),x.jsx("button",{type:"button",onClick:D,className:"p-2.5 text-red-600 bg-red-100 dark:bg-red-900 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-800 transition-colors flex-shrink-0","aria-label":"Remover veículo",children:x.jsx(Fl,{className:"w-5 h-5"})})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"plate",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Placa"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("select",{id:"plate",name:"plate",value:w.plate,onChange:V,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[i.length===0&&x.jsx("option",{value:"",disabled:!0,children:"Adicione uma placa..."}),i.map(it=>x.jsx("option",{value:it.number,children:it.number},it.id))]}),x.jsx("button",{type:"button",onClick:()=>ut(!0),className:"p-2.5 text-primary-600 bg-primary-100 dark:bg-primary-900 dark:text-primary-300 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors flex-shrink-0","aria-label":"Adicionar placa",children:x.jsx(qf,{className:"w-5 h-5"})}),x.jsx("button",{type:"button",onClick:Yt,className:"p-2.5 text-red-600 bg-red-100 dark:bg-red-900 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-800 transition-colors flex-shrink-0","aria-label":"Remover placa",children:x.jsx(Fl,{className:"w-5 h-5"})})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"km",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"KM"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",pattern:"\\d*",id:"km",name:"km",value:w.km,onChange:V,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 pr-12 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",required:!0}),x.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-500 dark:text-gray-400",children:"KM"})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"departureTime",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Hora da Saída"}),x.jsx("input",{type:"datetime-local",id:"departureTime",name:"departureTime",value:w.departureTime,onChange:V,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:[color-scheme:light]",required:!0})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"origin",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Origem"}),x.jsx("input",{type:"text",id:"origin",name:"origin",value:w.origin,onChange:V,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"destination",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Destino"}),x.jsx("input",{type:"text",id:"destination",name:"destination",value:w.destination,onChange:V,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",required:!0})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"submit",className:"flex-1 text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 transition-colors",children:"Adicionar Viagem"}),x.jsx("button",{type:"button",onClick:()=>St(!0),className:"p-2.5 text-primary-600 bg-primary-100 dark:bg-primary-900 dark:text-primary-300 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors flex-shrink-0","aria-label":"Abrir checklist",children:x.jsx(y_,{className:"w-5 h-5"})})]})]})})]})},sS=({trip:a,onClose:e})=>{if(!a)return null;const s=new Date(a.departureTime).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",onClick:e,children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md max-h-96 overflow-y-auto",onClick:o=>o.stopPropagation(),children:[x.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Detalhes da Viagem"}),x.jsxs("div",{className:"space-y-2 text-gray-800 dark:text-gray-200",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"Motorista:"})," ",a.driver]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Veículo:"})," ",a.vehicle]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Placa:"})," ",a.plate]}),x.jsxs("div",{children:[x.jsx("strong",{children:"KM:"})," ",a.km," KM"]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Origem:"})," ",a.origin]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Destino:"})," ",a.destination]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Data/Hora:"})," ",s]})]}),a.checklist&&a.checklist.length>0&&x.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[x.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Checklist"}),x.jsx("div",{className:"space-y-1",children:a.checklist.map(o=>x.jsxs("div",{className:"flex items-center",children:[x.jsx("span",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${o.checked?"bg-green-500 border-green-500 text-white":"border-gray-300 dark:border-gray-600"}`,children:o.checked&&x.jsx("svg",{className:"w-2 h-2",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),x.jsx("span",{className:`ml-2 text-sm ${o.checked?"text-gray-500 dark:text-gray-400 line-through":"text-gray-700 dark:text-gray-300"}`,children:o.text})]},o.id))})]}),x.jsx("div",{className:"mt-6 flex justify-end",children:x.jsx("button",{type:"button",onClick:e,className:"py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Fechar"})})]})})},lS=({trips:a,drivers:e,vehicles:i,plates:s,onDeleteTrip:o})=>{const[h,d]=Ot.useState(null),[g,v]=Ot.useState(null),[_,b]=Ot.useState(!1),[w,O]=Ot.useState(null),[G,J]=Ot.useState(null),[st,K]=Ot.useState(null),[rt,ut]=Ot.useState({driver:"",vehicle:"",plate:"",date:""}),ft=Ot.useRef(null);Ot.useEffect(()=>{const W=q=>{ft.current&&!ft.current.contains(q.target)&&b(!1)};return _&&document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[_]);const St=W=>{const et=new Date(W.departureTime).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return`*Motorista:* ${W.driver}
*Veículo:* ${W.vehicle}
*Placa:* ${W.plate}
*Km:* ${W.km} KM
*Origem:* ${W.origin}
*Destino:* ${W.destination}
*Data e Hora da Saída:* ${et}`},yt=W=>{const q=St(W).replace(/\*/g,"");navigator.clipboard.writeText(q).then(()=>{d(W.id),setTimeout(()=>d(null),2e3)})},Nt=W=>{const q=St(W),ht=`https://api.whatsapp.com/send?text=${encodeURIComponent(q)}`;window.open(ht,"_blank","noopener,noreferrer")},M=W=>{const q=setTimeout(()=>{K(W)},500);J(q)},A=()=>{G&&(clearTimeout(G),J(null))},R=()=>{G&&(clearTimeout(G),J(null))},N=async W=>{confirm("Tem certeza que deseja excluir esta viagem?")&&(await o(W),K(null))},V=(W,q)=>{ut(et=>({...et,[W]:q}))},k=()=>{ut({driver:"",vehicle:"",plate:"",date:""})},D=a.filter(W=>{const q=!rt.driver||W.driver===rt.driver,et=!rt.vehicle||W.vehicle===rt.vehicle,ht=!rt.plate||W.plate===rt.plate;let it=!0;if(rt.date){const S=new Date(rt.date),Q=new Date(W.departureTime);it=S.getFullYear()===Q.getFullYear()&&S.getMonth()===Q.getMonth()&&S.getDate()===Q.getDate()}return q&&et&&ht&&it}),Yt=rt.driver||rt.vehicle||rt.plate||rt.date;return a.length===0?x.jsxs("div",{className:"text-center py-10 px-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Nenhuma viagem registrada"}),x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Adicione uma nova viagem no formulário acima."})]}):x.jsxs(x.Fragment,{children:[x.jsx(sS,{trip:g,onClose:()=>v(null)}),w&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-80 max-h-96 overflow-y-auto",children:x.jsxs("div",{className:"p-4",children:[x.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:["Checklist - ",w.driver]}),w.checklist&&w.checklist.length>0?x.jsx("div",{className:"space-y-3",children:w.checklist.map(W=>x.jsxs("div",{className:"flex items-center",children:[x.jsx("span",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${W.checked?"bg-green-500 border-green-500 text-white":"border-gray-300 dark:border-gray-600"}`,children:W.checked&&x.jsx("svg",{className:"w-2 h-2",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),x.jsx("span",{className:`ml-2 text-sm ${W.checked?"text-gray-500 dark:text-gray-400 line-through":"text-gray-700 dark:text-gray-300"}`,children:W.text})]},W.id))}):x.jsx("div",{className:"text-center py-4",children:x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nenhum checklist foi preenchido para esta viagem."})}),x.jsx("div",{className:"mt-4 flex justify-end",children:x.jsx("button",{onClick:()=>O(null),className:"px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Fechar"})})]})})}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[x.jsxs("div",{className:"px-4 py-3 sm:px-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[x.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Viagens ",Yt&&`(${D.length} de ${a.length})`]}),x.jsx("div",{className:"relative",children:x.jsx("button",{onClick:()=>b(!_),className:`p-2 rounded-md transition-colors ${Yt?"text-primary-600 bg-primary-100 dark:bg-primary-900 dark:text-primary-400":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,"aria-label":"Filtrar viagens",children:x.jsx(tS,{className:"w-5 h-5"})})})]}),x.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:D.map(W=>x.jsxs("li",{className:`flex items-center justify-between px-4 py-3 sm:px-6 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors relative ${st===W.id?"bg-red-50 dark:bg-red-900/20":""}`,onClick:()=>v(W),onMouseDown:()=>M(W.id),onMouseUp:A,onMouseLeave:R,onTouchStart:()=>M(W.id),onTouchEnd:A,children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-base",children:W.driver}),x.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[W.vehicle," • ",W.destination]}),x.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:[new Date(W.departureTime).toLocaleDateString("pt-BR")," ",new Date(W.departureTime).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),st===W.id?x.jsxs("div",{className:"flex items-center gap-2 ml-2",onClick:q=>q.stopPropagation(),children:[x.jsx("button",{onClick:()=>N(W.id),className:"font-medium rounded-md p-2 transition-all duration-200 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20","aria-label":"Excluir viagem",children:x.jsx(Fl,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>K(null),className:"font-medium rounded-md p-2 transition-all duration-200 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Cancelar exclusão",children:"✕"})]}):x.jsxs("div",{className:"flex items-center gap-2 ml-2",onClick:q=>q.stopPropagation(),children:[W.checklist&&W.checklist.length>0&&x.jsx("button",{onClick:()=>O(W),className:"font-medium rounded-md p-2 transition-all duration-200 text-orange-600 dark:text-orange-400 hover:bg-orange-100 dark:hover:bg-gray-700","aria-label":"Ver checklist da viagem",children:x.jsx(y_,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>yt(W),className:`font-medium rounded-md p-2 transition-all duration-200 ${h===W.id?"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300":"text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-gray-700"}`,"aria-label":"Copiar dados da viagem",children:h===W.id?x.jsx("span",{className:"flex items-center gap-1",children:x.jsx(J2,{className:"w-5 h-5"})}):x.jsx("span",{className:"flex items-center gap-1",children:x.jsx($2,{className:"w-5 h-5"})})}),x.jsx("button",{onClick:()=>Nt(W),className:"font-medium rounded-md p-2 transition-all duration-200 text-[#25D366] hover:bg-green-100 dark:hover:bg-gray-700","aria-label":"Compartilhar no WhatsApp",children:x.jsx("span",{className:"flex items-center gap-1",children:x.jsx(W2,{className:"w-7 h-7"})})})]})]},W.id))}),D.length===0&&a.length>0&&x.jsx("div",{className:"text-center py-8 px-6",children:x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nenhuma viagem encontrada com os filtros aplicados."})})]}),_&&x.jsx("div",{ref:ft,className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-80 max-h-96 overflow-y-auto",children:x.jsxs("div",{className:"p-4",children:[x.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Filtrar Viagens"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"filter-driver",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Motorista"}),x.jsxs("select",{id:"filter-driver",value:rt.driver,onChange:W=>V("driver",W.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[x.jsx("option",{value:"",children:"Todos os motoristas"}),e.map(W=>x.jsx("option",{value:W.name,children:W.name},W.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"filter-vehicle",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Veículo"}),x.jsxs("select",{id:"filter-vehicle",value:rt.vehicle,onChange:W=>V("vehicle",W.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[x.jsx("option",{value:"",children:"Todos os veículos"}),i.map(W=>x.jsx("option",{value:W.name,children:W.name},W.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"filter-plate",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Placa"}),x.jsxs("select",{id:"filter-plate",value:rt.plate,onChange:W=>V("plate",W.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[x.jsx("option",{value:"",children:"Todas as placas"}),s.map(W=>x.jsx("option",{value:W.number,children:W.number},W.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"filter-date",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data"}),x.jsx("input",{type:"datetime-local",id:"filter-date",value:rt.date,onChange:W=>V("date",W.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:[color-scheme:light]"})]})]}),x.jsxs("div",{className:"mt-4 flex justify-between",children:[x.jsx("button",{onClick:k,className:"px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Limpar Filtros"}),x.jsx("button",{onClick:()=>b(!1),className:"px-3 py-1.5 text-xs font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700",children:"Fechar"})]})]})})})]})};var oS="firebase",uS="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(oS,uS,"app");const cS={apiKey:"AIzaSyD_XuFAVxqjFeN6tRzrPAxCDN8BaTmH7kw",authDomain:"kmrodado-1b15e.firebaseapp.com",projectId:"kmrodado-1b15e",storageBucket:"kmrodado-1b15e.firebasestorage.app",messagingSenderId:"846616835715",appId:"1:846616835715:web:1e379d474619f956c30db6",measurementId:"G-H2X1M0E2LL"},hS=U0(cS),Rn=k2(hS);function fS(){const[a,e]=Ot.useState([]),[i,s]=Ot.useState([]),[o,h]=Ot.useState([]),[d,g]=Ot.useState([]);Ot.useEffect(()=>{const K=qu(hr(Rn,"drivers"),Hu("name")),rt=Qu(K,A=>{const R=[];A.forEach(N=>{R.push({id:N.id,name:N.data().name})}),e(R)}),ut=qu(hr(Rn,"vehicles"),Hu("name")),ft=Qu(ut,A=>{const R=[];A.forEach(N=>{R.push({id:N.id,name:N.data().name})}),s(R)}),St=qu(hr(Rn,"plates"),Hu("number")),yt=Qu(St,A=>{const R=[];A.forEach(N=>{R.push({id:N.id,number:N.data().number})}),h(R)}),Nt=qu(hr(Rn,"trips"),Hu("departureTime","desc")),M=Qu(Nt,A=>{const R=A.docs.map(N=>{const V=N.data(),k=V.departureTime,D=k&&typeof k.toDate=="function"?k.toDate().toISOString():String(new Date),Yt={id:N.id,driver:V.driver||"",vehicle:V.vehicle||"",plate:V.plate||"",km:V.km||0,origin:V.origin||"",destination:V.destination||"",departureTime:D,checklist:V.checklist||[]};return Yt.checklist&&Yt.checklist.length>0&&console.log("Trip with checklist loaded:",Yt.id,Yt.checklist),Yt});g(R)});return()=>{rt(),ft(),yt(),M()}},[]);const v=Ot.useCallback(async K=>{try{console.log("Saving trip with checklist:",K),await Fu(hr(Rn,"trips"),{...K,departureTime:new Date(K.departureTime)})}catch(rt){console.error("Error adding trip: ",rt),alert("Falha ao adicionar viagem.")}},[]),_=Ot.useCallback(async K=>{try{await Gu(Hl(Rn,"trips",K))}catch(rt){console.error("Error deleting trip: ",rt),alert("Falha ao excluir viagem.")}},[]),b=Ot.useCallback(async K=>{const rt=K.trim();if(rt&&!a.find(ut=>ut.name.toLowerCase()===rt.toLowerCase()))try{return await Fu(hr(Rn,"drivers"),{name:rt}),!0}catch(ut){return console.error("Error adding driver: ",ut),alert("Falha ao adicionar motorista."),!1}return alert("Motorista já existe ou o nome é inválido."),!1},[a]),w=Ot.useCallback(async K=>{if(a.length<=1){alert("É necessário ter pelo menos um motorista.");return}try{await Gu(Hl(Rn,"drivers",K))}catch(rt){console.error("Error removing driver: ",rt),alert("Falha ao remover motorista.")}},[a.length]),O=Ot.useCallback(async K=>{const rt=K.trim();if(rt&&!i.find(ut=>ut.name.toLowerCase()===rt.toLowerCase()))try{return await Fu(hr(Rn,"vehicles"),{name:rt}),!0}catch(ut){return console.error("Error adding vehicle: ",ut),alert("Falha ao adicionar veículo."),!1}return alert("Veículo já existe ou o nome é inválido."),!1},[i]),G=Ot.useCallback(async K=>{if(i.length<=1){alert("É necessário ter pelo menos um veículo.");return}try{await Gu(Hl(Rn,"vehicles",K))}catch(rt){console.error("Error removing vehicle: ",rt),alert("Falha ao remover veículo.")}},[i.length]),J=Ot.useCallback(async K=>{const rt=K.trim();if(rt&&!o.find(ut=>ut.number.toLowerCase()===rt.toLowerCase()))try{return await Fu(hr(Rn,"plates"),{number:rt}),!0}catch(ut){return console.error("Error adding plate: ",ut),alert("Falha ao adicionar placa."),!1}return alert("Placa já existe ou o número é inválido."),!1},[o]),st=Ot.useCallback(async K=>{if(o.length<=1){alert("É necessário ter pelo menos uma placa.");return}try{await Gu(Hl(Rn,"plates",K))}catch(rt){console.error("Error removing plate: ",rt),alert("Falha ao remover placa.")}},[o.length]);return x.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[x.jsxs("header",{className:"text-center mb-10",children:[x.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-gray-800 dark:text-white tracking-tight",children:"Controle de Viagens Kalfritec"}),x.jsx("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-400",children:"Gerencie os registros de viagens por KM."})]}),x.jsxs("main",{children:[x.jsx(aS,{drivers:a,vehicles:i,plates:o,onAddTrip:v,onAddDriver:b,onRemoveDriver:w,onAddVehicle:O,onRemoveVehicle:G,onAddPlate:J,onRemovePlate:st}),x.jsx(lS,{trips:d,drivers:a,vehicles:i,plates:o,onDeleteTrip:_})]}),x.jsx("footer",{className:"text-center mt-12 py-4",children:x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Desenvolvido por Alysson Krombauer"})})]})}const __=document.getElementById("root");if(!__)throw new Error("Could not find root element to mount to");const dS=eE.createRoot(__);dS.render(x.jsx(Y1.StrictMode,{children:x.jsx(fS,{})}));
